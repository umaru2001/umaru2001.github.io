<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>CS144 Lab（2）：TCP 的发送和接收</title>
      <link href="/2025/02/15/standford-cs144-2/"/>
      <url>/2025/02/15/standford-cs144-2/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><blockquote><p>前景提要<br>在 lab0 中，我们实现了流控制字节流 <code>ByteStream</code>。<br>在 lab1 中，我们创建了一个模块 <code>StreamReassembler</code>，该模块接受一系列从同一字节流中提取的子字符串，并将它们重新填充回 <code>ByteStream</code>，同时将其内存消耗限制在给定的容量 capacity。</p></blockquote><p>现在，在 lab2 中，你将实现 TCP 中处理入站字节流的部分：<code>TCPReceiver</code>。在编写<code>StreamReassembler</code> 和 <code>ByteStream</code> 时，你已经完成了其中大部分的「算法」工作。<code>TCPReceiver</code> 主要的逻辑是如何将这些类连接到 TCP 格式。</p><p>在 lab3 中，你将实现连接的另一端 <code>TCPSender</code>：一个将出站字节流转换为不可靠数据报中发送段的工具。它负责读取 <code>ByTestStream</code>（由某些发送方应用程序创建并写入），并将流转换为一系列传出 TCP Segment。</p><h2 id="lab2-TCPReceiver"><a href="#lab2-TCPReceiver" class="headerlink" title="lab2: TCPReceiver"></a>lab2: TCPReceiver</h2><h3 id="1-1-序列号"><a href="#1-1-序列号" class="headerlink" title="1.1 序列号"></a>1.1 序列号</h3><h4 id="1-1-1-概念"><a href="#1-1-1-概念" class="headerlink" title="1.1.1 概念"></a>1.1.1 概念</h4><p>实际上我们绝大多数人进入 lab2 就会被这张表格糊脸：</p><table><thead><tr><th>Sequence Numbers</th><th>Absolute Sequence Numbers</th><th>Stream Indices</th></tr></thead><tbody><tr><td>Start at the ISN</td><td>Start at 0</td><td>Start at 0</td></tr><tr><td>Include SYN&#x2F;FIN</td><td>Include SYN&#x2F;FIN</td><td>Omit SYN&#x2F;FIN</td></tr><tr><td>32 bits, wrapping</td><td>64 bits, non-wrapping</td><td>64 bits, non-wrapping</td></tr><tr><td>“seqno”</td><td>“absolute seqno”</td><td>“stream index”</td></tr></tbody></table><h4 id="1-1-2-推导-＆-转换逻辑"><a href="#1-1-2-推导-＆-转换逻辑" class="headerlink" title="1.1.2 推导 ＆ 转换逻辑"></a>1.1.2 推导 ＆ 转换逻辑</h4><p>TCP 的序列号是 32 位的，可能会因为回绕 (wrap around) 的问题，所以需要将其转换为一个更大的数值空间，也就是 absolute_seqno。而 checkpoint 的作用是作为一个参考点，帮助确定最接近的 absolute_seqno 值。也就是说，当多个可能的 absolute_seqno 可能对应同一个 32 位的 seqno 时，选择离 checkpoint 最近的那个。</p><h4 id="1-1-3-与-TCPReceiver-的联系"><a href="#1-1-3-与-TCPReceiver-的联系" class="headerlink" title="1.1.3 与 TCPReceiver 的联系"></a>1.1.3 与 TCPReceiver 的联系</h4><p>那在 TCPReceiver 的 receiver_segment() 中，什么时候需要调用这个 unwrap 函数呢？</p><p>是在处理接收到的 TCP 段的序列号时，需要将其转换为绝对序列号，以便确定数据的位置。例如，当收到一个数据包时，里面的 seqno 是 32 位的，我们需要知道它在整个字节流中的绝对位置，这样才能正确重组数据。</p><p>此时我们已经有了核心方法：</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">auto</span> absolute_seqno <span class="token operator">=</span> <span class="token function">unwrap</span><span class="token punctuation">(</span>seg<span class="token punctuation">.</span><span class="token function">header</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>seqno<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token operator">-></span>_isn<span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">/* 未知 checkpoint */</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>在调用 unwrap 的时候，应该把第三个参数 checkpoint 设置为什么值？</p><p>我们先明确一个结论：checkpoint 值的设立，是为了确保 <code>segment_received()</code> 获取到的 <code>seqno</code> 转为的 <code>absolute_seqno</code>，符合预期。进一步地说，它能被转为正确的 <code>absolute_seqno</code> 而不是 <code>absolute_seqno - n*2^32</code> 亦或者是 <code>absolute_seqno + n*2^32</code>。因为 checkpoint 值的不同，导致的转化出现不符合预期的情况，就是转化出来的 <code>absolute_seqno</code> 多出或者少了若干个 2^32 的量级。</p><p>我们来直观表示一下。假设我们有三个 2^32 的区间 ，checkpoint 在 (2^32, 2*2^32) 这个区间范围内，我们可以这样表示当前的区间：</p><pre class="line-numbers language-text" data-language="text"><code class="language-text">0, ..., 2^32, ..., [checkpoint], ..., 2*2^32, ..., 3*2^32<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>一个 <code>seqno</code> 为 1 的 segment 片段，它有可能被分配到区间内的 <code>1</code>，也有可能被分配到 <code>1+2^32</code> 或者 <code>1+2*2^32</code> 这两个地方。我们站外设计者的视角来看当然希望它转换后的 <code>absolute_seqno</code> 也是 <code>1</code>. 但很可惜，它最终得到的值是 <code>1+2^32</code> 或者 <code>1+2*2^32</code>，因为它们离 checkpoint 更近。具体结果是什么则要取决于它是否离 checkpoint 更加接近了。</p><p>从直观上，离 checkpoint 近的 <code>seqno</code> 才更不容易出错。实际上，它拥有一个十分明确的「边界」，在边界内的 <code>seqno</code> 转换后，一定不会出错。在边界外的 <code>seqno</code> 转换后，一定会出错。我们进一步讨论这个「边界」的范围：</p><p>假定 checkpoint 为 <code>2+2^32</code>，那么它的「边界」是这个样子：</p><pre class="line-numbers language-text" data-language="text"><code class="language-text">0, ..., [下边界: 3+2^31], ..., 2^32, ..., [checkpoint: 2+2^32], ..., [上边界: 1+2^32+2^31], ..., 2*2^32, ..., 3*2^32<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>是一个：<strong>以 checkpoint 为中心，大小为 2^32-1 的区间</strong>。</p><p>所以 checkpoint 是什么值，就转化为了：「区间」的中心值是什么值，才能让 <code>seqno</code> 的值尽可能地落在这个区间内。</p><p>也可以等价于，是否能找到一个区间，到达 TCP 接收端的 segment 片段中的 <code>seqno</code> 尽可能落在这个区间。</p><p>当然这个问题实际上我们现在仍然难以证明（笔者写到这里也不知道后续的章节是否会证明这个问题，哈哈哈）所以我们抛出结论：</p><p><strong>checkpoint 的正确取值应为当前接收方期望的下一个字节的绝对序列号，即已成功重组并写入字节流（ByteStream）的字节数量。</strong>具体来说：</p><p>checkpoint 是 <code>stream_out().bytes_written()</code>，即已写入的字节数。</p><ul><li><code>absolute_seqno</code> 从 0 开始计数，每个字节对应一个绝对序列号。例如，第一个字节为 0，第二个为 1，依此类推。</li><li>若已成功重组并写入 k 个字节（<code>stream_out().bytes_written()</code> &#x3D;&#x3D; k），则下一个期望的字节的 <code>absolute_seqno</code> 是 k。</li><li>使用 k 作为 checkpoint，unwrap 会选择最接近 k 的合法 <code>absolute_seqno</code>，确保正确处理序列号回绕。到达 TCP 接收端的 segment 片段中的 <code>seqno</code> 尽可能落在了以 <code>absolute_seqno</code> 为中心，长度为 2^32-1 的区间。</li></ul><p>是不是听着好像也还挺合理的… 和现实中对应，2^32 已经是 4.295GB 大小了。以我们对于 TCP 的控制来说，传输应该不会乱成这个样子吧。康宇的博客也有这样的描述：</p><blockquote><p>但几乎不可能出现相邻到达的两个 segment 序号差值超过 <code>INT32_MAX</code> 的情况，除非延迟以年为单位，或者产生了比特差错（后面的 LAB 可能涉及）。</p></blockquote><p>我们现在不再纠结，然后处理出来应该是这样：</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">auto</span> absolute_seqno <span class="token operator">=</span> <span class="token function">unwrap</span><span class="token punctuation">(</span>seg<span class="token punctuation">.</span><span class="token function">header</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>seqno<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token operator">-></span>_isn<span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">stream_out</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">bytes_written</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>当然在我的项目中，我新增了一个方法获取 <code>StreamReassembler</code> 中的 <code>_first_disassembled_index</code>：</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">size_t <span class="token class-name">StreamReassembler</span><span class="token double-colon punctuation">::</span><span class="token function">first_disassembled_index</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token operator">-></span>_first_disassembled_index<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>它和 <code>stream_out().bytes_written()</code> 实际上是同一个值。这一点就不再展开。</p><h3 id="1-2-实现"><a href="#1-2-实现" class="headerlink" title="1.2 实现"></a>1.2 实现</h3><p><code>tcp_receiver.hh</code></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">TCPReceiver</span> <span class="token punctuation">&#123;</span>    <span class="token comment">//! Our data structure for re-assembling bytes.</span>    StreamReassembler _reassembler<span class="token punctuation">;</span>    <span class="token comment">//! The maximum number of bytes we'll store.</span>    size_t _capacity<span class="token punctuation">;</span>    std<span class="token double-colon punctuation">::</span>optional<span class="token operator">&lt;</span>WrappingInt32<span class="token operator">></span> _ackno<span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    std<span class="token double-colon punctuation">::</span>optional<span class="token operator">&lt;</span>WrappingInt32<span class="token operator">></span> _isn<span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    <span class="token keyword">void</span> <span class="token function">_update_ackno</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>tcp_receiver.cc</code></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token class-name">TCPReceiver</span><span class="token double-colon punctuation">::</span><span class="token function">segment_received</span><span class="token punctuation">(</span><span class="token keyword">const</span> TCPSegment <span class="token operator">&amp;</span>seg<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token operator">-></span>_isn<span class="token punctuation">.</span><span class="token function">has_value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>seg<span class="token punctuation">.</span><span class="token function">header</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>syn<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">this</span><span class="token operator">-></span>_isn <span class="token operator">=</span> seg<span class="token punctuation">.</span><span class="token function">header</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>seqno<span class="token punctuation">;</span>            <span class="token keyword">this</span><span class="token operator">-></span>_reassembler<span class="token punctuation">.</span><span class="token function">push_substring</span><span class="token punctuation">(</span>seg<span class="token punctuation">.</span><span class="token function">payload</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">copy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> seg<span class="token punctuation">.</span><span class="token function">header</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>fin<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">this</span><span class="token operator">-></span><span class="token function">_update_ackno</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">auto</span> absolute_seqno <span class="token operator">=</span> <span class="token function">unwrap</span><span class="token punctuation">(</span>seg<span class="token punctuation">.</span><span class="token function">header</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>seqno<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token operator">-></span>_isn<span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token operator">-></span>_reassembler<span class="token punctuation">.</span><span class="token function">first_disassembled_index</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// absolute_seqno（绝对序列号）已经包含了一个 syn，因此需要 -1 才能得到正确的起始索引</span>    <span class="token comment">// 如果这个地方已经收到 fin 了，并且绝对序列号大于 fin，那么就要 -2</span>    <span class="token comment">// 但我们实际上在绝对序列号大于 fin 的时候在 push_string 内部就会被抛弃掉，因此不必这么做，直接优化成 -1</span>    <span class="token keyword">this</span><span class="token operator">-></span>_reassembler<span class="token punctuation">.</span><span class="token function">push_substring</span><span class="token punctuation">(</span>seg<span class="token punctuation">.</span><span class="token function">payload</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">copy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> absolute_seqno <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> seg<span class="token punctuation">.</span><span class="token function">header</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>fin<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token operator">-></span><span class="token function">_update_ackno</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>optional<span class="token operator">&lt;</span>WrappingInt32<span class="token operator">></span> <span class="token class-name">TCPReceiver</span><span class="token double-colon punctuation">::</span><span class="token function">ackno</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">&#123;</span> <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token operator">-></span>_ackno<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>size_t <span class="token class-name">TCPReceiver</span><span class="token double-colon punctuation">::</span><span class="token function">window_size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">&#123;</span> <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token operator">-></span>_capacity <span class="token operator">-</span> <span class="token keyword">this</span><span class="token operator">-></span>_reassembler<span class="token punctuation">.</span><span class="token function">stream_out</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">buffer_size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">TCPReceiver</span><span class="token double-colon punctuation">::</span><span class="token function">_update_ackno</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-></span><span class="token function">stream_out</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">input_ended</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token operator">-></span>_ackno <span class="token operator">=</span> <span class="token function">wrap</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-></span>_reassembler<span class="token punctuation">.</span><span class="token function">first_disassembled_index</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token operator">-></span>_isn<span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-></span>_isn<span class="token punctuation">.</span><span class="token function">has_value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token operator">-></span>_ackno <span class="token operator">=</span> <span class="token function">wrap</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-></span>_reassembler<span class="token punctuation">.</span><span class="token function">first_disassembled_index</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token operator">-></span>_isn<span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="lab3-TCPSender"><a href="#lab3-TCPSender" class="headerlink" title="lab3: TCPSender"></a>lab3: TCPSender</h2>]]></content>
      
      
      <categories>
          
          <category> 装逼 </category>
          
          <category> CS144 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Network </tag>
            
            <tag> Lab </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CS144 Lab（1）：启动</title>
      <link href="/2025/02/04/stanford-cs144/"/>
      <url>/2025/02/04/stanford-cs144/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>CS144 是斯坦福大学的经典计算机网络课程（全称 Introduction to Computer Networks）以动手实现网络协议著称，实验项目包括：</p><ol><li><p>网络调试工具：使用 <code>tcpdump</code> 和 <code>Wireshark</code> 分析网络流量。</p></li><li><p>可靠数据传输协议：实现滑动窗口协议（类似 TCP 的简化版）。</p></li><li><p>路由协议模拟：编写路由算法模拟器（如距离向量算法）。</p></li><li><p>完整 TCP 协议栈：在用户态实现 TCP 的可靠传输、拥塞控制等功能，与真实操作系统协议栈交互。</p></li></ol><p>CS144 的 Lab 截止 2025 年初有两个大版本，一个是 Sponge 版本，一个是 Minnow，Sponge 是旧版本，也就是所谓「8 个 Project 带你实现整个 TCP&#x2F;IP 协议栈」的版本。而 Minnow 是 2023 年春季新上线的版本。</p><p>课程主页: <a href="https://cs144.github.io/">https://cs144.github.io/</a></p><p>GitHub: <a href="https://github.com/CS144/minnow">https://github.com/CS144/minnow</a></p><p>24 Winter 的课程主页 (archived by Wayback Machine): <a href="https://web.archive.org/web/20241209004804/https://cs144.github.io/">https://web.archive.org/web/20241209004804/https://cs144.github.io/</a></p><h3 id="0-1-准备条件"><a href="#0-1-准备条件" class="headerlink" title="0.1 准备条件"></a>0.1 准备条件</h3><ul><li><p>对于 C++ 的要求：非常适合 C++ 初学者来学，不需要你会写很「艰深&#x2F;炫酷」的魔法代码，你只需要稍微在你已经知道的语法基础上再学一点点，就可以完成所有的 labs。当然 0 小白肯定是完全不行，至少得会 C++ 语法，然后让你写几个 LeetCode 啥的应该也得要是会的。</p><ul><li><p>你应当具备一定的调试代码的能力。在这个 lab 中，能一次性写对这几个方法的人少之又少，因此调试就成了必不可少的一环。本文档也会介绍一下 Clion 环境下如何对这个项目进行断点调试。如果觉得断点调试有难度，也可以通过打印 log 来调试。</p></li><li><p>不止一个朋友反映这个 lab 的单元测试给的不够。一旦 lab1-2 有边界条件没有考虑好，会严重影响到 lab3-4 的开发体验——不少朋友发现 3-4 无法编译通过其实出在 lab1-2 的内容没有写好导致。因此，适当补充 lab1-2 模块的单元测试很重要，并且你也要知道单元测试的基本概念，以及 C++ 下怎么玩转它们。</p></li></ul></li><li><p>对于计算机网络的要求：强烈建议学完《自顶向下》这本书后再来做这个 lab。虽然说对于大神自然是不需要，但是有了理论基础后，再来做可以大幅缩减「抽象感」——至少你会明白你在做什么。</p></li><li><p>对于 Linux 基本功的要求：Git、至少你得操作过 Linux 命令行。这方面如果经验为 0 则会被搭建环境那一步就劝退了。虽然这种状况下确实也还是能读代码，但是会少了自己参与实现的乐趣。</p></li></ul><h2 id="lab0：热身"><a href="#lab0：热身" class="headerlink" title="lab0：热身"></a>lab0：热身</h2><h3 id="1-1-搭建环境"><a href="#1-1-搭建环境" class="headerlink" title="1.1 搭建环境"></a>1.1 搭建环境</h3><p>Windows 下建议使用 WSL，你可以参考我的 WSL 环境进行配置。<a href="https://blog.pengdonglai.com/2025/02/03/env-book-1/">https://blog.pengdonglai.com/2025/02/03/env-book-1/</a></p><p>在 linux 环境下，运行如下命令，就可以愉快地进行实验了。</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">apt-get</span> <span class="token function">install</span> g++ <span class="token function">git</span> clang-tidy clang-format libpcap-dev <span class="token punctuation">\</span>    iptables mininet tcpdump telnet wireshark socat netcat-openbsd <span class="token punctuation">\</span>    doxygen graphviz<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>如果使用 IDE，那么确保 IDE 在 Linux 的环境下运行，可以参考我的环境配置中关于 Clion 的部分~</p><p>随后，我们可以将代码拷贝下来，我用的是 <a href="https://github.com/vikshanker/sponge">https://github.com/vikshanker/sponge</a>：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 你可以使用其他源，不一定要和我这个一样</span><span class="token function">git</span> clone https://github.com/vikshanker/sponge<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>Stanford 推荐我们使用 Git 来进行分支管理。但实际上不用 Git，我们将很难把实验进行下去。而且找遍了全互联网也没有看见几个不用 Git 完成的例子。因此我们在安装环境的时候，也请务必在 Linux&#x2F;WSL 环境下把 Git 给搭建好（我的环境搭建指南中也有），并且可以正常连接到 Github。</p><p>原因很简单：那就是因为我们只是负责在已经搭建好的、工程实现很好的框架上做代码填空题，把关键的几个组件 (e.g., <code>TCPSender/TCPReceiver</code>, <code>NetworkInterface</code>, etc.) 中的某几个函数实现&#x2F;完善了而已。</p><p>但实际上，cs144 的 lab 是一个十分典型的现代 C++ 工程，不管是代码规范，工程实现，测试框架，还是现代 C++ 的各种语法，写的都非常优雅且规范。对于还不太熟悉 C++ 的同学们来说，尤其是现代 C++ 的各种语言特性用法，这门课是非常好的入门课。</p><p>可以说，相比于学校只教语法，这个 lab 更是教会了我们什么是「现代工程」，它的「落地感」是非常强的。从这个意义来说，使用 Git 进行版本管理，本身也是「现代代码工程」的一部分。</p><h3 id="1-2-整体认知"><a href="#1-2-整体认知" class="headerlink" title="1.2 整体认知"></a>1.2 整体认知</h3><p>这里就涉及到了一个棘手的问题，万一哪天作者删库跑路了（你斯坦福爸爸已经做过一遍了，笑死，<code>sponge</code> 早就被删的一干二净），我们从一个不知名的地方拷贝了代码。亦或者，你回退了其他人的代码例如我的，这个时候你该如何辨别你可以开始做实验了呢？</p><p>编程作业从 checkpoint 0 (network warmup) 到最后的 checkpoint 7: putting it all together) 一共分成了八个 checkpoint。</p><p>所以在我们拷贝 Github 的时候，需要首先观察它的 commit 是不是如下图所示：</p><div align="center">  <img src="../../../../loading2.svg" data-original="/2025/02/04/stanford-cs144/3.png"></div><p>这个 commit 中的代码，就是 lab0 所需要的基座代码。我们需要做的就是在它的基础之上进行填补和<s>修复 bug，这代码确实是有点问题的</s>，之后我们会通过测试程序和跑动单元测试，来验证我们写的内容是否正确。</p><p>重点来啦，<strong>只有这个 commit 的仓库是不应该被选择的</strong>。这里我们开一个天眼：后续的 lab1 一直到最后，都会有代码被补充进来。我们都必须要从远端来合并代码到我们的开发分支。这么说可能会有些抽象，我们来看一个例子。</p><p>除了我们当前的提交，我们记作 commit0。我们的开发记作 my-commit0。我们此时的分支的提交顺序为：</p><pre class="line-numbers language-text" data-language="text"><code class="language-text">commit0<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>之后我们完成了 lab0 的开发，此时的分支提交顺序为：</p><pre class="line-numbers language-text" data-language="text"><code class="language-text">commit0 --> my-commit0<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>助教准备了这些分支：</p><pre class="line-numbers language-text" data-language="text"><code class="language-text">1. lab1：commit0 --> commit12. lab2：commit0 --> commit1 --> commit2<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>那么在开始 lab1 前，我们都必须将助教的 lab1 分支合并到我们的分支。合并之后，我们将会得到这样的一个分支提交顺序：</p><pre class="line-numbers language-text" data-language="text"><code class="language-text">commit0 --> commit1 --> my-commit0 --> merged branch lab1<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>这个时候我们才能开始 lab1 的开发工作。</p><p>所以我们得出了结论：我们 fork 的代码仓库，也必须同时含有助教的几个分支才可以进行开发。不然 lab0 写完我们就要抓瞎了。在 Github 上截图大概就是这样的：</p><div align="center">  <img src="../../../../loading2.svg" data-original="/2025/02/04/stanford-cs144/4.png"></div><p>当我们确认了仓库本身含有这几个 startercode 分支，我们才能意识到，这恰恰就是我们想要的仓库。</p><p>我们可以通过以下 Git 命令行来实现代码的 merge 操作：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> fetch origin lab2-startercode<span class="token function">git</span> checkout lab2-startercode<span class="token function">git</span> checkout <span class="token punctuation">[</span>*Your branch here*<span class="token punctuation">]</span><span class="token function">git</span> merge lab2-startercode<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>这样子我们也可以在本地查看 lab2-startercode 分支。如果你不需要，也可以直接一步到位：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> merge origin/lab2-startercode<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>如果有报错说分支不存在，那么请检查你使用的仓库是否符合我们的要求（远端是否有对应 startcode 分支）</p><p>我们现在已经有了基座代码仓库，也有了开发环境。到了这一步其实也已经很不容易了！我们终于可以正式开始做实验了！</p><h3 id="1-3-感性认识"><a href="#1-3-感性认识" class="headerlink" title="1.3 感性认识"></a>1.3 感性认识</h3><p>首先，请使用浏览器访问 <a href="http://cs144.keithw.org/hello">http://cs144.keithw.org/hello</a>，看看会发生什么？我们看到了一个网站。</p><p>当然，作为一个前端，服务端返回一个 html 文本，浏览器解析它这个过程我们再熟悉不过。只是，我们这个 lab 的重点其实是在于通信的过程，也就是使用 http 协议，从服务端传输 html 文本的过程。</p><p>接下来让我们使用工具 telnet，手动来访问这个网站吧。</p><p>在终端输入如下命令：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">telnet cs144.keithw.org http<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>这个命令告诉 telnet，你要和 <code>cs144.keithw.org</code> 建立一个可靠的字节传输流，使用的协议是 http（超文本传输协议）。</p><p>当然，你只是这么做，起不到任何作用… 这也是这个 lab 中的一个坑点，我们必须要快速输入以下三行命令：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">telnet cs144.keithw.org http<span class="token comment"># 输入上面一行启动字节传输流后，快速输入以下三行内容：</span>GET /hello HTTP/1.1Host: cs144.keithw.orgConnection: close<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>我试的时候我死活试不出来，笑死&#x3D;&#x3D;（应该是收到魔法的影响了 0.0 不过我就没深究了）。我看了其他人的解法，大概你会得到这样的返回结果：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">HTTP/1.1 <span class="token number">200</span> OKDate: Thu, <span class="token number">16</span> Jun <span class="token number">2022</span> 05:17:15 GMTServer: ApacheLast-Modified: Thu, <span class="token number">13</span> Dec <span class="token number">2018</span> <span class="token number">15</span>:45:29 GMTETag: <span class="token string">"e-57ce93446cb64"</span>Accept-Ranges: bytesContent-Length:14Connection: closeContent-Type: text/plainHello, CS144<span class="token operator">!</span>Connection closed by foreign host.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>它实际上就表示了我们和服务端进行 http 协议通信的过程。我们这个 lab 要实现的，实际上也是这个过程，我们最终呈现的效果，也是返回一个 <code>Hello, CS144!</code></p><p>那么我们如何用代码来描述这个过程呢？我们接下来 1.3 就将实现这个 <code>Webget</code> 程序！</p><blockquote><p>（什么？你问我双工通信和发送邮件？不重要的东西直接忽略不就好了吗。抓重点！你完全可以通过看视频来学习这两个步骤，照着做就 OK 了~）<br>（发送邮件需要斯坦福邮箱，一般人做不了）</p></blockquote><h3 id="1-4-Webget-程序"><a href="#1-4-Webget-程序" class="headerlink" title="1.4 Webget 程序"></a>1.4 Webget 程序</h3><p>这个程序实际上就帮我们用代码在 Linux 环境下，完成了刚刚 telnet 所做的事情：功能为向指定 IP 地址发送 HTTP GET 请求，然后输出所有响应。</p><p>要求调用 Linux kernel 自带的 TCP&#x2F;IP 协议栈实现即可，Sponge 已经将 C-Style 的 Socket 封装成了几个 C++ 类：FileDescriptor, Socket, TCPSocket, and Address classes。</p><div align="center">  <img src="../../../../loading2.svg" data-original="/2025/02/04/stanford-cs144/1.png"></div><p>官方文档已经 RIP 了… 根据这几个类，我们不难发现其中包含了 TCPSocket，于是到了我们喜闻乐见的、使用无封装的原始代码发送 http 请求过程！</p><p>我们打开项目，找到 webget.cc 文件。之后我们填充 get_URL 函数，以下是一种可能的解法：</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token function">get_URL</span><span class="token punctuation">(</span><span class="token keyword">const</span> string <span class="token operator">&amp;</span>host<span class="token punctuation">,</span> <span class="token keyword">const</span> string <span class="token operator">&amp;</span>path<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// Your code here.</span>    <span class="token comment">// You will need to connect to the "http" service on</span>    <span class="token comment">// the computer whose name is in the "host" string,</span>    <span class="token comment">// then request the URL path given in the "path" string.</span>    <span class="token comment">// Then you'll need to print out everything the server sends back,</span>    <span class="token comment">// (not just one call to read() -- everything) until you reach</span>    <span class="token comment">// the "eof" (end of file).</span>    TCPSocket sock<span class="token punctuation">;</span>    sock<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token function">Address</span><span class="token punctuation">(</span>host<span class="token punctuation">,</span> <span class="token string">"http"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    sock<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"GET "</span> <span class="token operator">+</span> path <span class="token operator">+</span> <span class="token string">" HTTP/1.1\r\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    sock<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"Host: "</span> <span class="token operator">+</span> host <span class="token operator">+</span> <span class="token string">"\r\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    sock<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"Connection: close\r\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    sock<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"\r\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    sock<span class="token punctuation">.</span><span class="token function">shutdown</span><span class="token punctuation">(</span>SHUT_WR<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>sock<span class="token punctuation">.</span><span class="token function">eof</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        cout <span class="token operator">&lt;&lt;</span> sock<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    sock<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        cerr <span class="token operator">&lt;&lt;</span> <span class="token string">"Function called: get_URL("</span> <span class="token operator">&lt;&lt;</span> host <span class="token operator">&lt;&lt;</span> <span class="token string">", "</span> <span class="token operator">&lt;&lt;</span> path <span class="token operator">&lt;&lt;</span> <span class="token string">").\n"</span><span class="token punctuation">;</span>    <span class="token comment">// cerr &lt;&lt; "Warning: get_URL() has not been implemented yet.\n";</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>这段代码的主要功能是使用 TCP 套接字（TCPSocket）向指定的 HTTP 服务器发送一个简单的 HTTP GET 请求，然后读取并输出服务器返回的响应数据，最后关闭套接字连接。</p><p><code>sock.write(&quot;\r\n&quot;);</code> 发送一个空行，表示 HTTP 请求头的结束。HTTP 协议规定，请求头和请求体之间需要用一个空行分隔。</p><p><code>sock.shutdown(SHUT_WR);</code> 关闭套接字的写端。SHUT_WR 表示只关闭写操作，即客户端不再向服务器发送数据，但仍然可以接收服务器的响应数据。</p><p><code>sock.eof()</code> 使用一个循环来读取服务器的响应数据，直到套接字的输入流结束（即服务器关闭连接）。<code>sock.eof()</code> 用于检查套接字的输入流是否已经结束。</p><p>我们进入 build 文件夹，重新 make 后，运行：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">./apps/webget cs144.keithw.org /hello<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>它的行为应该和上述我们使用 telnet 的行为保持一致。</p><p>最后它应该能够通过测试：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">make</span> check_webget<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><div align="center">  <img src="../../../../loading2.svg" data-original="/2025/02/04/stanford-cs144/2.png"></div><p>在测试的时候，有可能会碰到 <code>t_webget.sh</code> 文件不存在的报错，这块可以先不用管，后面会一起修复。</p><h3 id="1-5-ByteStream"><a href="#1-5-ByteStream" class="headerlink" title="1.5 ByteStream"></a>1.5 ByteStream</h3><p>上一节我们使用了 <code>TCPSocket</code>，调用了 <code>read</code> 和 <code>write</code> 方法，这一节就来实现一个这样的类管道：一个运行在内存的有序可靠字节流（An in-memory reliable byte stream）</p><h4 id="1-5-1-是实现什么？"><a href="#1-5-1-是实现什么？" class="headerlink" title="1.5.1 是实现什么？"></a>1.5.1 是实现什么？</h4><p>它是一个数据结构，也是一个对象类。它应该具备一个 <code>write</code> 方法，以便于我们可以往这个对象内<strong>写入数据</strong>。我们也可以使用 <code>read</code> 方法从它身上读取数据。</p><p>它应该具备一个容量大小，因为我们不能一味的只存入数据而不读取数据。容量已经满的时候，多出来的内容应该被直接丢弃。</p><p>写入端也必须告知这个数据结构它写完了。我们通过一个对外暴露的函数从写入端那边获取到这一信息。</p><p>详细说明，它具有以下要求：</p><ol><li>字节流可以从写入端写入，并以相同的顺序，从读取端读取</li><li>字节流是有限的，写者可以终止写入。而读者可以在读取到字节流末尾时，产生 EOF 标志，不再读取</li><li>所实现的字节流必须支持流量控制，以控制内存的使用。当所使用的缓冲区爆满时，超过缓冲区容量的内容直接丢弃。字节流会返回成功写入的字节数</li><li>写入的字节流可能会很长，必须考虑到字节流大于缓冲区大小的情况。即便缓冲区只有1字节大小，所实现的程序也必须支持正常的写入读取操作</li><li>在单线程环境下执行，因此不用考虑各类条件竞争问题</li></ol><h4 id="1-5-2-如何设计它？"><a href="#1-5-2-如何设计它？" class="headerlink" title="1.5.2 如何设计它？"></a>1.5.2 如何设计它？</h4><p>具体的实现，在 <code>libsponge/byte_stream.hh</code> <code>libsponge/byte_stream.cc</code> </p><p>阅读头文件我们已经可以知道 byte_stream 的系统类设计了：</p><ol><li><p>创建的时候，传入一个 int 代表管道的「容量」。</p></li><li><p>对于写管道，实现相关的函数 <code>write</code>、<code>remain_capacity</code>、<code>end_input</code>、<code>set_error</code>：</p><ul><li>写入数据：使用 <code>write</code> 方法将一段测试数据写入字节流，并打印实际写入的字节数。</li><li>检查剩余容量：使用 <code>remaining_capacity</code> 方法检查字节流还能容纳多少字节，并打印结果。</li><li>标记输入结束：使用 <code>end_input</code> 方法标记输入结束，再次检查输入是否结束并打印结果。</li><li>记流出现错误：使用 <code>set_error</code> 方法标记流出现错误，使用 <code>error</code> 方法检查流是否有错误并打印结果。</li></ul></li><li><p>对于读管道，实现 <code>pop_output</code>、<code>read</code>、<code>input_ended</code>、<code>eof</code>、<code>error</code>、<code>buf_size</code>、<code>buf_empty</code>、<code>bytes_written</code>、<code>bytes_read</code>。</p><ul><li>查看数据：使用 <code>peek_output</code> 方法查看缓冲区中的前 x 个字节，不将它们从缓冲区中移除，并打印结果。</li><li>读取并移除数据：使用 <code>read</code> 方法读取并移除缓冲区中的前 y 个字节，并打印结果。</li><li>手动移除数据：使用 <code>pop_output</code> 方法手动移除缓冲区中的 x 个字节，并打印提示信息。</li><li>检查输入是否结束：使用 <code>input_ended</code> 方法检查输入是否已经结束，并打印结果。</li><li>检查缓冲区是否为空：使用 <code>buffer_empty</code> 方法检查缓冲区是否为空，并打印结果。</li><li>检查是否到达输出结尾：使用 <code>eof</code> 方法检查是否到达输出结尾，并打印结果。</li><li>获取已写入的字节数：使用 <code>bytes_written</code> 方法获取已经写入的总字节数，并打印结果。</li><li>获取已读取的字节数：使用 <code>bytes_read</code> 方法获取已经读取的总字节数，并打印结果。</li><li>获取当前缓冲区大小：使用 <code>buffer_size</code> 方法获取当前缓冲区的大小，并打印结果。</li></ul></li></ol><p>通过系统设计分析，我们可知：</p><ol><li>毫无疑问我们需要一个 _capacity 来保存容量。</li><li>我们需要一个 _count_written 保存</li></ol><h4 id="1-5-3-如何实现？"><a href="#1-5-3-如何实现？" class="headerlink" title="1.5.3 如何实现？"></a>1.5.3 如何实现？</h4><p>我们使用双端队列实现，这是因为双端队列可以实现「前进后出」：</p><p><code>byte_stream.hh</code></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">std<span class="token double-colon punctuation">::</span>deque<span class="token operator">&lt;</span><span class="token keyword">char</span><span class="token operator">></span> _buffer_deque<span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span> <span class="token comment">//!&lt; The data of this stream</span>size_t _count_written<span class="token punctuation">;</span> <span class="token comment">//!&lt; The written count of the input</span>size_t _count_read<span class="token punctuation">;</span> <span class="token comment">//!&lt; The read count of the input</span>size_t _capacity<span class="token punctuation">;</span> <span class="token comment">//!&lt; The capacity of this stream</span><span class="token keyword">bool</span> _error<span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>  <span class="token comment">//!&lt; Flag indicating that the stream suffered an error.</span><span class="token keyword">bool</span> _input_finished_flag<span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span> <span class="token comment">//!&lt; Flag indicating that the input has been overed.</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>byte_stream.cc</code></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token class-name">ByteStream</span><span class="token double-colon punctuation">::</span><span class="token function">ByteStream</span><span class="token punctuation">(</span><span class="token keyword">const</span> size_t capacity<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">_count_written</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">_count_read</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token function">_capacity</span><span class="token punctuation">(</span>capacity<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>size_t <span class="token class-name">ByteStream</span><span class="token double-colon punctuation">::</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token keyword">const</span> string <span class="token operator">&amp;</span>data<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">auto</span> _safe_len <span class="token operator">=</span> <span class="token function">min</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token operator">-></span><span class="token function">remaining_capacity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span>size_t i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> _safe_len<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token operator">-></span>_buffer_deque<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token operator">-></span>_count_written<span class="token operator">++</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> _safe_len<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//! \param[in] len bytes will be copied from the output side of the buffer</span>string <span class="token class-name">ByteStream</span><span class="token double-colon punctuation">::</span><span class="token function">peek_output</span><span class="token punctuation">(</span><span class="token keyword">const</span> size_t len<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">auto</span> _safe_len <span class="token operator">=</span> <span class="token function">min</span><span class="token punctuation">(</span>len<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token operator">-></span>_buffer_deque<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    string _str<span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span>size_t i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> _safe_len<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        _str <span class="token operator">+=</span> <span class="token keyword">this</span><span class="token operator">-></span>_buffer_deque<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> _str<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//! \param[in] len bytes will be removed from the output side of the buffer</span><span class="token keyword">void</span> <span class="token class-name">ByteStream</span><span class="token double-colon punctuation">::</span><span class="token function">pop_output</span><span class="token punctuation">(</span><span class="token keyword">const</span> size_t len<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">auto</span> _safe_len <span class="token operator">=</span> <span class="token function">min</span><span class="token punctuation">(</span>len<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token operator">-></span>_buffer_deque<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span>size_t i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> _safe_len<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token operator">-></span>_buffer_deque<span class="token punctuation">.</span><span class="token function">pop_front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token operator">-></span>_count_read<span class="token operator">++</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">//! Read (i.e., copy and then pop) the next "len" bytes of the stream</span><span class="token comment">//! \param[in] len bytes will be popped and returned</span><span class="token comment">//! \returns a string</span>string <span class="token class-name">ByteStream</span><span class="token double-colon punctuation">::</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token keyword">const</span> size_t len<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    string _str <span class="token operator">=</span> <span class="token function">peek_output</span><span class="token punctuation">(</span>len<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token operator">-></span><span class="token function">pop_output</span><span class="token punctuation">(</span>len<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> _str<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ByteStream</span><span class="token double-colon punctuation">::</span><span class="token function">end_input</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">this</span><span class="token operator">-></span>_input_finished_flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">bool</span> <span class="token class-name">ByteStream</span><span class="token double-colon punctuation">::</span><span class="token function">input_ended</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">&#123;</span> <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token operator">-></span>_input_finished_flag<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>size_t <span class="token class-name">ByteStream</span><span class="token double-colon punctuation">::</span><span class="token function">buffer_size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">&#123;</span> <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token operator">-></span>_count_written <span class="token operator">-</span> <span class="token keyword">this</span><span class="token operator">-></span>_count_read<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token keyword">bool</span> <span class="token class-name">ByteStream</span><span class="token double-colon punctuation">::</span><span class="token function">buffer_empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">&#123;</span> <span class="token keyword">return</span> <span class="token function">buffer_size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token keyword">bool</span> <span class="token class-name">ByteStream</span><span class="token double-colon punctuation">::</span><span class="token function">eof</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">&#123;</span> <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token operator">-></span>_input_finished_flag <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token operator">-></span><span class="token function">buffer_empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>size_t <span class="token class-name">ByteStream</span><span class="token double-colon punctuation">::</span><span class="token function">bytes_written</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">&#123;</span> <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token operator">-></span>_count_written<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>size_t <span class="token class-name">ByteStream</span><span class="token double-colon punctuation">::</span><span class="token function">bytes_read</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">&#123;</span> <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token operator">-></span>_count_read<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>size_t <span class="token class-name">ByteStream</span><span class="token double-colon punctuation">::</span><span class="token function">remaining_capacity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">&#123;</span> <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token operator">-></span>_capacity <span class="token operator">-</span> <span class="token keyword">this</span><span class="token operator">-></span><span class="token function">buffer_size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>Lab0 我们实现了 ByteStream 这样一个双向字节流。在接下来的实验里，你会实现两个ByteStream：</p><ul><li>一个出向（outbound）ByteStream，本地应用可以通过 socket 向里面写数据，你的TCP可以把数据传输到远端；</li><li>一个入向（inbound）ByteStream，你的 TCP 会接收从远端发来的数据，然后被本地应用所读取。</li></ul><h3 id="1-6-调试"><a href="#1-6-调试" class="headerlink" title="1.6 调试"></a>1.6 调试</h3><p>我们的调试会使用位于 <code>tests</code> 文件夹下的文件，里面正是一个个单元测试。在项目原理篇中，我会详细说明项目是如何进行单元测试的。</p><p>在进行了 lab1 代码的 merge 操作后，我们可以看到 stream 相关的单元测试已经在对应文件夹下了：</p><pre class="line-numbers language-text" data-language="text"><code class="language-text">// testsbyte_stream_capacity.ccbyte_stream_construction.ccbyte_stream_many_writes.ccbyte_stream_one_writes.cc// 其它不再一一列举<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>在 build 文件夹内执行 make 操作后，它们会在 <code>build/tests</code>（或者 Clion 默认配置的 <code>cmake-build-debug/tests</code>）下生成对应的二进制文件：</p><pre class="line-numbers language-text" data-language="text"><code class="language-text">// cmake-build-debug/testsbyte_stream_capacitybyte_stream_constructionbyte_stream_many_writesbyte_stream_one_writes// 其它不再一一列举<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>我们 lab1 中实现的是 byte_stream，项目中它所有的单元测试名字前缀都是它。它们当中的每一个都可以被执行。</p><p>我们在执行 <code>make check_lab1</code> 命令的时候，实际上执行的是 makefile target，在这个过程中实际上就是会跑这几个二进制程序。所以我们执行 <code>make check_lab1</code> 命令走单元测试的时候，你至少要学会看单元测试的输出，以便于让它告诉你你是「错在了哪个单元测试」和「哪个单元测试步骤」，之后你要去找到对应的二进制文件来执行。</p><h4 id="1-6-1-Clion-调试"><a href="#1-6-1-Clion-调试" class="headerlink" title="1.6.1 Clion 调试"></a>1.6.1 Clion 调试</h4><p>由于我使用的 IDE 为 Clion，所以会这个过程会比 VSCode 描述的相对更细致一些。</p><p>我会假定你是在 WSL2 中进行的实验，并且按照我的教程配置好了实验环境（其它环境只要能 make 成功大概率也能跑动 Clion 调试，只是不敢做这个保证）。</p><p>在 Clion 右上角调试，选择好对应的调试程序：</p><div align="center">  <img src="../../../../loading2.svg" data-original="/2025/02/04/stanford-cs144/6.png"></div><p>假设我选择了 byte_capacity，然后我在 byte_stream.cc 中觉得有问题的地方打上断点。大概如图所示：</p><div align="center">  <img src="../../../../loading2.svg" data-original="/2025/02/04/stanford-cs144/7.png"></div><p>之后，点击旁边的那个虫子，就进入了调试的过程。如果程序成功暂停，就说明我们成功了。</p><div align="center">  <img src="../../../../loading2.svg" data-original="/2025/02/04/stanford-cs144/8.png"></div><h4 id="1-6-2-VSCode-调试"><a href="#1-6-2-VSCode-调试" class="headerlink" title="1.6.2 VSCode 调试"></a>1.6.2 VSCode 调试</h4><h2 id="lab1：Reassembler"><a href="#lab1：Reassembler" class="headerlink" title="lab1：Reassembler"></a>lab1：Reassembler</h2><p>在 Lab1 中，需要实现一个流重组器：将传入的没一份打乱的字节流重新组合形成原来的有序的字节流。即实现 StreamReassembler 类。</p><blockquote><p>为什么要这样做？TCP 对处理乱序和重复包的健壮性来自于它能将字节流的任意摘录拼接回原始流的能力。在离散的可测试模块中实现这一功能将使处理传入段变得更加容易。</p></blockquote><p>merge 完 lab1 的代码后，你会看到我们本节需要实现的文件：<code>stream_reassembler.cc</code> 和 <code>stream_reassembler.hh</code></p><h3 id="2-1-是实现什么？"><a href="#2-1-是实现什么？" class="headerlink" title="2.1 是实现什么？"></a>2.1 是实现什么？</h3><p>基于 ByteStream，实现一个流重组器。</p><div align="center">  <img alt="从 Up 主那边偷来的图，诶嘿" src="../../../../loading2.svg" data-original="/2025/02/04/stanford-cs144/5.png"></div><p><a href="https://www.bilibili.com/video/BV1mt4y177AJ?spm_id_from=333.788.videopod.sections&amp;vd_source=afe81fa0acec03a62c58fe0fc394ca5b">https://www.bilibili.com/video/BV1mt4y177AJ?spm_id_from=333.788.videopod.sections&amp;vd_source=afe81fa0acec03a62c58fe0fc394ca5b</a></p><p>（原 Up 主视频链接，也是主讲 CS144 的。讲的很通俗易懂，但是我并没有采纳他对于 lab1 的解法）</p><p>我们需要使用到 ByteStream，主要是为了<strong>写入它，然后让它帮我们进行缓存</strong>。除此以外的功能，都是 Reassembler 自己实现的。</p><p>从我们需要使用的文件 <code>stream_reassembler.cc</code> 可以知道，我们和 ByteStream 共享同一个 capacity。从这里我们已经可以感觉出来项目的第一个要求了：</p><blockquote><p>如果我们在 Reassembler 新增数据结构，那么这个数据结构一旦需要线性增长，那么不能超过 capacity 容量。至于说需要需要超过线性增长的数据结构，那更是需要被抛弃掉。</p></blockquote><p>根据头文件可知核心方法为 <code>push_substring()</code>，它的参数非常好懂。</p><ul><li><p>data 是写入的数据，还是和 ByteStream 一样，写入的是一个 string 字符串。index 的意思是，当前的 data 在发送方处于的位置。比如说一个数据，它的容量为 1024，那么 index 完全可能是 0-1024 中的任意一个数，表示 data 在这个数据中所起到的位置。</p></li><li><p>根据我们上一个 lab 的知识，最后一个 eof 参数，表示就是到达 <code>push_substring()</code> 的这个 data 是否为处于全数据的末尾。</p></li></ul><h3 id="2-2-Reassembler-核心原理"><a href="#2-2-Reassembler-核心原理" class="headerlink" title="2.2 Reassembler 核心原理"></a>2.2 Reassembler 核心原理</h3><p>除此之外，我们得来首先认识下这个流重组器具体是做了什么事情的：</p><p>如果您了解 TCP 协议的「可靠交付」机制，您可以更好的明白这里的含义。如果实在不明白，那么也还请您再去阅读相关资料，弄懂后才能来做 Reassembler。</p><p>假设我们的初始条件是 capacity 为 5. 这要求我们初始化的空间复杂度需要为 5C。（C 在这里为参数）。</p><p>我们将 Reassembler 中的空间称为「管道」，将 BuffStream 的空间称为「缓冲区」。上文中 <code>push_substring()</code> 的 index 称为「string 起始索引」。当然，这么称呼只是为了好听，实际上它们并不叫这个名字。那么我们可以得到第一个认知：</p><p>「管道」的容量（共 5C） +「缓冲区」的容量（0） &#x3D; 5C</p><h4 id="2-2-1-第一种过程：整体"><a href="#2-2-1-第一种过程：整体" class="headerlink" title="2.2.1 第一种过程：整体"></a>2.2.1 第一种过程：整体</h4><p>（0）我们往空的管道中，string 起始索引为 0 的情况下注入 2 个字符：a b，并且<strong>设置 eof 为 1</strong>。此时管道的容量为 2C</p><p>（管道的容量，只要能放得下它应该要放的数据就够了，比如共 5C {ab 2C}，这个数据就是一个合法的数据。一旦表示为共 1C {ab 2C}，很显然 ab 放不下，所以是非法数据）</p><p>此时可以看到 EOF 的索引为 2，它是由起始索引为 0 + ab 的长度 2 &#x3D; 2 得来的。当然我们现在不需要知道它有什么作用。直观表示为：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">「管道」的容量（共 5C <span class="token punctuation">&#123;</span>ab 2C<span class="token punctuation">&#125;</span>） +「缓冲区」的容量（0） <span class="token operator">=</span> 5Ca（管道） b（管道）--EOF-- <span class="token number">0</span>（管道） <span class="token number">0</span>（管道） <span class="token number">0</span>（管道）<span class="token operator">=</span> 5C<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>（1）之后，我们的「缓冲区」开始从「管道」中读取 ab，此时我们的直观表示为：</p><p>「管道」的容量（共 3C） +「缓冲区」的容量（共 2C {ab 2C}） &#x3D; 5C</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">「管道」的容量（共 5C <span class="token punctuation">&#123;</span>ab 2C<span class="token punctuation">&#125;</span>） +「缓冲区」的容量（0） <span class="token operator">=</span> 5Ca（缓冲区） b（缓冲区）--EOF-- <span class="token number">0</span>（管道） <span class="token number">0</span>（管道） <span class="token number">0</span>（管道）<span class="token operator">=</span> 5C<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>（2）由于此时 EOF 以前的内容全部进入了缓冲区，那么可以认为 reassembler 进入到了「结束态」。</p><p>这样就表示了一个读入「管道」，然后从「管道」中读出来放到「缓冲区」，最后结束的全过程。</p><p>我们这个时候不禁有一个疑问，我们从「管道」中读出来放到「缓冲区」的过程，怎么确定哪些数据要从「管道」中读出来呢？</p><p>我们不妨来看看第二个例子。</p><h4 id="2-2-2-第二种过程：核心"><a href="#2-2-2-第二种过程：核心" class="headerlink" title="2.2.2 第二种过程：核心"></a>2.2.2 第二种过程：核心</h4><p>（0）我们往空的管道中，string 起始索引<strong>为 1</strong> 的情况下注入 2 个字符：a b，并且<strong>设置 eof 为 0</strong>。此时管道的容量为 2C，直观表示为：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">「管道」的容量（共 5C <span class="token punctuation">&#123;</span>ab 2C<span class="token punctuation">&#125;</span>） +「缓冲区」的容量（0） <span class="token operator">=</span> 5C<span class="token number">0</span>（管道） a（管道） b（管道） <span class="token number">0</span>（管道） <span class="token number">0</span>（管道）<span class="token operator">=</span> 5C<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>（1）由于我们还不知道第一个位置上的数据是什么，因此我们还不能读取数据到「缓冲区」中。</p><p>（2）往管道中，string 起始索引<strong>为 0</strong> 的情况下注入 1 个字符：c，并且<strong>设置 eof 为 0</strong>。直观表示为：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">「管道」的容量（共 5C <span class="token punctuation">&#123;</span>cab 3C<span class="token punctuation">&#125;</span>） +「缓冲区」的容量（0） <span class="token operator">=</span> 5Cc（管道） a（管道） b（管道） <span class="token number">0</span>（管道） <span class="token number">0</span>（管道）<span class="token operator">=</span> 5C<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>（3）我们还不知道 eof 的位置。但我们已经能读取数据到「缓冲区」中，读取数据后，直观表示是这个样子：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">「管道」的容量（共 2C） +「缓冲区」的容量（共 3C <span class="token punctuation">&#123;</span>cab 3C<span class="token punctuation">&#125;</span>） <span class="token operator">=</span> 5Cc（缓冲区） a（缓冲区） b（缓冲区） <span class="token number">0</span>（管道） <span class="token number">0</span>（管道）<span class="token operator">=</span> 5C<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>（4）往管道中，string 起始索引<strong>为 3</strong> 的情况下注入 1 个字符：f，并且<strong>设置 eof 为 1</strong>。</p><p>此时我们设置 EOF 为 4（3（起始索引）+ 1（f 的长度））。经过直观表示为：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">「管道」的容量（共 2C <span class="token punctuation">&#123;</span>f 1C<span class="token punctuation">&#125;</span>） +「缓冲区」的容量（共 3C <span class="token punctuation">&#123;</span>cab 3C<span class="token punctuation">&#125;</span>） <span class="token operator">=</span> 5Cc（缓冲区） a（缓冲区） b（缓冲区） f（管道）--EOF-- <span class="token number">0</span>（管道）<span class="token operator">=</span> 5C<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>（5）我们读取 f 到「缓冲区」：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">「管道」的容量（共 1C） +「缓冲区」的容量（4C <span class="token punctuation">&#123;</span>cabf 4C<span class="token punctuation">&#125;</span>） <span class="token operator">=</span> 5Cc（缓冲区） a（缓冲区） b（缓冲区） f（缓冲区）--EOF-- <span class="token number">0</span>（管道）<span class="token operator">=</span> 5C<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>（6）由于此时 EOF 以前的内容全部进入了缓冲区，那么可以认为 reassembler 进入到了「结束态」。</p><p>通过以上过程，我们总结，一般来说我们有两个条件促成这一点：</p><ol><li><p>我们读取到了 eof，且这个 eof 表示的「string 起始索引」+ data.length() 被我们记录下来称为「EOF 的索引」。</p></li><li><p>缓冲区从 0 到「EOF 的索引」中，索引对应的所有字符，均「存在」能被有效读取（在直观表示中，它们必须全都不为 0）。然后从索引 0 开始，一路读取所有能读的字符，读到 eof 的 index 为止。</p></li></ol><p>至此我们回答了从「管道」中读出来放到「缓冲区」的过程，怎么确定哪些数据要从「管道」中读出来的问题。</p><h4 id="2-2-3-第三种过程：异常"><a href="#2-2-3-第三种过程：异常" class="headerlink" title="2.2.3 第三种过程：异常"></a>2.2.3 第三种过程：异常</h4><p>接过程二的（3），从（4）开始我们设置新的过程。（3）后，直观表示大概是这个样子：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">「管道」的容量（共 2C） +「缓冲区」的容量（共 3C <span class="token punctuation">&#123;</span>cab 3C<span class="token punctuation">&#125;</span>） <span class="token operator">=</span> 5Cc（缓冲区） a（缓冲区） b（缓冲区） <span class="token number">0</span>（管道） <span class="token number">0</span>（管道）<span class="token operator">=</span> 5C<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>（4.1）往管道中，string 起始索引<strong>为 3</strong> 的情况下<strong>注入 3 个字符</strong>：fgh，并且<strong>设置 eof 为 1</strong>。</p><p>这个时候我们发现了一个问题，那就是我们注入的容量会超过总的 capacity 设定。想要完全存储，需要 3C（现有 cab）+ 3C（新数据 fgh）。这个时候，<strong>超出 capacity 的部分会被直接抛弃。</strong>，但是 eof 仍然会被记作 6（这是由「string 起始索引」+ data.length() 即 3 + 3 &#x3D; 6 决定好的）。</p><p>执行完注入管道的逻辑后，我们可以看到这样的直观表示：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">「管道」的容量（共 2C） +「缓冲区」的容量（共 3C <span class="token punctuation">&#123;</span>cab 3C<span class="token punctuation">&#125;</span>） <span class="token operator">=</span> 5Cc（缓冲区） a（缓冲区） b（缓冲区） f（管道） g（管道）--EOF--（6）<span class="token operator">=</span> 5C<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>我们可以看到，由于 capacity 已经放不下了，h 被直接丢弃。</p><p>这种情况下，需要等缓冲区的内容被释放腾出空间以便于重新记录下来 h，亦或者 EOF 的位置被更新到 5，不然不会进入到「结束态」即（超时前）永远不会完成这次的连接过程。</p><p>（4.2）回到 3 结束的位置。设想另一种场景：往管道中，string 起始索引<strong>为 2</strong> 的情况下<strong>注入 3 个字符</strong>：bfg，并且<strong>设置 eof 为 1</strong>。</p><p>这种情况下，我们可以看到，已经在缓冲区的 b，又被注入到了管道中。这个时候 reassembler 会判断 b 当前 index 位置的字符已经被 reassembled（其实就是等效于它进入了缓冲区），因此 b 实际上不会被处理，会从 f 开始进行逻辑上的处理，并按照之前的逻辑设置好 EOF 为 5：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">「管道」的容量（共 2C） +「缓冲区」的容量（共 3C <span class="token punctuation">&#123;</span>cab 3C<span class="token punctuation">&#125;</span>） <span class="token operator">=</span> 5Cc（缓冲区） a（缓冲区） b（缓冲区） f（管道） g（管道）--EOF--（5）<span class="token operator">=</span> 5C<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>这种之后会转到上一个步骤的（5）中进行处理且进入「结束态」。</p><p>（4.3）回到 3 结束的位置。设想另一种场景：往管道中，string 起始索引<strong>为 2</strong> 的情况下<strong>注入 3 个字符</strong>：cfg，并且<strong>设置 eof 为 1</strong>。</p><p>这种情况下，我们可以看到，已经在缓冲区的 b，和重新注入的 c 存在冲突。这个时候我们应当认为是发布侧存在问题，所以在这个 lab 中，要么不作处理，要么抛出 runtime 异常。会从 f 开始进行逻辑上的处理，这一步和（4.2）一致，并按照之前的逻辑设置好 EOF 为 5：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">「管道」的容量（共 2C） +「缓冲区」的容量（共 3C <span class="token punctuation">&#123;</span>cab 3C<span class="token punctuation">&#125;</span>） <span class="token operator">=</span> 5Cc（缓冲区） a（缓冲区） b（缓冲区） f（管道） g（管道）--EOF--（5）<span class="token operator">=</span> 5C<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>通过这个步骤可以知道，产生冲突的时候，我们遵循「先来后到」的原则，因为我们认为 TCP 就是可靠交付，所以我们就是会假设最开始传输的内容是正确的。</p><h4 id="2-2-4-第四种过程：空碎片"><a href="#2-2-4-第四种过程：空碎片" class="headerlink" title="2.2.4 第四种过程：空碎片"></a>2.2.4 第四种过程：空碎片</h4><p>（4.4）回到 3 结束的位置。设想另一种场景：往管道中，string 起始索引<strong>为 3</strong> 的情况下<strong>注入 0 个字符</strong>，并且<strong>设置 eof 为 1</strong>。</p><p>这种情况下，我们直接设置 EOF 即可：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">「管道」的容量（共 2C） +「缓冲区」的容量（共 3C <span class="token punctuation">&#123;</span>cab 3C<span class="token punctuation">&#125;</span>） <span class="token operator">=</span> 5Cc（缓冲区） a（缓冲区） b（缓冲区）--EOF-- <span class="token number">0</span>（管道） <span class="token number">0</span>（管道）<span class="token operator">=</span> 5C<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>这种之后会转到上一个步骤的（5）中进行处理且进入「结束态」。</p><p>（4.5）回到 3 结束的位置。设想另一种场景：往管道中，string 起始索引<strong>为 3</strong> 的情况下<strong>注入 0 个字符</strong>，并且<strong>设置 eof 为 0</strong>。</p><p>这种情况下，我们什么也不做，直接返回。</p><p>（只要同时满足注入字符为空，eof 也为 0，起始索引是什么都无所谓，都是直接返回）</p><p>（4.6）回到 3 结束的位置。设想另一种场景：往管道中，string 起始索引<strong>为 2</strong> 的情况下<strong>注入 0 个字符</strong>，并且<strong>设置 eof 为 1</strong>。</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">「管道」的容量（共 2C） +「缓冲区」的容量（共 3C <span class="token punctuation">&#123;</span>cab 3C<span class="token punctuation">&#125;</span>） <span class="token operator">=</span> 5Cc（缓冲区） a（缓冲区）--EOF-- b（缓冲区） <span class="token number">0</span>（管道） <span class="token number">0</span>（管道）<span class="token operator">=</span> 5C<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>这种之后会转到上一个步骤的（5）中进行处理且进入「结束态」。</p><h3 id="2-3-数据结构-＆-算法实现"><a href="#2-3-数据结构-＆-算法实现" class="headerlink" title="2.3 数据结构 ＆ 算法实现"></a>2.3 数据结构 ＆ 算法实现</h3><p>我们来定义一次 <code>push_string()</code> 为「一次操作」。</p><p>这个时候你会发现，每一次操作可能会包括以下过程：</p><ol><li>向「管道」中注入数据和 eof 信息，当然也有可能是一个空的数据。</li><li>将「管道」中，前一部分「连续的」数据，读取到「缓冲区」中。</li><li>更新 eof 信息，并且检查当前是否达到了 eof 的状态。</li></ol><p>好的，通过文字描述，和 2.2 部分对于过程的描述，是不是想到了<strong>双指针</strong>？即，读取到的缓冲区的 index1，和管道中的 eof index2。index1 是为了区分哪些数据进入了缓冲区，index2 是为了区分当前是否到达了 eof 状态。而 index1 &#x3D;&#x3D; index2 一旦形成，则向缓冲区注入 <code>end_input()</code>，是不是一个完整的过程就出来了？</p><p>观察实现文件 <code>stream_reassembler.cc</code>，我们注意到还有这两个方法等着我们实现，通过对 empty 的描述我们可以知道就是管道还没有进缓冲区的容量是否为空，因此我们完成 <code>empty()</code> 方法，并且最简单的不就是设置一个私有成员变量表示 <code>unassembled_bytes</code> 吗？（先不管怎么算，直接设置这个变量然后返回不香吗）</p><p>所以我们实现了这些，并且此时已有 index1 记作 <code>size_t _reassembled_index</code>，<code>unassembled_bytes</code> 记作 <code>_disassembled_count</code>。此时我们加上 index2，记作 <code>_eof_index</code>。</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">size_t <span class="token class-name">StreamReassembler</span><span class="token double-colon punctuation">::</span><span class="token function">unassembled_bytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">&#123;</span> <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token operator">-></span>_disassembled_count<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token keyword">bool</span> <span class="token class-name">StreamReassembler</span><span class="token double-colon punctuation">::</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">&#123;</span> <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token operator">-></span><span class="token function">unassembled_bytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>最后我们还有一个问题，我们目前是只有「缓冲区」的（这部分项目已经写好）也就是 <code>_output</code>：</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">ByteStream _output<span class="token punctuation">;</span>  <span class="token comment">//!&lt; The reassembled in-order byte stream</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>但是我们还需要一个数据结构来保存「管道」，而且「管道」也必须要能记录当前特定 index 下的字符是否被 assembled。我们需要一个空间复杂度为 n 的数据结构，当然能满足的数据结构有很多，这也就是 lab1 实现方案不止一处的最大原因。</p><p>我们使用最稳妥（因为用的足够多，性能也有保障）的 vector，里面用 pair 存两个数据 {当前 char，是否被 assembled}。于是我们有了这些成员变量：</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">private</span><span class="token operator">:</span>  <span class="token comment">// Your code here -- add private members as necessary.</span>  ByteStream _output<span class="token punctuation">;</span>  <span class="token comment">//!&lt; The reassembled in-order byte stream</span>  size_t _capacity<span class="token punctuation">;</span>    <span class="token comment">//!&lt; The maximum number of bytes</span>  std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span>pair<span class="token operator">&lt;</span><span class="token keyword">char</span><span class="token punctuation">,</span> <span class="token keyword">bool</span><span class="token operator">>></span> _reassembler_stream<span class="token punctuation">;</span> <span class="token comment">//!&lt; The current part of the reassembled byte stream</span>  size_t _eof_index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">//!&lt; The index of Eof char</span>  size_t _disassembled_count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">//!&lt; The count of char has not been reassembled</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>之后我们按照对应的流程实现，就好了。我这里先用文字简单描述下我的过程：</p><ol><li>首先计算 <code>reassembler_stream</code> 存储的开头和结尾 index。根据两边的 index <code>reassembler_stream</code>：</li></ol><ul><li>1.1 已经被 reassembled 的 index 就不必再重新 assemble 一遍，因此需要设置一个变量 <code>first_disassembled</code>，并且从 index 和 <code>first_disassembled</code> 中，选一个大的，作为开头 index，即 <code>_start_index</code>。</li><li>1.2 大于 eof 的不必 assemble；大于 capacity 的不能 assemble。因此我们计算此时剩余的 capacity <code>this-&gt;_first_disassembled_index + this-&gt;_capacity - this-&gt;_output.buffer_size();</code>，并且和 <code>eof</code>、<code>data.length()</code> 做对比，得到结尾 index，即 <code>_end_index</code>。</li><li>1.3 结尾 index 比实际遍历到的最后一个 index 大 1. 所以遍历实际上是左闭右开区间，符合国际惯例。</li></ul><ol start="2"><li><p>更新 eof。执行 1 中对 <code>reassembler_stream</code> 的 assemble 操作。这个操作实际上就是去更新 <code>_reassembler_stream</code> 的 <code>false</code> 值为 true。如果某个字符进入到了 代表着进入了 <code>_reassembler_stream</code> 则意味着它进入了 reassembler 的窗口。</p></li><li><p>接下来需要处理已经在缓冲区的新元素，<code>reassembled_index</code> 在 <code>_reassembler_stream</code>「一路向前」，直到碰到没有 assembled 的元素为止。在实际操作中，没有 assembled 的元素在 <code>_reassembler_stream</code> 中仍然对应则 <code>false</code> 值。</p></li><li><p>当我们收集了一定的 _str 后，向 ByteStream 中写入这些字符串：<code>this-&gt;_output.write(_str);</code></p></li><li><p>最后，如果 <code>reassembled_index</code>「追上了」<code>eof_index</code>，则表明当前当前读取完毕。执行 <code>_output</code> 中停止写入的方法。</p></li></ol><p>如果看的比较迷茫（不得不承认描述代码就是这么枯燥），结合下方的代码一起看，也许会更容易理解。</p><h3 id="2-4-具体实现"><a href="#2-4-具体实现" class="headerlink" title="2.4 具体实现"></a>2.4 具体实现</h3><p><code>stream_reassembler.hh</code></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">StreamReassembler</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">private</span><span class="token operator">:</span>    <span class="token comment">// Your code here -- add private members as necessary.</span>    ByteStream _output<span class="token punctuation">;</span>  <span class="token comment">//!&lt; The reassembled in-order byte stream</span>    size_t _capacity<span class="token punctuation">;</span>    <span class="token comment">//!&lt; The maximum number of bytes</span>    std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span>pair<span class="token operator">&lt;</span><span class="token keyword">char</span><span class="token punctuation">,</span> <span class="token keyword">bool</span><span class="token operator">>></span> _reassembler_stream<span class="token punctuation">;</span> <span class="token comment">//!&lt; The current part of the reassembled byte stream</span>    <span class="token keyword">bool</span> _eof <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">//!&lt; Eof</span>    size_t _eof_index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">//!&lt; The index of Eof char</span>    size_t _first_disassembled_index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">//!&lt; The first index of char not yet reassembled</span>    size_t _disassembled_count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">//!&lt; The count of char has not been reassembled</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>stream_reassembler.cc</code></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token class-name">StreamReassembler</span><span class="token double-colon punctuation">::</span><span class="token function">push_substring</span><span class="token punctuation">(</span><span class="token keyword">const</span> string <span class="token operator">&amp;</span>data<span class="token punctuation">,</span> <span class="token keyword">const</span> size_t index<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">bool</span> eof<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// 1. 首先计算 reassembler_stream 存储的开头和结尾 index。根据两边的 index 更新 reassembler_stream</span>    <span class="token comment">// 1.1 已经被 reassembled 的 index 就不必再重新 assemble 一遍</span>    <span class="token keyword">auto</span> _start_index <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token operator">-></span>_first_disassembled_index<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 1.2 大于 eof 的不必 assemble；大于 capacity 的不能 assemble</span>    <span class="token comment">// 根据上面两条规则，计算两边的 index</span>    <span class="token keyword">auto</span> _index_of_remain_buffer_capacity <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-></span>_first_disassembled_index <span class="token operator">+</span> <span class="token keyword">this</span><span class="token operator">-></span>_capacity <span class="token operator">-</span> <span class="token keyword">this</span><span class="token operator">-></span>_output<span class="token punctuation">.</span><span class="token function">buffer_size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// end 结尾不计算 eof，应该是当前 first_disassembled_index（已经读取到的 index）+ 剩余未进入 BufferStream 缓冲区的容量</span>    <span class="token keyword">auto</span> _end_index <span class="token operator">=</span> <span class="token function">min</span><span class="token punctuation">(</span>index <span class="token operator">+</span> data<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">min</span><span class="token punctuation">(</span>_index_of_remain_buffer_capacity<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token operator">-></span>_eof_index<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 2. 更新 eof</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>eof<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token operator">-></span>_eof_index <span class="token operator">=</span> <span class="token function">min</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-></span>_eof_index<span class="token punctuation">,</span> index <span class="token operator">+</span> data<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// 执行 1 中对 reassembler_stream 的 assemble 操作</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span>size_t i <span class="token operator">=</span> _start_index<span class="token punctuation">,</span> j <span class="token operator">=</span> _start_index <span class="token operator">-</span> index<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> _end_index<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">,</span> <span class="token operator">++</span>j<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">auto</span> <span class="token operator">&amp;</span>t <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-></span>_reassembler_stream<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span>i <span class="token operator">%</span> <span class="token keyword">this</span><span class="token operator">-></span>_capacity<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span>second<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token comment">// 重复进入了缓冲区，代表着重复读取了元素，直接抛弃</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span>first <span class="token operator">!=</span> data<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">throw</span> <span class="token function">runtime_error</span><span class="token punctuation">(</span><span class="token string">"StreamReassembler::push_substring: Current char has been written!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            <span class="token comment">// 代表着进入了 reassembler 的缓冲区</span>            t <span class="token operator">=</span> <span class="token function">make_pair</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">this</span><span class="token operator">-></span>_disassembled_count<span class="token operator">++</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    string _str<span class="token punctuation">;</span>    <span class="token comment">// 3. 接下来需要处理已经在缓冲区的新元素，first_disassembled_index「一路向前」，直到碰到没有 assembled 的元素为止。</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-></span>_first_disassembled_index <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token operator">-></span>_eof_index <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token operator">-></span>_reassembler_stream<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-></span>_first_disassembled_index <span class="token operator">%</span> <span class="token keyword">this</span><span class="token operator">-></span>_capacity<span class="token punctuation">)</span><span class="token punctuation">.</span>second<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        _str<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-></span>_reassembler_stream<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-></span>_first_disassembled_index <span class="token operator">%</span> <span class="token keyword">this</span><span class="token operator">-></span>_capacity<span class="token punctuation">)</span><span class="token punctuation">.</span>first<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token operator">-></span>_reassembler_stream<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token operator">-></span>_first_disassembled_index <span class="token operator">%</span> <span class="token keyword">this</span><span class="token operator">-></span>_capacity<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token operator">-></span>_first_disassembled_index<span class="token operator">++</span><span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token operator">-></span>_disassembled_count<span class="token operator">--</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// 4. 当我们收集了一定的 _str 后，向 ByteStream 中写入这些字符串</span>    <span class="token keyword">this</span><span class="token operator">-></span>_output<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>_str<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 5. 最后，如果 first_disassembled_index「追上了」eof_index，则表明当前当前读取完毕</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-></span>_first_disassembled_index <span class="token operator">==</span> <span class="token keyword">this</span><span class="token operator">-></span>_eof_index<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token operator">-></span>_eof <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token operator">-></span>_output<span class="token punctuation">.</span><span class="token function">end_input</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>size_t <span class="token class-name">StreamReassembler</span><span class="token double-colon punctuation">::</span><span class="token function">unassembled_bytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">&#123;</span> <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token operator">-></span>_disassembled_count<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token keyword">bool</span> <span class="token class-name">StreamReassembler</span><span class="token double-colon punctuation">::</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">&#123;</span> <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token operator">-></span><span class="token function">unassembled_bytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p><a href="https://zhuanlan.zhihu.com/p/20551290958">https://zhuanlan.zhihu.com/p/20551290958</a></p><p><a href="https://lrl52.top/996/cs144-lablab1/">https://lrl52.top/996/cs144-lablab1/</a></p>]]></content>
      
      
      <categories>
          
          <category> 装逼 </category>
          
          <category> CS144 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Network </tag>
            
            <tag> Lab </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>环境变量配置</title>
      <link href="/2025/02/03/env-book-1/"/>
      <url>/2025/02/03/env-book-1/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="WSL"><a href="#WSL" class="headerlink" title="WSL"></a>WSL</h2><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">wsl <span class="token parameter variable">--install</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>这会默认安装 <code>Ubuntu</code>，可以参照官网介绍（<a href="https://learn.microsoft.com/zh-cn/windows/wsl/install#change-the-default-linux-distribution-installed">https://learn.microsoft.com/zh-cn/windows/wsl/install#change-the-default-linux-distribution-installed</a>）安装其他发行版</p><p>安装完成后重启电脑，在开始菜单中打开 <code>Ubuntu</code>，打开后根据提示输入用户名和密码创建默认管理员用户。</p><p>第一次进入窗口可能会提示如下信息（如果没遇到这个信息可以跳过这一步）：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">The WSL optional component is not enabled. Please <span class="token builtin class-name">enable</span> it and try again.See https://aka.ms/wslinstall <span class="token keyword">for</span> details.Error: 0x8007007ePress any key to continue<span class="token punctuation">..</span>.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>打开控制面板 &#x3D;&#x3D;&#x3D;&gt; 程序 &#x3D;&#x3D;&#x3D;&gt; 启用或关闭windows 功能，</p><p>系统为64位的 需要勾选 适用于 <code>Linux</code> 的 <code>windows</code> 子系统 、<code>Hyper-v</code><br>系统为32位的 需要勾选 适用于 <code>Linux</code> 的 <code>windows</code> 子系统 、虚拟机平台</p><p>完成上面设置之后重启电脑即可</p><h3 id="升级命令包"><a href="#升级命令包" class="headerlink" title="升级命令包"></a>升级命令包</h3><p><code>WSL</code> 默认的软件源列表（<code>/etc/apt/sources.list</code>）可能未更新，导致无法找到最新版本的软件包。</p><p>许多工具（如 <code>mininet</code>、<code>wireshark</code>）位于 <code>Ubuntu</code> 的 <code>Universe</code> 或 <code>Multiverse</code> 仓库中，但 <code>WSL</code> 默认可能未启用这些仓库。启用 <code>Universe</code>&#x2F;<code>Multiverse</code> 仓库：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">apt</span> update <span class="token operator">&amp;&amp;</span> <span class="token function">sudo</span> <span class="token function">apt</span> upgrade<span class="token function">sudo</span> add-apt-repository universe<span class="token function">sudo</span> add-apt-repository multiverse<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="配置命令行-zsh"><a href="#配置命令行-zsh" class="headerlink" title="配置命令行 zsh"></a>配置命令行 zsh</h3><p>理想当中的命令行：</p><ol><li>好看（配色、字体可以自由设定）；</li><li>支持 UTF-8 字符的输入与显示；</li><li>支持常见的 *NIX 命令行工具（cat、grep、awk 等）；</li><li>自动补全、语法高亮、历史记录；</li><li>完善的复制粘贴支持；</li><li>互操作性（共享文件系统、网络栈，可调用 Win32 程序）；</li><li>支持常用的脚本语言（PHP、Python、Node.js 等）；</li><li>包管理器，以及其他各种常用软件的支持；</li><li>快速呼出（快捷键、右键菜单入口）。</li></ol><p>安装 zsh：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> <span class="token function">zsh</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>设置 zsh 为默认命令行：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">chsh <span class="token parameter variable">-s</span> <span class="token variable"><span class="token variable">$(</span><span class="token function">which</span> <span class="token function">zsh</span><span class="token variable">)</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>运行后需要输入密码，之后重启终端即可看到设置生效了，也可以通过 <code>echo $SHELL</code> 命令查看当前命令行是否是 <code>/bin/zsh</code></p><h3 id="zsh-配置-Proxy（不在国内可以跳过）"><a href="#zsh-配置-Proxy（不在国内可以跳过）" class="headerlink" title="zsh 配置 Proxy（不在国内可以跳过）"></a>zsh 配置 Proxy（不在国内可以跳过）</h3><blockquote><p>注意：它仅仅只用来配置 zsh，安装了 oh-my-zsh 后就会失效，因为 <code>~/.zshrc</code> 会被覆盖。</p></blockquote><p>如果遇到：「wsl: 检测到 <code>localhost</code> 代理配置，但未镜像到 WSL。<br>NAT 模式下的 WSL 不支持 <code>localhost</code> 代理。」，<br>可以在 <code>C:\Users\[username]</code> 目录下创建 <code>.wslconfig</code> 文件，写入:</p><pre class="line-numbers language-text" data-language="text"><code class="language-text">[experimental]autoMemoryReclaim=gradualnetworkingMode=mirroreddnsTunneling=truefirewall=trueautoProxy=true<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>然后在 PowerShell 中用 <code>wsl --shutdown</code> 命令关闭 <code>WSL</code>，再重启终端。</p><p><code>WSL2</code> 的网络是连接自 <code>Windows</code> 的一个单独网络，所以无法直接使用到 <code>Windows</code> 中开启的代理，但是可以通过设置代理为 <code>Windows IP</code> + 代理端口号实现</p><p>首先在代理软件中开启「允许来至局域网的连接」</p><p>「本机 <code>sockets</code> 端口」对应的端口号也就是 <code>Windows</code> 代理的端口号，而一般我们在 <code>Clash</code> 中使用的 <code>http</code> 端口号，则为 <code>sockets</code> 端口 + 1。</p><p>假设我们用到的是 <code>9090</code>.</p><p><code>Windows IP</code> 地址是可能变化的，可以利用上面提到的 <code>WSL</code> 网络连接自 <code>Windows</code> 这一点，从 <code>/etc/resolv.conf</code> 文件中自动获取</p><p>之后通过 <code>code ~/.zshrc</code> 或 <code>vim ~/.zshrc</code> 在 zsh 配置中添加:</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token assign-left variable">host_ip</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">cat</span> /etc/resolv.conf <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">"nameserver"</span> <span class="token operator">|</span> <span class="token function">cut</span> <span class="token parameter variable">-f</span> <span class="token number">2</span> <span class="token parameter variable">-d</span> <span class="token string">" "</span><span class="token variable">)</span></span><span class="token assign-left variable">proxy_port</span><span class="token operator">=</span><span class="token number">10809</span><span class="token builtin class-name">alias</span> <span class="token assign-left variable">proxy</span><span class="token operator">=</span><span class="token string">"all_proxy=http://<span class="token variable">$host_ip</span>:<span class="token variable">$proxy_port</span>"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>运行</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">source</span> ~/.zshrc<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>让配置生效，之后运行：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">curl</span> www.google.com <span class="token comment"># 失败</span>proxy <span class="token function">curl</span> www.google.com <span class="token comment"># 成功</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>你可以看到，当我们在 <code>curl</code> 请求命令前增加 <code>proxy</code>，这就意味着我们使用了 <code>windows</code> 代理进行了访问。随后的 <code>oh-my-zsh</code> 的安装就说明了这一点。</p><p>如果还是无法正常使用代理，可能是因为防火墙的原因，可以在 Windows 命令行中以管理员身份执行：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">New-NetFirewallRule <span class="token parameter variable">-DisplayName</span> <span class="token string">"WSL"</span> <span class="token parameter variable">-Direction</span> Inbound  <span class="token parameter variable">-InterfaceAlias</span> <span class="token string">"vEthernet (WSL)"</span>  <span class="token parameter variable">-Action</span> Allow<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>防火墙设置如果遇到：「New-NetFirewallRule : The specified interface was not found on the system.」，需要将命令中的 <code>vEthernet (WSL)</code> 替换为「Windows Defender 防火墙属性 -&gt; 公用配置文件 -&gt; 受保护的网络连接-自定义」中实际的 <code>vEthernet-WSL</code> 名称</p><h3 id="配置-oh-my-zsh"><a href="#配置-oh-my-zsh" class="headerlink" title="配置 oh-my-zsh"></a>配置 oh-my-zsh</h3><p>运行命令安装 oh-my-zsh</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">proxy <span class="token function">curl</span> <span class="token parameter variable">-fsSL</span> https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh <span class="token operator">|</span> <span class="token function">sh</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>随后安装：</p><ul><li>zsh-syntax-highlighting：提供语法高亮功能</li><li>zsh-autosuggestions：根据历史命令提供建议</li></ul><p>运行：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> clone https://github.com/zsh-users/zsh-syntax-highlighting.git <span class="token variable">$&#123;ZSH_CUSTOM<span class="token operator">:-</span>~<span class="token operator">/</span>.oh-my-zsh<span class="token operator">/</span>custom&#125;</span>/plugins/zsh-syntax-highlighting<span class="token function">git</span> clone https://github.com/zsh-users/zsh-autosuggestions <span class="token variable">$&#123;ZSH_CUSTOM<span class="token operator">:-</span>~<span class="token operator">/</span>.oh-my-zsh<span class="token operator">/</span>custom&#125;</span>/plugins/zsh-autosuggestions<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>随后在 <code>~/.zshrc</code> 中，修改主题和插件：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token assign-left variable">plugins</span><span class="token operator">=</span><span class="token punctuation">(</span>        <span class="token function">git</span>        <span class="token function">sudo</span>        z        zsh-autosuggestions        zsh-syntax-highlighting<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token assign-left variable">ZSH_THEME</span><span class="token operator">=</span><span class="token string">"agnoster"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="配置-Git"><a href="#配置-Git" class="headerlink" title="配置 Git"></a>配置 Git</h3><p>注意，以下两种方法，二选一即可。</p><h4 id="通过共享-Windows-的信息"><a href="#通过共享-Windows-的信息" class="headerlink" title="通过共享 Windows 的信息"></a>通过共享 Windows 的信息</h4><p>通过<strong>在 Windows 命令提示符或 PowerShell 中</strong>运行以下命令，在 Windows 上配置凭据管理器：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> config <span class="token parameter variable">--global</span> credential.helper wincred<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>配置 WSL 以使用相同的凭据帮助程序，<strong>在 WSL 终端</strong>中运行以下命令（假设您有git&gt;&#x3D; v2.39.0）：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> config <span class="token parameter variable">--global</span> credential.helper <span class="token string">"/mnt/c/Program\ Files/Git/mingw64/bin/git-credential-manager.exe"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>（exe 路径可能需要修改）</p><p>要了解以前版本的路径 git，请参考 <a href="https://learn.microsoft.com/en-us/windows/wsl/tutorials/wsl-git">https://learn.microsoft.com/en-us/windows/wsl/tutorials/wsl-git</a></p><h4 id="通过设置-SSH"><a href="#通过设置-SSH" class="headerlink" title="通过设置 SSH"></a>通过设置 SSH</h4><p>将 Git 更新至适合 WSL 的最新稳定版本。</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> <span class="token function">git</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>设置用户名 (Github ID)</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> config <span class="token parameter variable">--global</span> user.name <span class="token string">"your_name"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>设置邮箱 (Github email)</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> config <span class="token parameter variable">--global</span> user.email <span class="token string">"your_email"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>在 WSL 下生成 SSH 公钥—私钥对（将邮箱替换为你的邮箱），此时生成的 SSH 密钥默认位于 <code>~/.ssh</code> 路径下，公钥为 <code>id_rsa.pub</code>，私钥为 <code>id_rsa</code></p><p>执行完后只需一路回车即可</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">ssh-keygen <span class="token parameter variable">-t</span> rsa <span class="token parameter variable">-b</span> <span class="token number">4096</span> <span class="token parameter variable">-C</span> <span class="token string">"your_email"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>打开 <code>ssh-agent</code> 使之在后台运行</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">eval</span> <span class="token string">"<span class="token variable"><span class="token variable">$(</span>ssh-agent <span class="token parameter variable">-s</span><span class="token variable">)</span></span>"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>将私钥添加到 <code>ssh-agent</code> 之中</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">ssh-add ~/.ssh/id_rsa<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>查看并复制公钥</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">cat</span> ~/.ssh/id_rsa.pub<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>将复制的公钥信息添加到 Github&#x2F;Gitee</p><h3 id="Clion-初始化"><a href="#Clion-初始化" class="headerlink" title="Clion 初始化"></a>Clion 初始化</h3><p><code>C++</code> 一般是用在 <code>linux</code> 下，这里就用 <code>Ubuntu</code> 进行开发，考虑到 <code>window</code> 系统，这里准备用 <code>wsl2</code>.</p><blockquote><p>首先请必须先行完成上述配置后，再进行 Clion 和 WSL 的结合开发。</p></blockquote><p>运行命令，安装必备的工具链（直接从 CS144 的课程里面扒下来的，反正迟早都得安装 0.0）：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">apt-get</span> <span class="token function">install</span> g++ <span class="token function">git</span> clang-tidy clang-format libpcap-dev <span class="token punctuation">\</span>    iptables mininet tcpdump telnet wireshark socat netcat-openbsd <span class="token punctuation">\</span>    doxygen graphviz cmake gdb gcc clang<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>安装完毕后，我们打开 Clion，进入<br>Settings –&gt; Build, Execution, Deployment –&gt; Toolchains. 点击 add</p><div align="center">  <img src="../../../../loading2.svg" data-original="/2025/02/03/env-book-1/1.png"></div><p>之后，Clion 会识别到你刚刚安装好的各种工具，如图所示，就算是成功了。</p><p>这样相关的文件就是 Ubuntu 中，此时编译如果 cmake 版本过低， Clion 会有提示，可以根据提示修改 CMakeLists.txt 中最底的版本，一个建议为：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">cmake_minimum_required<span class="token punctuation">(</span>VERSION <span class="token number">3.22</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>之后我们来到<br>Settings –&gt; Tools –&gt; Terminal</p><p>修改 Shell path：</p><p>替换默认的 PowerShell 路径为 WSL 的 Bash 路径为 <code>C:\Windows\System32\wsl.exe</code></p><p>点击 Apply → OK。</p><p>这些步骤完成后，最好是新建一个 Clion 的 Hello, world! 项目，来验证自己的工具是否完成。</p><h2 id="Windows"><a href="#Windows" class="headerlink" title="Windows"></a>Windows</h2><h2 id="MacOS"><a href="#MacOS" class="headerlink" title="MacOS"></a>MacOS</h2><h2 id="关于-WSL-的介绍"><a href="#关于-WSL-的介绍" class="headerlink" title="关于 WSL 的介绍"></a>关于 WSL 的介绍</h2><p><strong>WSL（Windows Subsystem for Linux）</strong> 是微软为 Windows 系统提供的一种兼容层技术，允许用户在 Windows 上直接运行原生 Linux 二进制文件（无需传统虚拟机或双系统）。以下是 WSL、虚拟机（如 VMware&#x2F;VirtualBox）和原生双系统的核心区别：</p><hr><h3 id="1-WSL（Windows-Subsystem-for-Linux）"><a href="#1-WSL（Windows-Subsystem-for-Linux）" class="headerlink" title="1. WSL（Windows Subsystem for Linux）"></a><strong>1. WSL（Windows Subsystem for Linux）</strong></h3><h4 id="核心特点"><a href="#核心特点" class="headerlink" title="核心特点"></a><strong>核心特点</strong></h4><ul><li><strong>轻量级</strong>：<br>通过子系统（非虚拟化）直接调用 Linux 内核接口（WSL2 基于轻量级 Hyper-V 虚拟化），资源占用低。</li><li><strong>无缝集成</strong>：  <ul><li>可直接访问 Windows 文件系统（如 <code>/mnt/c</code> 对应 <code>C:</code> 盘）。  </li><li>支持在 Windows 终端中运行 Linux 命令，甚至混合使用（如 <code>ls | clip.exe</code>）。</li></ul></li><li><strong>性能</strong>：  <ul><li><strong>文件系统性能</strong>：WSL2 的 Linux 文件系统性能接近原生，但 Windows 文件系统的跨系统访问较慢。  </li><li><strong>计算密集型任务</strong>（如编译）：性能接近原生 Linux。</li></ul></li><li><strong>适用场景</strong>：  <ul><li>开发者需要 Linux 工具链（如 <code>gcc</code>、<code>python</code>）。  </li><li>轻量级 Linux 环境测试或学习 Shell 脚本。</li></ul></li></ul><hr><h3 id="2-虚拟机（VMware-VirtualBox-Hyper-V）"><a href="#2-虚拟机（VMware-VirtualBox-Hyper-V）" class="headerlink" title="2. 虚拟机（VMware&#x2F;VirtualBox&#x2F;Hyper-V）"></a><strong>2. 虚拟机（VMware&#x2F;VirtualBox&#x2F;Hyper-V）</strong></h3><h4 id="核心特点-1"><a href="#核心特点-1" class="headerlink" title="核心特点"></a><strong>核心特点</strong></h4><ul><li><strong>完全隔离</strong>：<br>通过 Hypervisor 虚拟化硬件，运行完整的独立操作系统（包括内核），与宿主机完全隔离。</li><li><strong>资源占用高</strong>：<br>需要分配固定内存、CPU 和磁盘空间，运行时会占用较多资源。</li><li><strong>灵活性</strong>：  <ul><li>可安装任意操作系统（如 macOS、BSD）和发行版。  </li><li>支持快照、克隆等高级功能。</li></ul></li><li><strong>性能损失</strong>：<br>虚拟化层导致计算和 I&#x2F;O 性能有约 10-20% 的损失（尤其是图形密集型任务）。</li><li><strong>适用场景</strong>：  <ul><li>需要完整 Linux 桌面环境（如 GNOME&#x2F;KDE）。  </li><li>多系统兼容性测试或运行 Windows 不支持的软件（如旧版 macOS）。</li></ul></li></ul><hr><h3 id="3-原生双系统（Windows-Linux）"><a href="#3-原生双系统（Windows-Linux）" class="headerlink" title="3. 原生双系统（Windows + Linux）"></a><strong>3. 原生双系统（Windows + Linux）</strong></h3><h4 id="核心特点-2"><a href="#核心特点-2" class="headerlink" title="核心特点"></a><strong>核心特点</strong></h4><ul><li><strong>独立运行</strong>：<br>通过分区安装两个系统，每次启动需选择进入 Windows 或 Linux。</li><li><strong>性能最优</strong>：<br>直接使用硬件资源，无虚拟化或兼容层开销，适合高性能需求（如游戏、科学计算）。</li><li><strong>无互操作性</strong>：  <ul><li>无法同时运行两个系统，文件系统默认不互通（需手动挂载分区）。  </li><li>硬件资源（如 GPU）独占使用。</li></ul></li><li><strong>适用场景</strong>：  <ul><li>需要最大化 Linux 性能（如深度学习、渲染）。  </li><li>长期专注于 Linux 开发或生产环境。</li></ul></li></ul><hr><h3 id="三者的对比总结"><a href="#三者的对比总结" class="headerlink" title="三者的对比总结"></a><strong>三者的对比总结</strong></h3><table><thead><tr><th><strong>维度</strong></th><th><strong>WSL</strong></th><th><strong>虚拟机</strong></th><th><strong>原生双系统</strong></th></tr></thead><tbody><tr><td><strong>性能</strong></td><td>接近原生（计算任务）</td><td>有虚拟化损失</td><td>原生性能</td></tr><tr><td><strong>资源占用</strong></td><td>低（仅需少量内存）</td><td>高（需预分配资源）</td><td>独占硬件</td></tr><tr><td><strong>启动速度</strong></td><td>秒级启动</td><td>分钟级启动</td><td>依赖硬件启动速度</td></tr><tr><td><strong>系统隔离</strong></td><td>部分隔离（共享内核或轻量虚拟化）</td><td>完全隔离</td><td>完全独立</td></tr><tr><td><strong>文件互操作</strong></td><td>直接访问双方文件系统</td><td>需共享文件夹或网络传输</td><td>需手动挂载分区</td></tr><tr><td><strong>适用场景</strong></td><td>开发、轻量级 Linux 任务</td><td>多系统测试、完整 Linux 桌面</td><td>高性能需求、长期 Linux 工作</td></tr></tbody></table><hr><h3 id="选择建议"><a href="#选择建议" class="headerlink" title="选择建议"></a><strong>选择建议</strong></h3><ul><li><strong>日常开发&#x2F;学习 Linux</strong>：优先选择 <strong>WSL</strong>（快速、轻便）。  </li><li><strong>多系统兼容性测试</strong>：使用 <strong>虚拟机</strong>（灵活、安全）。  </li><li><strong>高性能计算&#x2F;游戏</strong>：安装 <strong>原生双系统</strong>（资源独占、无性能损失）。  </li><li><strong>图形化 Linux 需求</strong>：虚拟机或双系统（WSL 对 GUI 支持有限，需额外配置）。</li></ul><p>通过理解这些差异，可以根据需求选择最适合的方案。</p>]]></content>
      
      
      <categories>
          
          <category> 开箱即用 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 开箱即用 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>海星来来的 2024 总结</title>
      <link href="/2025/01/30/2024-summary/"/>
      <url>/2025/01/30/2024-summary/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="海星来来的-2024-总结-´∀-♥"><a href="#海星来来的-2024-总结-´∀-♥" class="headerlink" title="海星来来的 2024 总结 (*´∀&#96;)~♥"></a>海星来来的 2024 总结 (*´∀&#96;)~♥</h1><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup">&lt;/2024>&lt;2025><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="📑-按照惯例的碎碎念"><a href="#📑-按照惯例的碎碎念" class="headerlink" title="📑 按照惯例的碎碎念"></a>📑 按照惯例的碎碎念</h2><p>2024 年实际上没有什么好说的，因为我一直在打工。打工的时候遭遇过低谷，但走出来后也就云淡风轻了。此时此刻，我有很多想说的东西，可是真的要吐露了，我又觉得这是一件没必要的事情。那就等我想好了，再来补充吧。（也很可能不会补充了）</p><p>2025，希望在保持现有势头的同时，可以多尝试一些新事物。</p><h2 id="💠-年度纪念品"><a href="#💠-年度纪念品" class="headerlink" title="💠 年度纪念品"></a>💠 年度纪念品</h2><blockquote><p>一般来说，选择纪念品作为本年度的代表物，是非常有意义的一件事。当我试图找寻以前的记忆，我发现总是一些纪念品，它们成为了我的「锚点」，和记忆一起成为了心流中印象最深刻的部分。哪怕是有一天不写文字总结了，我也要将这个部分单独写出来，成为我的年度记忆。</p></blockquote><h3 id="1-1-🎶-音乐"><a href="#1-1-🎶-音乐" class="headerlink" title="1.1 🎶 音乐"></a>1.1 🎶 音乐</h3><p>本年度的年初，我偶然找到了一份歌单，它是贝多芬的钢琴奏鸣曲全集。所以，我今年<s>抛弃了肖邦</s>，开始精听贝多芬的交响。毫无疑问，九首交响是它最伟大的交响作品。</p><p>但是，我想把纪念品颁给《第三号钢琴协奏曲》。我把我认为比较好的一个版本（并不是我最喜欢的版本，但这个版本的受众应该会足够多），推荐给你：</p><div style="position: relative; width: 100%; height: 0; padding-bottom: 56.3%; margin: 20px 0"><iframe style="position: absolute; width: 100%; height: 100%; left: 0; top: 0;" src="https://www.youtube-nocookie.com/embed/MZudOTnSk9k?si=CrDrMvAwP7eXgkl9" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe></div><p>你可以在一些网站和文献中找到对于它普遍的描述：这部作品标志着贝多芬协奏曲创作风格的转折，开始脱离古典主义传统向浪漫主义迈进。在继承莫扎特创作手法的基础上，出现了他个性中追求的戏剧性冲突，钢琴被赋予明显的激情和力量，如第一乐章有浪漫的英雄主义情怀和交响诗韵味，第二乐章有史诗般意境。</p><p>我不是分析乐理的专家，但它之所以得奖，正是因为一般性分析中的「转变时刻」。</p><p>它陪着我度过了 2024 中最为困难的一段时期。年中的时候，我所在的业务发生变动，自己的地盘被逐步蚕食，并且因为各种各样的原因，其它人正在寻找我的替代品。在渡过困境的过程中，如果说我的伙伴是我的第一功臣，那么贝多芬就是第二功臣。如果只是我以前听过的曲目——你让我理性分析它会更有力量，但是音乐欣赏这个东西更多出于感性。所以，正是《第三号钢琴协奏曲》陪伴了我走过工作中的低谷，它也是我在这一年内我印象最深刻的贝多芬，也让我对贝多芬的转变的时刻，有了更深刻的认识。</p><p>古典是严肃的，浪漫主义是富有力量的。严肃虽然会让我们做事拥有更高的准确度，但也容易让我们陷入不思进取的陷阱。浪漫主义有很多类型，但是它的内在是积极的，它的核心正是一颗勇敢之心，和赤诚的热血。</p><h3 id="1-2-🎬️-动漫"><a href="#1-2-🎬️-动漫" class="headerlink" title="1.2 🎬️ 动漫"></a>1.2 🎬️ 动漫</h3><p>说到 2024 年的动漫，纪念品毫无疑问就是：</p><div align="center">  <img alt="我知道你肯定想说的是它.png" src="../../../../loading2.svg" data-original="/2025/01/30/2024-summary/4.png"></div><p>《败犬女主太多了》是一部由 A-1 Pictures 制作的校园恋爱喜剧动画，于 2024 年 7 月 13 日至 9 月 28 日播出，全 12 集。</p><p>这部作品以「败犬女主」为核心，跳出了传统校园恋爱动画中男女主恋爱养成的常规套路。观众看腻了常见的恋爱模式后，这种聚焦于恋爱失败后的女主们如何成长<s>和贡献名场面</s>的故事，带来了全新的观剧体验。它的作画我也非常喜欢，这部作品在画面上精益求精，摄影的实拍感很强，对光线、阴影、色彩的运用都非常巧妙。比如逆光时人物大面积阴影以及下颌线青蓝色的反光处理得自然真实；通过青黄偏青的色彩彰显夏日青春和躁动。</p><p>毫无疑问，兄弟般的女孩子自然很受到我们宅男的喜欢。老八和温水的相遇就已经是非常满足宅男幻想但平时毫无疑问求之不得的情景——在家庭餐厅碰见温水，因没钱让温水代垫，后提出做便当作出赔偿，之后作为败北女主和温水行动。虽然毫无疑问人气最高的是老八，<s>并且老八真是败犬？也不普通好嘛</s>但是看似普通的每一位女主都有大量拥簇且人设都相当好。败犬的喜剧效果自然也贡献了很多名梗，看看 B 站的逆天级别数量的二创自然就能明白。</p><p>总而言之，B 站虽然没引入这一作（仔细想想确实是这样？），但是它毫无疑问是 2024 讨论热度最高的一部作品，也是我最喜欢的作品之一。</p><h3 id="1-3-🎮-游戏"><a href="#1-3-🎮-游戏" class="headerlink" title="1.3 🎮 游戏"></a>1.3 🎮 游戏</h3><p>今年买我了新电脑！！所以我重新回归了 Steam。我玩了黑神话悟空，极限竞速地平线 4 等等，但是首先，我自然是要重新做回一个柚子厨！<code>Ciallo～(∠・ω&lt; )⌒☆</code></p><p>（明年我想把年度游戏给黑神话，所以别问了别问了，但我就是想做柚子厨。）</p><p>（不信？你点点鼠标呀~）</p><p>2024 年内，我补完了柚子 2019 到 2023 的新作品，虽然你大概率也知道它们，但我还是忍不住向你介绍，(≧ω≦)✨ 所以，柚子社的甜蜜时光列车发车咯！</p><ul><li>2019《喫茶ステラと死神の蝶》</li></ul><p>咖啡香气与死神镰刀の奇妙碰撞！🌼 这一作我只玩了夏目线和小希线。柚子社一向是牛逼的设定但是配合了一个平凡的展开，所以说它的剧情确实没有什么可以讲的。四季夏目人设自然是里面最好的那一个，加上平凡的剧情但是不平凡的个人剧情，所以我当即决定第一个就推她。</p><p><s>上班之后我逐渐变得 M，所以我喜欢夏目也丝毫是一个不奇怪的选择。</s>但是一般来说，这种类型的角色其实挺难驾驭的，因为她们天生就会男主没有什么好感。四季夏目一开始就是非常冷冰冰的态度，男主在共通线的努力让大家有目共睹，作为咖啡店的老板夏目有了一个喜欢上主角的理由。但直到进线，我其实都不太能看得出男主是否能成功攻略夏目。</p><p>个人线中，夏目的人设发挥到了极致，柚子社给你她全系列作品中最好的在一起的 CG 之一——凌晨之时，寒冬之下，两个人虽然暂未确认关系，但他们的心早已连接在一起。随着后面我们了解到夏目的信息越来越多，她作为一个弱者的一面也逐渐被我们所了解。男主真正成为她倚靠的同时，他们也已经真正在一起了。</p><div align="center">  <img alt="本作最爱也是第一推：四季夏目" src="../../../../loading2.svg" data-original="/2025/01/30/2024-summary/2.png"></div><ul><li>2023《天使☆騒々 RE-BOOT!》</li></ul><p>这一作纯萌拔作，如果说喫茶ステラと死神の蝶我还可以用比较文艺的口吻来讲述一些过程，这一作我就只记得一些梗了。确实<s>某些部分</s>很有意思也很实用，但确实不适合展开来说。</p><p>人设方面，我喜欢小云雀来海，且我也是第一个推的她。且问，谁会拒绝一个你来教室前就坐在你座位上，大方和你聊天的女孩子呢？</p><div align="center">  <img alt="本作最爱也是第一推：小云雀来海" src="../../../../loading2.svg" data-original="/2025/01/30/2024-summary/1.png"></div><p>但要论年度游戏，作为忠实的柚子厨我确实不想给到上面两作…，我仍然还是想颁给《サノバウィッチ》即（魔女的夜宴）。今年的新作还没出，但我仍然有较大的把我认为魔女的夜宴仍旧是柚子社最好的作品。在我今年想颁发这个纪念品给柚子社的情况下，《魔女的夜宴》一定是要占据一席之地的。</p><p>绫地宁宁用「时间回溯」的剧情温柔刀捅哭所有人！，剧情虽然说老套，但是在玩家的爱意和精心塑造的氛围的影响下，每过一边宁宁的剧情，仍然还是会感觉很难受。除了宁宁，因潘巡、椎叶紬妈妈、学姐的剧情实际上都做的很好，令人印象深刻。</p><p>有时间我还是想做柚子社专题，虽然确实不如 b 站和知乎大神做的好，但我会努力表达自己想写的东西~ Flag++</p><div align="center">  <img alt="平等的爱给到每一位女主~" src="../../../../loading2.svg" data-original="/2025/01/30/2024-summary/3.png"></div><h2 id="🌞-我的足迹"><a href="#🌞-我的足迹" class="headerlink" title="🌞 我的足迹"></a>🌞 我的足迹</h2><p>今年主要在大湾区范围内活动，去了广州和澳门。</p><ul><li>澳门</li></ul><div align="center">  <img alt="赌场夜景" src="../../../../loading2.svg" data-original="/2025/01/30/2024-summary/5.jpg"></div><p>在澳门的时候，被当作小孩子<s>这是借口，实际上是没有带身份证</s>不给进赌场，导致我现在还在疑惑赌场是否真的有免费食物以及免费食物好不好吃。</p><div align="center">  <img alt="葡式餐厅" src="../../../../loading2.svg" data-original="/2025/01/30/2024-summary/6.jpg"></div><p>导游小姐姐给我们介绍澳门风土人情，并且着重强调了澳门的高福利。于是在饭局上我问导游小姐姐怎么入籍澳门…</p><ul><li>广州</li></ul><div align="center">  <img alt="坐上了心心念念的南中珠城际——广州地铁18号线" src="../../../../loading2.svg" data-original="/2025/01/30/2024-summary/7.jpg"></div><p>地铁迷怎么会错过南中珠城际！</p><div align="center">  <img alt="拍了下住的地方" src="../../../../loading2.svg" data-original="/2025/01/30/2024-summary/8.png"></div><p>因为人生地不熟随机找了个看上去视野好的酒店（此时我还不知道这个酒店有多么吊 0.0），但是它确实没让我失望，视野真的超棒！服务也很好。</p><p>实际上我还拍了广州塔的照片，但是实在拍的太差所以就不放了…</p><p>2025 一定要去更多的地方！！最好出国玩。</p><h2 id="📚-2024-目标总结"><a href="#📚-2024-目标总结" class="headerlink" title="📚 2024 目标总结"></a>📚 2024 目标总结</h2><h3 id="🌱-做得好的"><a href="#🌱-做得好的" class="headerlink" title="🌱 做得好的"></a>🌱 做得好的</h3><ul><li>运动量水平，这个确实在慢慢恢复并且开始坚持。皮肤状态相比于以前好了不少~</li><li>理财收益借着 2024 美股的大牛尤其是英伟达和特斯拉超额完成目标，这是理财小白最好的负学费礼物~</li><li>学习了一些日语，渐渐可以看懂一些文字了，也考了 N2。</li><li>工作实现了一定突破，也开始拓展自己的技术栈。</li></ul><h3 id="🥹-做得不太好的"><a href="#🥹-做得不太好的" class="headerlink" title="🥹 做得不太好的"></a>🥹 做得不太好的</h3><ul><li>没有完成一门国外的计算机课程，6.824 甚至都没有去找视频看。</li><li>英语学习没有持之以恒，但这个在 2025 年也不一定能做好，可以给自己找个事情来破局。</li><li>看番剧、看书没有以前多了。</li></ul><h2 id="🚀-2025-目标"><a href="#🚀-2025-目标" class="headerlink" title="🚀 2025 目标"></a>🚀 2025 目标</h2><ul><li>把英语重新捡起来，可以给自己找点事情做，比如在翻译组里面翻译一些高质量英语文章。</li><li>继续尝试不同类型的稳健投资。</li><li>日语更加精进，今年内希望可以慢慢达到啃生肉的水平。</li><li>晋升！！然后继续攒钱。</li><li>静下心来玩更多 Galgame。</li></ul><h2 id="🌈-ONE-MORE-THING"><a href="#🌈-ONE-MORE-THING" class="headerlink" title="🌈 ONE MORE THING"></a>🌈 ONE MORE THING</h2><p>写这篇文章的时候，Nvidia 暴跌了 17%，可谓是开年美股的第一波重大新闻。DeepSeek 早在一个月前就已经有版本被发布出来，但当时被认为只是一个大模型低成本的使用方式（虽然这种模式也已经足够牛逼，在知乎等平台上也已经有了一定讨论量），但是当 R1 模型出来后，可以说是达到了「震撼全球」的效果。所以这个时刻我想给到这一重大新闻。</p><p>适合发布的文章我已经找好了，等到符合预期了，就发布更新~</p>]]></content>
      
      
      <categories>
          
          <category> 碎碎念 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 碎碎念 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>安卓（1）-语法基础：Kotlin ＆ Java ＆ TS 对比</title>
      <link href="/2025/01/29/android-1/"/>
      <url>/2025/01/29/android-1/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><blockquote><p>2024 年我开始逐渐介入客户端的研发，因此我开始学习客户端的知识。<br>从服务端开始，转到前端来其实完全代表着我的编码风格的转变。我喜欢 UI 编程那「所见即所得」的惊艳，也喜欢人机交互相关的内容。<br>做 C 端 App，前端技术实际上更多是一种强行「卷」过来的结果：首先，基础肯定是客户端技术 Android&#x2F;iOS，但是前端的作用越来越清晰。当然，目前的大环境下走入前端甚至客户端开发通常被认为是一种开倒车的举动。但这种东西谁又说得好呢——难道做算法调优几个版本实验指标波动，亦或者做服务端大半夜被机器人打电话就能让人兴奋了吗？<br>人总有无知的时候，在已知信息差的时候我们总有一天要为认知买单。所以就让我们为梦想，做出一次不那么受到束缚的选择吧。<br>这是安卓系列的第一期，它包含以下内容：<br><a href="/2025/01/29/android-1/">安卓（1）-语法基础：Kotlin ＆ Java ＆ TS 对比</a><br><a href="/2025/01/29/android-2/">安卓（2）-语法基础：Kotlin 常用库（1）</a><br><a href="/2025/01/29/android-3/">安卓（3）-实用篇：UI（1）</a><br>我使用了 AI 来辅助我创作了一些重复性的工作，第一期内容会以相关知识的罗列为主，所以最好的阅读方式是阅读后进行查漏补缺。<br>希望大家可以喜欢这些教程！</p></blockquote><p>前端研发学习客户端开发很有必要，主要体现在以下几方面：</p><ul><li>拓宽技术栈，增强竞争力：当前技术就业市场青睐全栈开发能力，掌握客户端开发知识，能让前端开发者从专注浏览器端用户界面，拓展到移动、桌面等多种客户端平台的开发，满足更多类型项目的需求。在求职和职业发展中更具优势，尤其对于追求低成本、高效率的企业，一专多能的开发者更受欢迎。</li><li>提升用户体验理解：用户期望不同设备间体验一致，学习客户端开发能让前端开发者参与跨平台应用开发，实现网页端和客户端体验的无缝过渡。同时，客户端开发涉及更多硬件资源利用和性能优化技巧，有助于前端开发者将这些理念应用到前端开发中，提升整体用户体验。</li><li>更好地进行团队协作：在包含多种角色的开发团队里，了解客户端开发能使前端开发者与客户端开发人员沟通更顺畅，减少因技术认知差异产生的沟通障碍，提高协作效率。在项目规划阶段，还能结合前端和客户端的特点，提出更合理的技术方案，避免后期出现平台开发不协调的问题。</li></ul><p>目标：</p><ul><li>语言能力：for 前端同学，能看懂 Java 代码，能上手写 Kotlin 代码。</li></ul><h3 id="Kotlin-＆-Java"><a href="#Kotlin-＆-Java" class="headerlink" title="Kotlin ＆ Java"></a>Kotlin ＆ Java</h3><p><strong>Kotlin</strong>是一种在 <a href="https://zh.wikipedia.org/wiki/Java%E8%99%9B%E6%93%AC%E6%A9%9F">Java 虚拟机</a>上执行的<a href="https://zh.wikipedia.org/wiki/%E9%9D%99%E6%80%81%E7%B1%BB%E5%9E%8B">静态类型</a><a href="https://zh.wikipedia.org/wiki/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80">编程语言</a>，它也可以被编译成为 <a href="https://zh.wikipedia.org/wiki/JavaScript">JavaScript</a> 源代码。它主要是由 <a href="https://zh.wikipedia.org/wiki/JetBrains">JetBrains</a> 在<a href="https://zh.wikipedia.org/wiki/%E4%BF%84%E7%BE%85%E6%96%AF">俄罗斯</a><a href="https://zh.wikipedia.org/wiki/%E8%81%96%E5%BD%BC%E5%BE%97%E5%A0%A1">圣彼得堡</a>的开发团队所发展出来的编程语言，其名称来自于圣彼得堡附近的<a href="https://zh.wikipedia.org/wiki/%E7%A7%91%E7%89%B9%E6%9E%97%E5%B3%B6">科特林岛</a>。</p><h3 id="Kotlin-的优势（对比-Java）"><a href="#Kotlin-的优势（对比-Java）" class="headerlink" title="Kotlin 的优势（对比 Java）"></a>Kotlin 的优势（对比 Java）</h3><p><strong>富有表现力且简洁</strong> 您可以使用更少的代码实现更多的功能。表达自己的想法，少编写样板代码。在使用 Kotlin 的专业开发者中，有 67% 的人反映其工作效率有所提高。</p><p><strong>更安全的代码</strong> Kotlin 有许多语言功能，可帮助您避免 null 指针异常等常见编程错误。包含 Kotlin 代码的 Android 应用发生崩溃的可能性降低了 20%。</p><p><strong>可互操作</strong> 您可以在 Kotlin 代码中调用 Java 代码，或者在 Java 代码中调用 Kotlin 代码。Kotlin 可完全与 Java 编程语言互操作，因此您可以根据需要在项目中添加任意数量的 Kotlin 代码。</p><p><strong>结构化并发</strong> Kotlin 协程让异步代码像阻塞代码一样易于使用。协程可大幅简化后台任务管理，例如网络调用、本地数据访问等任务的管理。</p><h2 id="基础语法"><a href="#基础语法" class="headerlink" title="基础语法"></a>基础语法</h2><h3 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h3><h4 id="1-1-变量、常量声明"><a href="#1-1-变量、常量声明" class="headerlink" title="1.1 变量、常量声明"></a>1.1 变量、常量声明</h4><p>在 Kotlin 中，可以使用 val 或 var 关键字声明变量。var 声明的变量可以在程序执行期间重新赋值，而 val 声明的变量则不能重新赋值，使用方式跟 TypeScript 类似。</p><ul><li><p>TypeScript</p></li><li><p><strong>常量</strong>：使用 <code>const</code> 声明。</p></li><li><p><strong>变量</strong>：使用 <code>let</code> 或 <code>var</code> 声明。</p></li></ul><pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">class</span> <span class="token class-name">Example</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// 常量</span>    <span class="token keyword">static</span> <span class="token keyword">readonly</span> <span class="token constant">CONSTANT_VALUE</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>    <span class="token comment">// 变量</span>    variableValue<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>    <span class="token function">constructor</span><span class="token punctuation">(</span>value<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>variableValue <span class="token operator">=</span> value<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><p>Java</p></li><li><p><strong>常量</strong>：使用 <code>final</code> 关键字声明。</p></li><li><p><strong>变量</strong>：可使用 <code>int</code>、<code>String</code> 等基本类型或对象类型声明。</p></li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Example</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// 常量</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> <span class="token constant">CONSTANT_VALUE</span> <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>    <span class="token comment">// 变量</span>    <span class="token keyword">private</span> <span class="token keyword">int</span> variableValue<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token class-name">Example</span><span class="token punctuation">(</span><span class="token keyword">int</span> value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>variableValue <span class="token operator">=</span> value<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><p>Kotlin</p></li><li><p><strong>常量</strong>：使用 <code>val</code> 声明（不可变），使用 <code>const val</code> 声明编译时常量。</p></li><li><p><strong>变量</strong>：使用 <code>var</code> 声明（可变）。</p></li></ul><pre class="line-numbers language-kotlin" data-language="kotlin"><code class="language-kotlin"><span class="token keyword">class</span> <span class="token function">Example</span><span class="token punctuation">(</span>value<span class="token operator">:</span> Int<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// 常量</span>    <span class="token keyword">companion</span> <span class="token keyword">object</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">const</span> <span class="token keyword">val</span> CONSTANT_VALUE <span class="token operator">=</span> <span class="token number">10</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// 变量</span>    <span class="token keyword">var</span> variableValue<span class="token operator">:</span> Int <span class="token operator">=</span> value<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="1-2-变量类型"><a href="#1-2-变量类型" class="headerlink" title="1.2 变量类型"></a>1.2 变量类型</h4><h5 id="1-2-1-基本类型"><a href="#1-2-1-基本类型" class="headerlink" title="1.2.1 基本类型"></a>1.2.1 基本类型</h5><ol><li>TypeScript</li></ol><ul><li><strong>基本类型</strong>包括 <code>number</code>, <code>boolean</code>, <code>string</code>, <code>bigint</code>, <code>symbol</code>, <code>null</code>, <code>undefined</code>。</li><li>可以使用 <code>null</code> 和 <code>undefined</code>，类型可以声明为可选的。</li></ul><pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">let</span> num<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span> <span class="token comment">// 基本类型</span><span class="token keyword">let</span> nullableNum<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token keyword">null</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// 可为 null</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ol start="2"><li>Java</li></ol><ul><li><strong>基本类型</strong>有 <code>int</code>, <code>boolean</code>, <code>char</code>, <code>byte</code>, <code>short</code>, <code>long</code>, <code>float</code>, <code>double</code>。</li><li>使用包装类来处理 <code>null</code> 值，例如 <code>Integer</code>。</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">int</span> num <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span> <span class="token comment">// 基本类型</span><span class="token class-name">Integer</span> nullableNum <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// 包装类</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ol start="3"><li>Kotlin</li></ol><ul><li><strong>基本类型</strong>使用 <code>Int</code>, <code>Boolean</code>, <code>Char</code>, <code>Byte</code>, <code>Short</code>, <code>Long</code>, <code>Float</code>, <code>Double</code>。</li><li>默认不可为 <code>null</code>，使用 <code>?</code> 表示可为 <code>null</code>。</li></ul><pre class="line-numbers language-kotlin" data-language="kotlin"><code class="language-kotlin"><span class="token keyword">val</span> num<span class="token operator">:</span> Int <span class="token operator">=</span> <span class="token number">42</span> <span class="token comment">// 基本类型</span><span class="token keyword">val</span> nullableNum<span class="token operator">:</span> Int<span class="token operator">?</span> <span class="token operator">=</span> <span class="token keyword">null</span> <span class="token comment">// 可为 null</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="1-2-2-包装类型"><a href="#1-2-2-包装类型" class="headerlink" title="1.2.2 包装类型"></a>1.2.2 包装类型</h4><p>包装类是用于将基本数据类型（如整数、布尔值等）封装成对象类型的类。包装类的主要作用是允许基本类型与对象进行交互，提供了更多的方法和功能。</p><p>在 TypeScript 中，基本类型没有单独的包装类，但可以使用对象类型。例如，<code>number</code> 和 <code>string</code> 是基本类型，但可以与对象交互。</p><ul><li><strong>特点</strong>：<ul><li><code>null</code> 和 <code>undefined</code> 可以被作为类型。</li><li>可以使用对象类型（如 <code>Number</code> 和 <code>String</code>）来模拟包装类的功能。</li></ul></li></ul><pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">let</span> wrappedInt<span class="token operator">:</span> Number <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Number</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 使用 Number 对象</span><span class="token keyword">let</span> primitiveInt<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> wrappedInt<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 获取基本类型</span><span class="token keyword">let</span> nullableInt<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token keyword">null</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// 可为 null</span><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>wrappedInt <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出 15</span><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>nullableInt<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出 null</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>在 Java 中，包装类是与基本类型相对应的类。每种基本类型都有一个对应的包装类：</p><ul><li><p><code>int</code> -&gt; <code>Integer</code></p></li><li><p><code>boolean</code> -&gt; <code>Boolean</code></p></li><li><p><code>char</code> -&gt; <code>Character</code></p></li><li><p><code>byte</code> -&gt; <code>Byte</code></p></li><li><p><code>short</code> -&gt; <code>Short</code></p></li><li><p><code>long</code> -&gt; <code>Long</code></p></li><li><p><code>float</code> -&gt; <code>Float</code></p></li><li><p><code>double</code> -&gt; <code>Double</code></p></li><li><p><strong>特点</strong>：</p><ul><li>包装类可以为 <code>null</code>，而基本类型不能。</li><li>提供了一些方法，比如转换、比较等。</li></ul></li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// 使用包装类</span>        <span class="token class-name">Integer</span> wrappedInt <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 将 int 转换为 Integer</span>        <span class="token keyword">int</span> primitiveInt <span class="token operator">=</span> wrappedInt<span class="token punctuation">.</span><span class="token function">intValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 将 Integer 转换为 int</span>        <span class="token comment">// 可以为 null</span>        <span class="token class-name">Integer</span> nullableInt <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>wrappedInt <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出 15</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>nullableInt<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出 null</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>在 Kotlin 中，基本类型和对象类型有更紧密的结合。Kotlin 不再使用单独的包装类，而是直接使用对象类型（如 <code>Int</code>、<code>Boolean</code>）。Kotlin 的基本类型会在 JVM 中优化为原始类型。</p><ul><li><strong>特点</strong>：<ul><li>默认不可为 <code>null</code>，使用 <code>?</code> 表示可为 <code>null</code>。</li><li>不需要显式的转换方法，Kotlin 会自动进行转换。</li></ul></li></ul><pre class="line-numbers language-kotlin" data-language="kotlin"><code class="language-kotlin"><span class="token keyword">fun</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// 使用基本类型</span>    <span class="token keyword">val</span> wrappedInt<span class="token operator">:</span> Int <span class="token operator">=</span> <span class="token number">5</span> <span class="token comment">// 直接使用 Int 类型</span>    <span class="token keyword">val</span> nullableInt<span class="token operator">:</span> Int<span class="token operator">?</span> <span class="token operator">=</span> <span class="token keyword">null</span> <span class="token comment">// 可为 null</span>    <span class="token comment">// 可以直接进行运算</span>    <span class="token function">println</span><span class="token punctuation">(</span>wrappedInt <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token comment">// 输出 15</span>    <span class="token function">println</span><span class="token punctuation">(</span>nullableInt<span class="token punctuation">)</span> <span class="token comment">// 输出 null</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="1-2-3-模板字符串"><a href="#1-2-3-模板字符串" class="headerlink" title="1.2.3 模板字符串"></a>1.2.3 模板字符串</h4><p>在 TypeScript 中，使用反引号（&#96;&#96;&#96;）来定义模板字符串，支持多行字符串和插值。可以使用 <code>$&#123;&#125;</code> 语法插入变量或表达式。</p><pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">const</span> name<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">"Alice"</span><span class="token punctuation">;</span><span class="token keyword">const</span> age<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span><span class="token keyword">const</span> greeting<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hello, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>name<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">. You are </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>age<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string"> years old.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>greeting<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出: Hello, Alice. You are 30 years old.</span><span class="token comment">// 多行字符串</span><span class="token keyword">const</span> multiLine <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">This is line one.This is line two.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>multiLine<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>在 Java 中，虽然没有直接的模板字符串语法，但可以使用字符串连接运算符（<code>+</code>）或 <code>String.format()</code> 方法来实现字符串插值。</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">String</span> name <span class="token operator">=</span> <span class="token string">"Alice"</span><span class="token punctuation">;</span><span class="token keyword">int</span> age <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span><span class="token class-name">String</span> greeting <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"Hello, %s. You are %d years old."</span><span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>greeting<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出: Hello, Alice. You are 30 years old.</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>Kotlin 支持使用 <code>$</code> 符号进行字符串插值，语法更加简洁。可以直接在字符串中使用变量，也可以使用花括号 <code>&#123;&#125;</code> 来插入表达式。</p><pre class="line-numbers language-kotlin" data-language="kotlin"><code class="language-kotlin"><span class="token keyword">val</span> name <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"Alice"</span></span><span class="token keyword">val</span> age <span class="token operator">=</span> <span class="token number">30</span><span class="token keyword">val</span> greeting <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"Hello, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">name</span></span><span class="token string">. You are </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">age</span></span><span class="token string"> years old."</span></span><span class="token function">println</span><span class="token punctuation">(</span>greeting<span class="token punctuation">)</span> <span class="token comment">// 输出: Hello, Alice. You are 30 years old.</span><span class="token comment">// 使用表达式</span><span class="token keyword">val</span> greetingWithExpression <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"Hello, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token expression">name<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">. You are </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">age</span></span><span class="token string"> years old."</span></span><span class="token function">println</span><span class="token punctuation">(</span>greetingWithExpression<span class="token punctuation">)</span> <span class="token comment">// 输出: Hello, ALICE. You are 30 years old.</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="1-2-4-枚举"><a href="#1-2-4-枚举" class="headerlink" title="1.2.4 枚举"></a>1.2.4 枚举</h4><p><strong>Java、Kotlin:</strong> 枚举是类，可以有构造函数和方法，支持字段和行为。</p><p><strong>TypeScript</strong>: 提供数字和字符串枚举，语法简单，主要用于定义常量集合。</p><p>在 TypeScript 中，枚举可以是数字枚举或字符串枚举。</p><pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">enum</span> Color <span class="token punctuation">&#123;</span>    Red <span class="token operator">=</span> <span class="token string">"RED"</span><span class="token punctuation">,</span>    Green <span class="token operator">=</span> <span class="token string">"GREEN"</span><span class="token punctuation">,</span>    Blue <span class="token operator">=</span> <span class="token string">"BLUE"</span><span class="token punctuation">,</span><span class="token punctuation">&#125;</span><span class="token comment">// 使用枚举</span><span class="token keyword">let</span> color<span class="token operator">:</span> Color <span class="token operator">=</span> Color<span class="token punctuation">.</span>Red<span class="token punctuation">;</span><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出: "RED"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>在 Java 中，枚举是一个特殊的类，可以具有字段、方法和构造函数。</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">Color</span> <span class="token punctuation">&#123;</span>    <span class="token constant">RED</span><span class="token punctuation">,</span> <span class="token constant">GREEN</span><span class="token punctuation">,</span> <span class="token constant">BLUE</span><span class="token punctuation">;</span>    <span class="token comment">// 可以添加字段和方法</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> hex<span class="token punctuation">;</span>    <span class="token class-name">Color</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>hex <span class="token operator">=</span> <span class="token string">"#"</span> <span class="token operator">+</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">toHexString</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">ordinal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getHex</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> hex<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">// 使用枚举</span><span class="token class-name">Color</span> color <span class="token operator">=</span> <span class="token class-name">Color</span><span class="token punctuation">.</span><span class="token constant">RED</span><span class="token punctuation">;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>color<span class="token punctuation">.</span><span class="token function">getHex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>在 Kotlin 中，枚举类是一个特殊的类，支持属性和方法。</p><pre class="line-numbers language-kotlin" data-language="kotlin"><code class="language-kotlin"><span class="token keyword">enum</span> <span class="token keyword">class</span> <span class="token function">Color</span><span class="token punctuation">(</span><span class="token keyword">val</span> hex<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token function">RED</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"#FF0000"</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token function">GREEN</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"#00FF00"</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token function">BLUE</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"#0000FF"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">fun</span> <span class="token function">describe</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"Color: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">name</span></span><span class="token string">, Hex: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">hex</span></span><span class="token string">"</span></span><span class="token punctuation">&#125;</span><span class="token comment">// 使用枚举</span><span class="token keyword">val</span> color <span class="token operator">=</span> Color<span class="token punctuation">.</span>RED<span class="token function">println</span><span class="token punctuation">(</span>color<span class="token punctuation">.</span><span class="token function">describe</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 输出: Color: RED, Hex: #FF0000</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="1-3-类型检查和类型转换"><a href="#1-3-类型检查和类型转换" class="headerlink" title="1.3 类型检查和类型转换"></a>1.3 类型检查和类型转换</h4><p><strong>类型推断</strong>：</p><ul><li>Java 需要显式声明类型。</li><li>Kotlin 和 TypeScript 支持隐式推断，可以省略类型声明。</li></ul><p><strong>类型转换</strong>：</p><ul><li>Java 使用强制转换语法，Kotlin 使用转换方法，TypeScript 使用 <code>as</code> 进行转换。</li></ul><p><strong>强制类型转换</strong>：</p><ul><li>Java 和 TypeScript 使用直接的强制转换语法，Kotlin 提供了安全转换的方式。</li></ul><p>在 TypeScript 中，支持类型推导，可以省略类型声明，编译器会根据初始值推断类型。</p><ul><li><strong>隐式推断</strong>：TypeScript 也支持类型推断，可以省略类型声明，编译器会根据初始值推断类型。</li><li><strong>类型转换</strong>：可以使用 <code>as</code> 进行类型转换，也可以使用类型断言。</li><li><strong>强制类型转换</strong>：使用 <code>as</code> 进行类型断言。</li></ul><pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// 类型推导</span><span class="token keyword">let</span> num <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span> <span class="token comment">// 隐式推断为 number</span><span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">"Hello"</span><span class="token punctuation">;</span> <span class="token comment">// 隐式推断为 string</span><span class="token comment">// 类型转换</span><span class="token keyword">let</span> d<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token number">9.78</span><span class="token punctuation">;</span> <span class="token keyword">let</span> num<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> d <span class="token keyword">as</span> <span class="token builtin">number</span><span class="token punctuation">;</span> <span class="token comment">// 使用 as 进行类型转换</span><span class="token comment">// 强制类型转换</span><span class="token keyword">let</span> obj<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token string">"Hello"</span><span class="token punctuation">;</span><span class="token keyword">let</span> str<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> obj <span class="token keyword">as</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// 强制转换</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>在 Java 中，必须显式声明变量的类型。</p><ul><li><strong>显式声明</strong>：Java 不支持类型推断，必须显式声明变量的类型。</li><li><strong>类型转换</strong>：需要使用强制转换语法。</li><li><strong>强制类型转换</strong>：需要使用强制转换语法。</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// 类型推导</span><span class="token keyword">int</span> num <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span> <span class="token comment">// 显式声明类型</span><span class="token comment">// 类型转换</span><span class="token keyword">double</span> d <span class="token operator">=</span> <span class="token number">9.78</span><span class="token punctuation">;</span><span class="token keyword">int</span> num <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> d<span class="token punctuation">;</span> <span class="token comment">// 显式强制转换，从 double 转为 int</span><span class="token comment">// 强制类型转换</span><span class="token class-name">Object</span> obj <span class="token operator">=</span> <span class="token string">"Hello"</span><span class="token punctuation">;</span><span class="token class-name">String</span> str <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span> obj<span class="token punctuation">;</span> <span class="token comment">// 强制转换</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>在 Kotlin 中，支持类型推断，可以省略类型声明，编译器会根据初始值推断类型。</p><ul><li><strong>隐式推断</strong>：Kotlin 支持类型推断，可以省略类型声明，编译器会根据初始值推断类型。</li><li><strong>类型转换</strong>：Kotlin 提供了转换方法，如 <code>toInt()</code>。</li><li><strong>强制类型转换</strong>：使用 <code>as</code> 关键字进行强制转换，支持安全转换（<code>as?</code>）。</li></ul><pre class="line-numbers language-kotlin" data-language="kotlin"><code class="language-kotlin"><span class="token comment">// 类型推导</span><span class="token keyword">val</span> num <span class="token operator">=</span> <span class="token number">42</span> <span class="token comment">// 隐式推断为 Int </span><span class="token keyword">val</span> str <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"Hello"</span></span> <span class="token comment">// 隐式推断为 String</span><span class="token comment">// 类型转换</span><span class="token keyword">val</span> d <span class="token operator">=</span> <span class="token number">9.78</span> <span class="token keyword">val</span> num <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token function">toInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 使用转换方法</span><span class="token comment">// 强制类型转换</span><span class="token keyword">val</span> obj<span class="token operator">:</span> Any <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"Hello"</span></span><span class="token keyword">val</span> str<span class="token operator">:</span> String <span class="token operator">=</span> obj <span class="token keyword">as</span> String <span class="token comment">// 强制转换</span><span class="token keyword">val</span> safeStr<span class="token operator">:</span> String<span class="token operator">?</span> <span class="token operator">=</span> obj <span class="token keyword">as</span><span class="token operator">?</span> String <span class="token comment">// 安全转换，若失败返回 null</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="1-4-类型判断"><a href="#1-4-类型判断" class="headerlink" title="1.4 类型判断"></a>1.4 类型判断</h4><ul><li><strong>Java</strong>：使用 <code>instanceof</code> 进行类型判断，需手动强制转换。</li><li><strong>Kotlin</strong>：使用 <code>is</code> 进行类型判断，支持自动和安全转换，简化了语法。</li><li><strong>TypeScript</strong>：使用 <code>typeof</code> 和 <code>instanceof</code>，适用于基本数据类型和对象类型。</li></ul><p>在 TypeScript 中，使用 <code>typeof</code> 和 <code>instanceof</code> 进行类型判断。</p><ul><li>**使用 <code>typeof</code>**：主要用于基本数据类型。</li><li>**使用 <code>instanceof</code>**：用于对象和类的类型判断。</li></ul><pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">function</span> <span class="token function">typeCheck</span><span class="token punctuation">(</span>value<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> value <span class="token operator">===</span> <span class="token string">"string"</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"是一个字符串: "</span> <span class="token operator">+</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token keyword">instanceof</span> <span class="token class-name"><span class="token builtin">Array</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"是一个数组"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"不是一个字符串或数组"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token function">typeCheck</span><span class="token punctuation">(</span><span class="token string">"Hello, World!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出: 是一个字符串: Hello, World!</span><span class="token function">typeCheck</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出: 是一个数组</span><span class="token function">typeCheck</span><span class="token punctuation">(</span><span class="token number">42</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出: 不是一个字符串或数组</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>在 Java 中，使用 <code>instanceof</code> 关键字进行类型判断。</p><p>在 Java 中，基本数据类型没有对象的特性，因此通常通过 <code>instanceof</code> 来判断对象类型。如果使用包装类（如 <code>Integer</code>、<code>Double</code> 等），可以使用 <code>instanceof</code> 进行判断。</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">Object</span> obj <span class="token operator">=</span> <span class="token string">"Hello, World!"</span><span class="token punctuation">;</span>              <span class="token keyword">if</span> <span class="token punctuation">(</span>obj <span class="token keyword">instanceof</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">String</span> str <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span> obj<span class="token punctuation">;</span> <span class="token comment">// 强制转换</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"是一个字符串: "</span> <span class="token operator">+</span> str<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"不是一个字符串"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">// 基本类型判断</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">Object</span> obj <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span> <span class="token comment">// 基本类型的包装类</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>obj <span class="token keyword">instanceof</span> <span class="token class-name">Integer</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"是一个 Integer 类型"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>obj <span class="token keyword">instanceof</span> <span class="token class-name">Double</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"是一个 Double 类型"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"不是 Integer 或 Double 类型"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>在 Kotlin 中，使用 <code>is</code> 关键字进行类型判断，使用 <code>as</code> 进行强制转换，支持安全转换。</p><p>在 Kotlin 中，基本数据类型和对象类型更紧密结合，使用 <code>is</code> 关键字进行判断。Kotlin 允许直接判断基本类型。</p><pre class="line-numbers language-kotlin" data-language="kotlin"><code class="language-kotlin"><span class="token keyword">fun</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">val</span> obj<span class="token operator">:</span> Any <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"Hello, World!"</span></span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>obj <span class="token keyword">is</span> String<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// 不需要强制转换</span>        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"是一个字符串: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">obj</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"不是一个字符串"</span></span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>      <span class="token comment">// 使用安全转换</span>    <span class="token keyword">val</span> str<span class="token operator">:</span> String<span class="token operator">?</span> <span class="token operator">=</span> obj <span class="token keyword">as</span><span class="token operator">?</span> String <span class="token comment">// 如果不是 String，则返回 null</span>    <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"安全转换: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">str</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token comment">// 基本类型判断</span><span class="token keyword">fun</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">val</span> obj<span class="token operator">:</span> Any <span class="token operator">=</span> <span class="token number">42</span> <span class="token comment">// 基本类型</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>obj <span class="token keyword">is</span> Int<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"是一个 Int 类型"</span></span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>obj <span class="token keyword">is</span> Double<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"是一个 Double 类型"</span></span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"不是 Int 或 Double 类型"</span></span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h3><table><thead><tr><th>运算符</th><th>异同点</th></tr></thead><tbody><tr><td><strong>算术运算符</strong>（如 <code>+</code>, <code>-</code>, <code>*</code>, <code>/</code>, <code>%</code>）</td><td>完全一致</td></tr><tr><td><strong>比较运算符</strong>（如 <code>==</code>, <code>!=</code>, <code>&lt;</code>, <code>&gt;</code>, <code>&lt;=</code>, <code>&gt;=</code>）</td><td>除 &#x3D;&#x3D; 外基本一致</td></tr><tr><td><strong>逻辑运算符</strong>（如 <code>&amp;&amp;</code>, &#96;</td><td></td></tr><tr><td><strong>位运算符</strong>（如 <code>&amp;</code>, &#96;</td><td><code>, </code>^<code>, </code>&lt;&lt;<code>, </code>&gt;&gt;&#96;）</td></tr></tbody></table><h4 id="相等运算符异同点"><a href="#相等运算符异同点" class="headerlink" title="相等运算符异同点"></a>相等运算符异同点</h4><p><strong>TypeScript</strong> 的 <code>==</code> 进行类型转换，<code>===</code> 不进行转换。</p><p><strong>Kotlin</strong> 的 <code>==</code> 进行内容比较，<code>===</code> 比较引用。</p><p><strong>Java</strong> 的 <code>==</code> 在基本类型上比较值，在对象上比较引用，没有严格相等运算符。</p><p>在 TypeScript 中，<code>==</code>（相等运算符）进行类型转换后比较值。</p><ul><li>例如，<code>0 == &#39;0&#39;</code> 为 <code>true</code>，因为字符串 <code>&#39;0&#39;</code> 被转换为数字。</li></ul><p><code>===</code>（严格相等运算符）不进行类型转换，只有在类型和值都相等时才返回 <code>true</code>。</p><ul><li>例如，<code>0 === &#39;0&#39;</code> 为 <code>false</code>，因为类型不同。</li></ul><pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">let</span> a<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">let</span> b<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">'0'</span><span class="token punctuation">;</span><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a <span class="token operator">==</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// true, 因为进行类型转换</span><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a <span class="token operator">===</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false, 因为类型不同</span><span class="token keyword">let</span> obj1 <span class="token operator">=</span> <span class="token punctuation">&#123;</span> name<span class="token operator">:</span> <span class="token string">'Alice'</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">let</span> obj2 <span class="token operator">=</span> <span class="token punctuation">&#123;</span> name<span class="token operator">:</span> <span class="token string">'Alice'</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">let</span> obj3 <span class="token operator">=</span> obj1<span class="token punctuation">;</span><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj1 <span class="token operator">==</span> obj2<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// false, 不同的引用</span><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj1 <span class="token operator">===</span> obj2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false, 不同的引用</span><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj1 <span class="token operator">===</span> obj3<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true, 同一引用</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>在 Java 中，<code>==</code>用于基本数据类型时比较值（如 <code>int</code>, <code>char</code>），用于对象时比较引用。</p><ul><li>例如，<code>int a = 5; int b = 5; a == b</code> 为 <code>true</code>，但对于对象，<code>String a = &quot;Hello&quot;; String b = new String(&quot;Hello&quot;); a == b</code> 为 <code>false</code>，因为它们是不同的对象。</li></ul><p>**没有 <code>===</code>**：Java 只有一种相等运算符 <code>==</code>，因此无法直接进行严格相等检查。对象的内容比较通常使用 <code>.equals()</code> 方法。</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> y <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>        <span class="token class-name">String</span> str1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">"Hello"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">String</span> str2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">"Hello"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">String</span> str3 <span class="token operator">=</span> str1<span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>x <span class="token operator">==</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true, 基本类型比较值</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>str1 <span class="token operator">==</span> str2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false, 不同的引用</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>str1<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>str2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true, 内容相等</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>str1 <span class="token operator">==</span> str3<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true, 同一引用</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>在 Kotlin 中，<code>==</code>表示结构相等（相当于 Java 中的 <code>equals()</code> 方法）。</p><ul><li>例如，<code>val a = &quot;Hello&quot;; val b = &quot;Hello&quot;; a == b</code> 为 <code>true</code>，因为它们的内容相等。</li></ul><p><code>===</code>表示引用相等，检查两个引用是否指向同一个对象。</p><ul><li>例如，<code>val a = &quot;Hello&quot;; val b = a; a === b</code> 为 <code>true</code>，但 <code>val c = &quot;Hello&quot;; a === c</code> 可能为 <code>false</code>（如果 <code>c</code> 是不同的对象）。</li></ul><pre class="line-numbers language-kotlin" data-language="kotlin"><code class="language-kotlin"><span class="token keyword">fun</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">val</span> a <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"Hello"</span></span>    <span class="token keyword">val</span> b <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"Hello"</span></span>    <span class="token keyword">val</span> c <span class="token operator">=</span> <span class="token function">String</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Hello"</span></span><span class="token punctuation">)</span>    <span class="token function">println</span><span class="token punctuation">(</span>a <span class="token operator">==</span> b<span class="token punctuation">)</span>  <span class="token comment">// true, 结构相等</span>    <span class="token function">println</span><span class="token punctuation">(</span>a <span class="token operator">===</span> b<span class="token punctuation">)</span> <span class="token comment">// true, 引用相等（在字符串常量池中）</span>    <span class="token function">println</span><span class="token punctuation">(</span>a <span class="token operator">==</span> c<span class="token punctuation">)</span>  <span class="token comment">// true, 结构相等</span>    <span class="token function">println</span><span class="token punctuation">(</span>a <span class="token operator">===</span> c<span class="token punctuation">)</span> <span class="token comment">// false, 不同的引用</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="语句"><a href="#语句" class="headerlink" title="语句"></a>语句</h3><h4 id="if-语句"><a href="#if-语句" class="headerlink" title="if 语句"></a><code>if</code> 语句</h4><p><strong>描述</strong>: 条件判断<br><strong>异同点</strong>: 完全一致<br><strong>代码示例</strong>: </p><pre class="line-numbers language-TypeScript" data-language="TypeScript"><code class="language-TypeScript">if (condition) &#123;     &#x2F;&#x2F; 执行代码 &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h4 id="for-循环"><a href="#for-循环" class="headerlink" title="for 循环"></a><code>for</code> 循环</h4><p><strong>描述</strong>: 循环<br><strong>异同点</strong>: 基本 <code>for</code> 循环，除 Kotlin 外，Java 和 TypeScript 一致。区别主要在于增强型 <code>for</code> 循环上：  </p><ul><li><strong>TypeScript</strong>: 使用 <code>for...of</code> 遍历可迭代对象。  </li><li><strong>Java</strong>: 使用增强型 <code>for</code> 循环（<code>for (type var : collection)</code>）遍历数组和集合。  </li><li><strong>Kotlin</strong>: 使用 <code>for (item in collection)</code> 语法遍历数组和集合。<br><strong>代码示例</strong>:</li></ul><ul><li>一般语法</li></ul><pre class="line-numbers language-TypeScript" data-language="TypeScript"><code class="language-TypeScript">for (let i &#x3D; 0; i &lt; 5; i++) &#123;    &#x2F;&#x2F; 执行代码 &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><ul><li>TypeScript</li></ul><pre class="line-numbers language-TypeScript" data-language="TypeScript"><code class="language-TypeScript">&#x2F;&#x2F; for of 循环const array &#x3D; [1, 2, 3, 4, 5];for (const value of array) &#123;    console.log(value); &#x2F;&#x2F; 输出 1, 2, 3, 4, 5&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>Java</li></ul><pre class="line-numbers language-Java" data-language="Java"><code class="language-Java">&#x2F;&#x2F; for each 循环int[] array &#x3D; &#123;1, 2, 3, 4, 5&#125;;for (int value : array) &#123;    System.out.println(value); &#x2F;&#x2F; 输出 1, 2, 3, 4, 5&#125;&#x2F;&#x2F; 对于集合List&lt;Integer&gt; list &#x3D; Arrays.asList(1, 2, 3, 4, 5);for (int value : list) &#123;    System.out.println(value); &#x2F;&#x2F; 输出 1, 2, 3, 4, 5&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>Kotlin</li></ul><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">&#x2F;&#x2F; 带索引遍历for ((index, item) in arrayListOf(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;).withIndex()) &#123;    println(&quot;$index - $item&quot;)&#x2F;&#x2F; 0-a  1-b 2-c &#125;&#x2F;&#x2F; 包左包右for (i in 1..10) &#123;    println(i) &#x2F;&#x2F; 12345678910&#125;&#x2F;&#x2F; 包左不包右for (i in 1 until 10) &#123;    println(i) &#x2F;&#x2F; 123456789&#125;&#x2F;&#x2F; 降序-包左包右for (i in 10 downTo 1) &#123;    println(i) &#x2F;&#x2F; 10987654321&#125;&#x2F;&#x2F; 跳步-包左包右for (i in 1..10 step 2) &#123;    println(i) &#x2F;&#x2F; 13579&#125;&#x2F;&#x2F; 包左不包右repeat(10) &#123;    print(it) &#x2F;&#x2F; 0123456789&#125;&#x2F;&#x2F; for in 循环val array &#x3D; arrayOf(1, 2, 3, 4, 5)for (value in array) &#123;    println(value) &#x2F;&#x2F; 输出 1, 2, 3, 4, 5&#125;&#x2F;&#x2F; 对于集合val list &#x3D; listOf(1, 2, 3, 4, 5)for (value in list) &#123;    println(value) &#x2F;&#x2F; 输出 1, 2, 3, 4, 5&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="while-循环"><a href="#while-循环" class="headerlink" title="while 循环"></a><code>while</code> 循环</h4><p><strong>描述</strong>: 循环<br><strong>异同点</strong>: 完全一致<br><strong>代码示例</strong>: </p><pre class="line-numbers language-TypeScript" data-language="TypeScript"><code class="language-TypeScript">while (condition) &#123;    &#x2F;&#x2F; 执行代码 &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h4 id="do-while-循环"><a href="#do-while-循环" class="headerlink" title="do...while 循环"></a><code>do...while</code> 循环</h4><p><strong>描述</strong>: 循环<br><strong>异同点</strong>: 完全一致<br><strong>代码示例</strong>: </p><pre class="line-numbers language-TypeScript" data-language="TypeScript"><code class="language-TypeScript">do &#123;     &#x2F;&#x2F; 执行代码 &#125; while (condition);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h4 id="switch-语句"><a href="#switch-语句" class="headerlink" title="switch 语句"></a><code>switch</code> 语句</h4><p><strong>描述</strong>: 多情况判断<br><strong>异同点</strong>: 除开 Kotlin 以外，长的一样。在 Kotlin 中，这被称之为 <code>when</code> 语句。<br><strong>代码示例</strong>:</p><ul><li>一般性语法</li></ul><pre class="line-numbers language-TypeScript" data-language="TypeScript"><code class="language-TypeScript">switch (value) &#123;     case value1:         &#x2F;&#x2F; 执行代码         break;     case value2:         &#x2F;&#x2F; 执行代码         break;     default:         &#x2F;&#x2F; 执行代码 &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>Kotlin 语法</li></ul><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">val day &#x3D; 2when (day) &#123;    1 -&gt; &#123;        println(&quot;Monday&quot;)        &#x2F;&#x2F; 其他操作        println(&quot;It&#39;s the start of the week.&quot;)    &#125;    2 -&gt; &#123;        println(&quot;Tuesday&quot;)        &#x2F;&#x2F; 其他操作        println(&quot;Keep going!&quot;)    &#125;    3 -&gt; &#123;        println(&quot;Wednesday&quot;)        &#x2F;&#x2F; 其他操作        println(&quot;Halfway through the week!&quot;)    &#125;    else -&gt; &#123;        println(&quot;Other day&quot;)    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="try-catch-语句"><a href="#try-catch-语句" class="headerlink" title="try...catch 语句"></a><code>try...catch</code> 语句</h4><p><strong>描述</strong>: 异常处理<br><strong>异同点</strong>: 除了 Java 在错误类型声明有写法上的差异，其余完全一致<br><strong>代码示例</strong>: </p><pre class="line-numbers language-TypeScript" data-language="TypeScript"><code class="language-TypeScript">try &#123;     &#x2F;&#x2F; 执行可能抛出异常的代码 &#125; catch (error) &#123;    &#x2F;&#x2F; 处理异常 &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h3><h4 id="4-1-函数声明与调用"><a href="#4-1-函数声明与调用" class="headerlink" title="4.1 函数声明与调用"></a>4.1 函数声明与调用</h4><ul><li><strong>Java</strong>:</li></ul><pre class="line-numbers language-Java" data-language="Java"><code class="language-Java">public int add(int a, int b) &#123;    return a + b;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><ul><li><strong>TypeScript</strong>:</li></ul><pre class="line-numbers language-TypeScript" data-language="TypeScript"><code class="language-TypeScript">function add(a: number, b: number): number &#123;    return a + b;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><ul><li><strong>Kotlin</strong>:</li></ul><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">fun add(a: Int, b: Int): Int &#123;    return a + b&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h4 id="4-2-可选参数和默认参数"><a href="#4-2-可选参数和默认参数" class="headerlink" title="4.2 可选参数和默认参数"></a>4.2 可选参数和默认参数</h4><ul><li><strong>Java</strong>: Java 不支持可选参数，可以通过方法重载实现类似效果。</li></ul><pre class="line-numbers language-Java" data-language="Java"><code class="language-Java">public int add(int a, int b) &#123;    return a + b;&#125;public int add(int a) &#123;    return a + 10; &#x2F;&#x2F; 默认值&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><strong>TypeScript</strong>: 支持可选参数和默认参数。</li></ul><pre class="line-numbers language-TypeScript" data-language="TypeScript"><code class="language-TypeScript">function add(a: number, b: number &#x3D; 10): number &#123;    return a + b;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><ul><li><strong>Kotlin</strong>: 也支持默认参数。</li></ul><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">fun add(a: Int, b: Int &#x3D; 10): Int &#123;    return a + b&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h4 id="4-3-rest-参数"><a href="#4-3-rest-参数" class="headerlink" title="4.3 rest 参数"></a>4.3 rest 参数</h4><ul><li><strong>Java</strong>: 使用数组来实现。</li></ul><pre class="line-numbers language-Java" data-language="Java"><code class="language-Java">public int sum(int... numbers) &#123;    int total &#x3D; 0;    for (int number : numbers) &#123;        total +&#x3D; number;    &#125;    return total;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><strong>TypeScript</strong>: 使用 <code>...</code> 表示 rest 参数。</li></ul><pre class="line-numbers language-TypeScript" data-language="TypeScript"><code class="language-TypeScript">function sum(...numbers: number[]): number &#123;    return numbers.reduce((total, n) &#x3D;&gt; total + n, 0);&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><ul><li><strong>Kotlin</strong>: 使用 <code>vararg</code> 来实现。</li></ul><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">fun sum(vararg numbers: Int): Int &#123;    return numbers.sum()&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h4 id="4-4-函数类型"><a href="#4-4-函数类型" class="headerlink" title="4.4 函数类型"></a>4.4 函数类型</h4><ul><li><strong>Java</strong>: 使用接口或 lambda 表达式。</li></ul><pre class="line-numbers language-Java" data-language="Java"><code class="language-Java">interface IntOperation &#123;    int operate(int a, int b);&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><ul><li><strong>TypeScript</strong>: 可以直接定义函数类型。</li></ul><pre class="line-numbers language-TypeScript" data-language="TypeScript"><code class="language-TypeScript">type IntOperation &#x3D; (a: number, b: number) &#x3D;&gt; number;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li><strong>Kotlin</strong>: 直接使用函数类型。不过它的返回值是单箭头 <code>-&gt;</code> 而非 ts 的等号箭头 <code>=&gt;</code></li></ul><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">fun operate(a: Int, b: Int, operation: (Int, Int) -&gt; Int): Int &#123;    return operation(a, b)&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h4 id="4-5-匿名函数"><a href="#4-5-匿名函数" class="headerlink" title="4.5 匿名函数"></a>4.5 匿名函数</h4><ul><li><strong>Java</strong>: 使用 lambda 表达式。</li></ul><pre class="line-numbers language-Java" data-language="Java"><code class="language-Java">IntOperation add &#x3D; (a, b) -&gt; a + b;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li><strong>TypeScript</strong>: 使用箭头函数。</li></ul><pre class="line-numbers language-TypeScript" data-language="TypeScript"><code class="language-TypeScript">const add: IntOperation &#x3D; (a, b) &#x3D;&gt; a + b;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li><strong>Kotlin</strong>: 使用 lambda 表达式。</li></ul><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">val add: (Int, Int) -&gt; Int &#x3D; &#123; a, b -&gt; a + b &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="4-6-函数重载"><a href="#4-6-函数重载" class="headerlink" title="4.6 函数重载"></a>4.6 函数重载</h4><p>三者均支持函数重载，语法上略有差别：</p><ul><li>Java</li></ul><pre class="line-numbers language-Java" data-language="Java"><code class="language-Java">public int add(int a, int b) &#123; return a + b; &#125;public double add(double a, double b) &#123; return a + b; &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ul><li>TypeScript</li></ul><pre class="line-numbers language-TypeScript" data-language="TypeScript"><code class="language-TypeScript">function add(a: number, b: number): number;function add(a: string, b: string): string;function add(a: any, b: any): any &#123;    return a + b;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>Kotlin</li></ul><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">fun add(a: Int, b: Int): Int &#123; return a + b &#125;fun add(a: Double, b: Double): Double &#123; return a + b &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>Kotlin 可以通过 关键字 <code>&lt;span style=&quot;color: #FBBFBC&quot;&gt;@JvmOverloads</code> 修饰 <code>&lt;span style=&quot;color: #FBBFBC&quot;&gt;constructor</code>生成多个构造。</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">class MyFrameLayout @JvmOverloads constructor(    context: Context,    attrs: AttributeSet? &#x3D; null,    defStyleAttr: Int &#x3D; 0,    defStyleRes: Int &#x3D; 0) : FrameLayout(context, attrs, defStyleAttr, defStyleRes) &#123;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">@JvmOverloads fun f(a: String, b: Int&#x3D;0, c:String&#x3D;&quot;abc&quot;)&#123; &#125;&#x2F;&#x2F; 下面3个Java方法等价上面1个kotlin方法void f(String a)void f(String a, int b)void f(String a, int b, String c)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="OOP-相关（施工中-🚧）"><a href="#OOP-相关（施工中-🚧）" class="headerlink" title="OOP 相关（施工中 🚧）"></a>OOP 相关（施工中 🚧）</h3><h4 id="5-1-对象"><a href="#5-1-对象" class="headerlink" title="5.1 对象"></a>5.1 对象</h4><h5 id="字面量对象"><a href="#字面量对象" class="headerlink" title="字面量对象"></a>字面量对象</h5><p><strong>Java</strong>: 使用匿名内部类来创建字面量对象。</p><p><strong>TypeScript</strong>: 使用对象字面量语法，直接定义具有属性和方法的对象。</p><p><strong>Kotlin</strong>: 使用对象表达式，定义具有属性和方法的匿名对象。</p><ul><li><strong>Java</strong></li></ul><pre class="line-numbers language-Java" data-language="Java"><code class="language-Java">public class Example &#123;    public static void main(String[] args) &#123;        &#x2F;&#x2F; 使用匿名内部类        Object obj &#x3D; new Object() &#123;            @Override            public String toString() &#123;                return &quot;This is a literal object&quot;;            &#125;        &#125;;        System.out.println(obj);    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><strong>TypeScript</strong></li></ul><pre class="line-numbers language-TypeScript" data-language="TypeScript"><code class="language-TypeScript">const obj &#x3D; &#123;    name: &quot;Example&quot;,    value: 42,    describe() &#123;        return &#96;$&#123;this.name&#125;: $&#123;this.value&#125;&#96;;    &#125;&#125;;console.log(obj.describe()); &#x2F;&#x2F; 输出: Example: 42<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><strong>Kotlin</strong></li></ul><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">fun main() &#123;    val obj &#x3D; object &#123;        val name &#x3D; &quot;Example&quot;        val value &#x3D; 42        fun describe() &#x3D; &quot;$name: $value&quot;    &#125;    println(obj.describe()) &#x2F;&#x2F; 输出: Example: 42&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="解构赋值"><a href="#解构赋值" class="headerlink" title="解构赋值"></a>解构赋值</h5><p>Java 没有解构赋值，Kotlin 和 TypeScript 使用不同的方法实现解构赋值。</p><p><strong>数据类</strong>：数据类自动支持解构赋值。</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">data class Person(val name: String, val age: Int)fun main() &#123;    val person &#x3D; Person(&quot;Alice&quot;, 30)    val (name, age) &#x3D; person    println(&quot;Name: $name, Age: $age&quot;) &#x2F;&#x2F; 输出: Name: Alice, Age: 30&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>Pair 和 Triple</strong>：这两个类也支持解构赋值。</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">fun main() &#123;    val pair &#x3D; Pair(&quot;Kotlin&quot;, 2023)    val (language, year) &#x3D; pair    println(&quot;Language: $language, Year: $year&quot;) &#x2F;&#x2F; 输出: Language: Kotlin, Year: 2023&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>自定义解构声明</strong>：可以在任意类中定义 <code>componentN()</code> 函数，使其支持解构赋值。</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">class Coordinates(val x: Int, val y: Int) &#123;    operator fun component1() &#x3D; x    operator fun component2() &#x3D; y&#125;fun main() &#123;    val point &#x3D; Coordinates(10, 20)    val (x, y) &#x3D; point    println(&quot;X: $x, Y: $y&quot;) &#x2F;&#x2F; 输出: X: 10, Y: 20&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="5-2-类"><a href="#5-2-类" class="headerlink" title="5.2 类"></a>5.2 类</h4><h5 id="访问控制"><a href="#访问控制" class="headerlink" title="访问控制"></a>访问控制</h5><table><thead><tr><th>语言</th><th>说明</th><th>举例</th></tr></thead><tbody><tr><td>TypeScript</td><td>*<strong>public</strong>: 默认可见，所有类可见。</td><td></td></tr></tbody></table><ul><li><strong>private</strong>: 仅对同一类可见。</li><li><strong>protected</strong>: 对同一类和子类可见。</li><li><strong>readonly</strong>: 用于只读属性。<br>|</li></ul><pre class="line-numbers language-TypeScript" data-language="TypeScript"><code class="language-TypeScript">class Example &#123;    public publicField: number;       &#x2F;&#x2F; 所有类可见    protected protectedField: number;   &#x2F;&#x2F; 对同一类和子类可见    private privateField: number;       &#x2F;&#x2F; 仅对本类可见&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p> |<br>|Java |* <strong>public</strong>: 对所有类可见。</p><ul><li><strong>protected</strong>: 对同一包内的类和所有子类可见。</li><li><strong>private</strong>: 仅对同一类可见。</li><li><strong>默认（包私有，no modifier）</strong>: 仅对同一包内的类可见。</li></ul><p> |</p><pre class="line-numbers language-Java" data-language="Java"><code class="language-Java">public class Example &#123;    public int publicField;       &#x2F;&#x2F; 对所有类可见    protected int protectedField;  &#x2F;&#x2F; 对同一包和子类可见    private int privateField;      &#x2F;&#x2F; 仅对本类可见    int packagePrivateField;       &#x2F;&#x2F; 对同一包内可见&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p> |<br>|Kotlin |* <strong>public</strong>: 默认可见，所有类可见。</p><ul><li><strong>private</strong>: 仅对同一文件或类可见。</li><li><strong>protected</strong>: 对同一类和子类可见。</li><li><strong>internal</strong>: 仅对同一模块内可见。<br>|</li></ul><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">class Example &#123;    var publicField: Int &#x3D; 0         &#x2F;&#x2F; 所有类可见    protected var protectedField: Int &#x3D; 0  &#x2F;&#x2F; 对同一类和子类可见    private var privateField: Int &#x3D; 0      &#x2F;&#x2F; 仅对本类可见    internal var internalField: Int &#x3D; 0     &#x2F;&#x2F; 对同一模块内可见&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p> |</p><h4 id="5-3-接口"><a href="#5-3-接口" class="headerlink" title="5.3 接口"></a>5.3 接口</h4><table><thead><tr><th>语言</th><th>说明</th><th>举例</th></tr></thead><tbody><tr><td>TypeScript</td><td><strong>TypeScript</strong> 使用 <code>interface</code> 关键字定义接口，支持属性和方法的定义，且可以通过 <code>extends</code> 进行继承。</td><td>*<strong>定义接口</strong></td></tr></tbody></table><pre class="line-numbers language-TypeScript" data-language="TypeScript"><code class="language-TypeScript">interface Person &#123;    name: string;    age: number;&#125;const john: Person &#x3D; &#123;    name: &quot;John&quot;,    age: 30&#125;;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><strong>接口继承</strong>：</li></ul><pre class="line-numbers language-TypeScript" data-language="TypeScript"><code class="language-TypeScript">interface Employee extends Person &#123;    employeeId: number;&#125;const jane: Employee &#x3D; &#123;    name: &quot;Jane&quot;,    age: 28,    employeeId: 1234&#125;;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p> |<br>|Java |<strong>Java</strong> 使用 <code>interface</code> 关键字定义接口，方法通过 getter 访问，且通过 <code>implements</code> 关键字实现接口。 |* <strong>定义接口</strong>：</p><pre class="line-numbers language-Java" data-language="Java"><code class="language-Java">public interface Person &#123;    String getName();    int getAge();&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><ul><li><strong>接口继承</strong>：</li></ul><pre class="line-numbers language-Java" data-language="Java"><code class="language-Java">public interface Employee extends Person &#123;    int getEmployeeId();&#125;public class Employee implements Person &#123;    private String name;    private int age;    public Employee(String name, int age) &#123;        this.name &#x3D; name;        this.age &#x3D; age;    &#125;    public String getName() &#123;        return name;    &#125;    public int getAge() &#123;        return age;    &#125;&#125;public class Manager implements Employee &#123;    private String name;    private int age;    private int employeeId;    public Manager(String name, int age, int employeeId) &#123;        this.name &#x3D; name;        this.age &#x3D; age;        this.employeeId &#x3D; employeeId;    &#125;    public String getName() &#123;        return name;    &#125;    public int getAge() &#123;        return age;    &#125;    public int getEmployeeId() &#123;        return employeeId;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p> |<br>|Kotlin |<strong>Kotlin</strong> 使用 <code>interface</code> 关键字定义接口，属性使用 <code>val</code> 或 <code>var</code> 声明，且通过冒号 <code>:</code> 来实现接口。 |* <strong>定义接口</strong>：</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">interface Person &#123;    val name: String    val age: Int&#125;class Employee(override val name: String, override val age: Int) : Person<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><strong>接口继承</strong>：</li></ul><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">interface Employee : Person &#123;    val employeeId: Int&#125;class Manager(override val name: String, override val age: Int, override val employeeId: Int) : Employee<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p> |</p><h3 id="空安全"><a href="#空安全" class="headerlink" title="空安全"></a>空安全</h3><h4 id="6-1-非空断言"><a href="#6-1-非空断言" class="headerlink" title="6.1 非空断言"></a>6.1 非空断言</h4><table><thead><tr><th>语言</th><th>说明</th><th>举例</th></tr></thead><tbody><tr><td>TypeScript</td><td>使用 <code>!</code> 运算符，可以告诉 TypeScript 编译器某个值不会是 <code>null</code> 或 <code>undefined</code>。</td><td></td></tr></tbody></table><pre class="line-numbers language-TypeScript" data-language="TypeScript"><code class="language-TypeScript">const value: string | null &#x3D; getValue();const nonNullValue: string &#x3D; value!; &#x2F;&#x2F; 非空断言<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p> |<br>|Java |<strong>Java 没有内置的非空断言运算符，但可以使用</strong> <code>**Optional**</code><strong>类来处理可能为 null 的值。</strong> |</p><pre class="line-numbers language-Java" data-language="Java"><code class="language-Java">Optional&lt;String&gt; optionalValue &#x3D; Optional.ofNullable(getValue());String nonNullValue &#x3D; optionalValue.orElse(&quot;default&quot;);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p> |<br>|Kotlin |<strong>使用</strong> <code>**!!**</code><strong>运算符，可以将一个可空类型转换为非空类型，如果为 null 则抛出异常。</strong> |</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">val value: String? &#x3D; getValue()val nonNullValue: String &#x3D; value!! &#x2F;&#x2F; 如果 value 为 null，会抛出异常<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p> |</p><h4 id="6-2-空值合并"><a href="#6-2-空值合并" class="headerlink" title="6.2 空值合并"></a>6.2 空值合并</h4><table><thead><tr><th>语言</th><th>说明</th><th>举例</th></tr></thead><tbody><tr><td>TypeScript</td><td>使用 <code>??</code> 运算符，当左侧值为 <code>null</code> 或 <code>undefined</code> 时，返回右侧的值。</td><td></td></tr></tbody></table><pre class="line-numbers language-TypeScript" data-language="TypeScript"><code class="language-TypeScript">const value &#x3D; null;const result &#x3D; value ?? &#39;default&#39;; &#x2F;&#x2F; result 为 &#39;default&#39;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p> |<br>|Java |<strong>Java 没有类似于</strong> <code>**??**</code><strong>的运算符，但可以通过</strong> <code>**Optional**</code><strong>的</strong> <code>**orElse**</code><strong>方法实现类似功能。</strong> |</p><pre class="line-numbers language-Java" data-language="Java"><code class="language-Java">String value &#x3D; null;String result &#x3D; Optional.ofNullable(value).orElse(&quot;default&quot;); &#x2F;&#x2F; result 为 &#39;default&#39;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p> |<br>|Kotlin |<strong>使用</strong> <code>**?:**</code><strong>运算符，当左侧值为 null 时，返回右侧的值。</strong> |</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">val value: String? &#x3D; nullval result &#x3D; value ?: &quot;default&quot; &#x2F;&#x2F; result 为 &#39;default&#39;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p> |</p><h4 id="6-3-可选链"><a href="#6-3-可选链" class="headerlink" title="6.3 可选链"></a>6.3 可选链</h4><p>可选链运算符只会在属性访问链中遇到第一个 <code>undefined</code> 或 <code>null</code> 值时停止，并返回 <code>undefined</code>。如果后续的属性访问链中还有其他的 <code>undefined</code> 或 <code>null</code> 值，不会继续进行访问。</p><p>Kotlin 没有 <code>undefined</code> 值。</p><p>Java 可以通过<strong>通过</strong> <code>**Optional**</code><strong>的 map 来达到类似于可选链的效果。</strong></p><table><thead><tr><th>语言</th><th>说明</th><th>举例</th></tr></thead><tbody><tr><td>TypeScript</td><td>使用 <code>?.</code> 运算符，可以安全地访问对象的属性或调用方法，如果路径中的某个值为 <code>null</code> 或 <code>undefined</code>，则返回 <code>undefined</code></td><td></td></tr></tbody></table><pre class="line-numbers language-TypeScript" data-language="TypeScript"><code class="language-TypeScript">const obj &#x3D; null;const result &#x3D; obj?.property; &#x2F;&#x2F; result 为 undefined<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p> |<br>|Java |<strong>Java 没有可选链运算符，但可以通过</strong> <code>**Optional**</code><strong>来避免</strong> <code>**NullPointerException**</code><strong>。</strong> |</p><pre class="line-numbers language-Java" data-language="Java"><code class="language-Java">class Address &#123;    String street;&#125;class User &#123;    Address address;&#125;User user &#x3D; null;String street &#x3D; Optional.ofNullable(user) &#x2F;&#x2F; 如果 user 为 null，链式调用会停止                        .map(User::getAddress)                        .map(Address::getStreet)                        .orElse(&quot;default street&quot;);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p> |<br>|Kotlin |和 TypeScript 比较类似。使用 <code>?.</code> 运算符，可以安全地访问对象的属性或调用方法。 |</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">val obj: MyClass? &#x3D; nullval result &#x3D; obj?.property &#x2F;&#x2F; result 为 null<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p> |</p><h3 id="泛型"><a href="#泛型" class="headerlink" title="泛型"></a>泛型</h3><h4 id="7-1-一般性写法"><a href="#7-1-一般性写法" class="headerlink" title="7.1 一般性写法"></a>7.1 一般性写法</h4><p><strong>泛型写法</strong> 在三种语言中都比较相似，但语法略有不同。这里以函数举例：</p><ul><li><strong>TypeScript</strong></li></ul><pre class="line-numbers language-TypeScript" data-language="TypeScript"><code class="language-TypeScript">function identity&lt;T&gt;(arg: T): T &#123;    return arg;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><ul><li><strong>Kotlin</strong></li></ul><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">fun &lt;T&gt; identity(arg: T): T &#123;    return arg&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><ul><li><strong>Java</strong></li></ul><pre class="line-numbers language-Java" data-language="Java"><code class="language-Java">public &lt;T&gt; T identity(T arg) &#123;    return arg;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h4 id="7-2-泛型约束"><a href="#7-2-泛型约束" class="headerlink" title="7.2 泛型约束"></a>7.2 泛型约束</h4><p><strong>泛型上界约束</strong> 的语法在 TS 和 Java 中使用 <code>extends</code>，而 Kotlin 使用冒号和 <code>where</code>。</p><ul><li><strong>TypeScript：</strong>使用 <code>extends</code> 关键字来约束泛型类型：</li></ul><pre class="line-numbers language-TypeScript" data-language="TypeScript"><code class="language-TypeScript">interface Lengthwise &#123;    length: number;&#125;function loggingIdentity&lt;T extends Lengthwise&gt;(arg: T): T &#123;    console.log(arg.length);    return arg;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><strong>Kotlin：</strong>使用 <code>:</code> 、<code>where</code> 关键字来约束泛型类型：</li></ul><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">&#x2F;&#x2F; 使用 where 来约束泛型类型fun &lt;T&gt; loggingIdentity(arg: T) where T : CharSequence &#123;    println(arg.length)&#125;&#x2F;&#x2F; 使用 : 来约束泛型类型fun &lt;T : Number&gt; sum(a: T, b: T): Double &#123;    return a.toDouble() + b.toDouble()&#125;&#x2F;&#x2F; 使用 where 进行多重约束fun &lt;T&gt; process(value: T) where T : Comparable&lt;T&gt;, T : CharSequence &#123;    &#x2F;&#x2F; ...&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><strong>Java</strong> 使用 <code>extends</code> 关键字来约束泛型类型：</li></ul><pre class="line-numbers language-Java" data-language="Java"><code class="language-Java">public &lt;T extends CharSequence&gt; void loggingIdentity(T arg) &#123;    System.out.println(arg.length());&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p><strong>泛型下界约束</strong> 的语法在 Java 中使用 <code>super</code>，而 Kotlin 使用冒号和 <code>in</code>。<strong>TypeScript 不支持下界约束。</strong></p><ul><li><strong>Kotlin</strong> 使用 <code>in</code> 关键字定义下界约束，限制泛型类型必须是某个类或接口的超类。</li></ul><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">fun addNumbers(list: MutableList&lt;in Int&gt;) &#123;    list.add(1) &#x2F;&#x2F; 可以添加 Int 类型&#125;fun main() &#123;    val numbers: MutableList&lt;Number&gt; &#x3D; mutableListOf()    addNumbers(numbers)    println(numbers)&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><strong>Java</strong> 使用 <code>super</code> 关键字来定义下界约束，限制泛型类型必须是某个类或接口的超类。</li></ul><pre class="line-numbers language-Java" data-language="Java"><code class="language-Java">import java.util.ArrayList;import java.util.List;class NumberList &#123;    public static void addNumbers(List&lt;? super Integer&gt; list) &#123;        list.add(1); &#x2F;&#x2F; 可以添加 Integer 类型    &#125;    public static void main(String[] args) &#123;        List&lt;Number&gt; numbers &#x3D; new ArrayList&lt;&gt;();        addNumbers(numbers);        System.out.println(numbers);    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="7-3-泛型默认值"><a href="#7-3-泛型默认值" class="headerlink" title="7.3 泛型默认值"></a>7.3 泛型默认值</h4><p><strong>泛型默认值</strong> 仅在 TypeScript 中支持，Kotlin 和 Java 不支持这一特性。</p><ul><li><strong>TypeScript：</strong>TypeScript 支持泛型的默认值：</li></ul><pre class="line-numbers language-TypeScript" data-language="TypeScript"><code class="language-TypeScript">function identity&lt;T &#x3D; string&gt;(arg: T): T &#123;    return arg;&#125;const result &#x3D; identity(123); &#x2F;&#x2F; result 的类型为 number<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="7-4-Kotlin-泛型进阶"><a href="#7-4-Kotlin-泛型进阶" class="headerlink" title="7.4 Kotlin 泛型进阶"></a>7.4 Kotlin 泛型进阶</h4><h5 id="7-4-1-reified"><a href="#7-4-1-reified" class="headerlink" title="7.4.1 reified"></a>7.4.1 <code>reified</code></h5><p>在 Kotlin 中，<code>reified</code> 是一个关键字。使用 <code>reified</code> 关键字，可以在 inline 函数中保留类型信息，从而在运行时使用该类型。</p><p>通过 <code>reified</code> 获取参数类型：</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">inline fun &lt;reified T&gt; printType(value: T) &#123;    println(&quot;The type of value is: $&#123;T::class.simpleName&#125;&quot;) &#x2F;&#x2F; 使用 reified 获取类型信息&#125;fun main() &#123;    printType(42)          &#x2F;&#x2F; 输出: The type of value is: Int    printType(&quot;Hello&quot;)     &#x2F;&#x2F; 输出: The type of value is: String    printType(3.14)        &#x2F;&#x2F; 输出: The type of value is: Double&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>在这个示例中，<code>printType</code> 函数是一个 inline 函数，使用了 <code>reified</code> 关键字。通过 <code>T::class.simpleName</code> 可以获取泛型参数的类型信息。</p><p>用于类型检查&#x2F;过滤：</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">inline fun &lt;reified T&gt; List&lt;*&gt;.filterIsInstance(): List&lt;T&gt; &#123;    return this.filterIsInstance&lt;T&gt;() &#x2F;&#x2F; 使用 reified 进行类型过滤&#125;fun main() &#123;    val mixedList: List&lt;Any&gt; &#x3D; listOf(1, &quot;two&quot;, 3.0, 4)    val intList: List&lt;Int&gt; &#x3D; mixedList.filterIsInstance&lt;Int&gt;()      println(intList) &#x2F;&#x2F; 输出: [1, 4]&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>在此示例中，<code>filterIsInstance</code> 函数使用 <code>reified</code> 关键字来过滤给定列表中的元素，返回指定类型的子集。</p><p>使用类型安全的反射：</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">inline fun &lt;reified T&gt; createInstance(): T &#123;    return T::class.constructors.first().call() &#x2F;&#x2F; 使用 reified 创建实例&#125;data class Person(val name: String &#x3D; &quot;John Doe&quot;)fun main() &#123;    val person: Person &#x3D; createInstance() &#x2F;&#x2F; 创建 Person 实例    println(person) &#x2F;&#x2F; 输出: Person(name&#x3D;John Doe)&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>在这个示例中，<code>createInstance</code> 函数通过 <code>reified</code> 关键字和反射机制创建了指定类型的实例。</p><h5 id="7-4-2-out、in、Invariant"><a href="#7-4-2-out、in、Invariant" class="headerlink" title="7.4.2 out、in、Invariant"></a>7.4.2 <strong>out、in、Invariant</strong></h5><p>在 Kotlin 中，<code>out</code>、<code>in</code> 和不带任何修饰符（也称为 <strong>Invariant</strong>）是用于定义泛型类型参数的三种方式。它们分别表示不同的协变和逆变的概念，影响泛型类型的可用性和类型安全性。</p><ol><li>Out（协变）</li></ol><p>使用 <code>out</code> 修饰符的泛型类型参数表示协变。协变允许我们可以将泛型类型作为输出类型（返回值）。这意味着可以将子类型的对象赋值给父类型的变量。</p><p><strong>示例</strong>：</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">interface Producer&lt;out T&gt; &#123;    fun produce(): T&#125;class StringProducer : Producer&lt;String&gt; &#123;    override fun produce(): String &#123;        return &quot;Hello, Kotlin!&quot;    &#125;&#125;fun main() &#123;    val producer: Producer&lt;Any&gt; &#x3D; StringProducer() &#x2F;&#x2F; 可以将 Producer&lt;String&gt; 赋值给 Producer&lt;Any&gt;    println(producer.produce()) &#x2F;&#x2F; 输出: Hello, Kotlin!&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>在这个例子中，<code>Producer</code> 接口的类型参数 <code>T</code> 被标记为 <code>out</code>，这允许我们将 <code>Producer&lt;String&gt;</code> 赋值给 <code>Producer&lt;Any&gt;</code>。</p><ol><li>In（逆变）</li></ol><p>使用 <code>in</code> 修饰符的泛型类型参数表示逆变。逆变允许我们可以将泛型类型作为输入类型（参数）。这意味着可以将父类型的对象赋值给子类型的变量。</p><p><strong>示例</strong>：</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">interface Consumer&lt;in T&gt; &#123;    fun consume(item: T)&#125;class StringConsumer : Consumer&lt;String&gt; &#123;    override fun consume(item: String) &#123;        println(&quot;Consuming: $item&quot;)    &#125;&#125;fun main() &#123;    val consumer: Consumer&lt;Any&gt; &#x3D; StringConsumer() &#x2F;&#x2F; 可以将 Consumer&lt;String&gt; 赋值给 Consumer&lt;Any&gt;    consumer.consume(&quot;Hello, Kotlin!&quot;) &#x2F;&#x2F; 输出: Consuming: Hello, Kotlin!&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>在这个例子中，<code>Consumer</code> 接口的类型参数 <code>T</code> 被标记为 <code>in</code>，这允许我们将 <code>Consumer&lt;String&gt;</code> 赋值给 <code>Consumer&lt;Any&gt;</code>。</p><ol><li>Invariant（不变）</li></ol><p>不带任何修饰符的泛型类型参数表示不变。这意味着泛型类型参数既不能被视为协变也不能被视为逆变。我们只能使用完全相同的类型。</p><p><strong>示例</strong>：</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">class Box&lt;T&gt;(val value: T)fun main() &#123;    val stringBox: Box&lt;String&gt; &#x3D; Box(&quot;Hello&quot;)    &#x2F;&#x2F; val anyBox: Box&lt;Any&gt; &#x3D; stringBox &#x2F;&#x2F; 这是不允许的，会导致编译错误&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>在这个例子中，<code>Box&lt;T&gt;</code> 是不变的。不能将 <code>Box&lt;String&gt;</code> 赋值给 <code>Box&lt;Any&gt;</code>，因为它们是不同的类型。</p><h3 id="模块化语法"><a href="#模块化语法" class="headerlink" title="模块化语法"></a>模块化语法</h3><table><thead><tr><th>语言</th><th>说明</th><th>举例</th></tr></thead><tbody><tr><td>TypeScript</td><td><strong>TypeScript</strong> 使用 <code>import</code> 和 <code>export</code> 关键字来显式导入和导出模块。</td><td></td></tr></tbody></table><pre class="line-numbers language-TypeScript" data-language="TypeScript"><code class="language-TypeScript">&#x2F;&#x2F; 导入import &#123; ModuleName &#125; from &#39;.&#x2F;module&#39;;&#x2F;&#x2F; 全包导入import * as Module from &#39;.&#x2F;module&#39;;&#x2F;&#x2F; 导出export const variableName &#x3D; &#39;value&#39;; export function functionName() &#123; &#125;&#x2F;&#x2F; 默认导出export default class ClassName &#123; &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p> |<br>|Java |<strong>Kotlin</strong> 和 <strong>Java</strong> 使用 <code>import</code> 语句导入，但导出则依赖于类和函数的可见性（如 <code>public</code> 修饰符）。Java 中的类和接口默认是包私有的。要导出它们，可以使用 <code>public</code> 修饰符。 |</p><pre class="line-numbers language-Java" data-language="Java"><code class="language-Java">&#x2F;&#x2F; 导入import com.example.ModuleName;&#x2F;&#x2F; 全包导入import com.example.*;&#x2F;&#x2F; 导出public class ClassName &#123; &#125; public static void functionName() &#123; &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p> |<br>|Kotlin |<strong>Kotlin</strong> 和 <strong>Java</strong> 使用 <code>import</code> 语句导入，但导出则依赖于类和函数的可见性（如 <code>public</code> 修饰符）。Kotlin 没有显式的导出语法，因为所有公共类和函数默认都是可导出的。可以使用 <code>public</code> 修饰符来明确表示。Kotlin 导出导入的语法和 Java 是完全一致的。导出心智也是完全一致的。 |</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">&#x2F;&#x2F; 导入import com.example.ModuleName&#x2F;&#x2F; 全包导入import com.example.*&#x2F;&#x2F; 导出public val variableName &#x3D; &quot;value&quot;public fun functionName() &#123; &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p> |</p><h2 id="Kotlin-进阶语法"><a href="#Kotlin-进阶语法" class="headerlink" title="Kotlin 进阶语法"></a>Kotlin 进阶语法</h2><h3 id="异步"><a href="#异步" class="headerlink" title="异步"></a>异步</h3><h4 id="回调"><a href="#回调" class="headerlink" title="回调"></a>回调</h4><p>TypeScript 和 Kotlin 都支持高阶函数，因此也都支持回调函数。但回调地狱的问题导致两者均已不常使用这种方案。</p><h4 id="Promise"><a href="#Promise" class="headerlink" title="Promise"></a>Promise</h4><p>TypeScript 和 Kotlin 相同点：</p><ol><li><strong>创建 Promise</strong>：<ul><li>两者都可以使用类似的方式来创建 Promise 对象，通常通过提供一个执行器函数（executor function），该函数接收 <code>resolve</code> 和 <code>reject</code> 回调。</li></ul></li><li><strong>链式调用</strong>：<ul><li>都支持使用 <code>.then()</code> 和 <code>.catch()</code> 方法进行链式调用，以处理成功和失败的回调。</li></ul></li></ol><p>TypeScript 和 Kotlin 不同点：</p><ol><li><strong>Promise 的创建</strong>：</li></ol><ul><li><strong>Kotlin</strong> 使用 <code>kotlin.js.Promise</code>：</li></ul><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">val promise &#x3D; Promise&lt;String&gt; &#123; resolve, reject -&gt;    &#x2F;&#x2F; 模拟异步操作    window.setTimeout(&#123;        resolve(&quot;Hello from Kotlin!&quot;)    &#125;, 1000)&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><strong>TypeScript</strong> 使用原生 JavaScript 的 <code>Promise</code>：</li></ul><pre class="line-numbers language-TypeScript" data-language="TypeScript"><code class="language-TypeScript">const promise &#x3D; new Promise&lt;string&gt;((resolve, reject) &#x3D;&gt; &#123;    &#x2F;&#x2F; 模拟异步操作    setTimeout(() &#x3D;&gt; &#123;        resolve(&quot;Hello from TypeScript!&quot;);    &#125;, 1000);&#125;);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol><li><strong>使用 Promise</strong>：</li></ol><ul><li><strong>Kotlin</strong>：</li></ul><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">promise.then &#123; result -&gt;    console.log(result) &#x2F;&#x2F; 输出: Hello from Kotlin!&#125;.catch &#123; error -&gt;    console.error(error)&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><strong>TypeScript</strong>：</li></ul><pre class="line-numbers language-TypeScript" data-language="TypeScript"><code class="language-TypeScript">promise    .then(result &#x3D;&gt; &#123;        console.log(result); &#x2F;&#x2F; 输出: Hello from TypeScript!    &#125;)    .catch(error &#x3D;&gt; &#123;        console.error(error);    &#125;);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol><li><strong>类型系统</strong>：</li></ol><ul><li><strong>Kotlin</strong>：类型是显式的，使用 <code>Promise&lt;Type&gt;</code> 的形式定义返回值类型。</li><li><strong>TypeScript</strong>：类型也可以显式定义，但可以利用类型推断来简化代码。</li></ul><ol><li><strong>错误处理</strong>：</li></ol><ul><li><strong>Kotlin</strong> 的 Promise 使用 <code>.catch()</code> 方法与 TypeScript 类似，但在 Kotlin 中通常习惯使用 <code>try-catch</code> 来捕获异步调用中的异常。</li><li><strong>TypeScript</strong> 通过 <code>.catch()</code> 方法处理错误，语法更为直接。</li></ul><ol><li><strong>运行环境</strong>：</li></ol><ul><li><strong>Kotlin</strong> 的 Promise 一般在 Kotlin&#x2F;JS 环境下使用，依赖于 Kotlin 的标准库。</li><li><strong>TypeScript</strong> 直接运行在 JavaScript 环境中，具有更广泛的兼容性。</li></ul><h4 id="协程"><a href="#协程" class="headerlink" title="协程"></a>协程</h4><blockquote><p><a href="https://developer.android.com/kotlin/coroutines?hl=zh-cn">https://developer.android.com/kotlin/coroutines?hl=zh-cn</a></p></blockquote><p>异步或非阻塞程序设计是开发领域的重要部分。 创建服务器端应用、 桌面应用或者移动端应用时，都很重要的一点是， 提供的体验不仅是从用户角度看着流畅， 而且还能在需要时伸缩（scalable，可扩充&#x2F;缩减规模）。</p><p>Kotlin 以一种灵活的方式解决了这个问题，在语言层面提供了<a href="https://en.wikipedia.org/wiki/Coroutine">协程</a>支持， 而将大部分功能委托给库。</p><p>我们使用安卓教程中的一个例子来认识在安卓中它是如何被使用的：</p><p>假设我们有这样的一个方法，该方法为<strong>耗时方法且为同步执行</strong>：</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">fun makeLoginRequest(jsonBody: String): Result&lt;LoginResponse&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>如果在主线程执行 <code>makeLoginRequest()</code>，则会导致刚刚提及的阻塞状态。这对我们来说是不可能接受的。以下为这一过程的安卓原生代码：</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">class LoginViewModel(    private val loginRepository: LoginRepository): ViewModel() &#123;    fun login(username: String, token: String) &#123;        &#x2F;&#x2F; Create a new coroutine to move the execution off the UI thread        viewModelScope.launch(Dispatchers.IO) &#123;            val jsonBody &#x3D; &quot;&#123; username: \&quot;$username\&quot;, token: \&quot;$token\&quot;&#125;&quot;            loginRepository.makeLoginRequest(jsonBody)        &#125;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>我们可以做以下改进：</p><ol><li>在 Kotlin 项目中引入依赖：</li></ol><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">dependencies &#123;    implementation(&quot;org.jetbrains.kotlinx:kotlinx-coroutines-android:1.3.9&quot;)&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><ol><li>改写代码，创建一个新的协程，然后在 I&#x2F;O 线程上执行网络请求：</li></ol><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">class LoginViewModel(    private val loginRepository: LoginRepository): ViewModel() &#123;    fun login(username: String, token: String) &#123;        &#x2F;&#x2F; Create a new coroutine to move the execution off the UI thread        viewModelScope.launch(Dispatchers.IO) &#123;            val jsonBody &#x3D; &quot;&#123; username: \&quot;$username\&quot;, token: \&quot;$token\&quot;&#125;&quot;            loginRepository.makeLoginRequest(jsonBody)        &#125;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><code>viewModelScope</code> 是预定义的 <code>CoroutineScope</code>，包含在 <code>ViewModel</code> KTX 扩展中。请注意，所有协程都必须在一个作用域内运行。一个 <code>CoroutineScope</code> 管理一个或多个相关的协程。</li><li><code>launch</code> 是一个函数，用于创建协程并将其函数主体的执行分派给相应的调度程序。</li><li><code>Dispatchers.IO</code> 指示此协程应在为 I&#x2F;O 操作预留的线程上执行。</li></ul><p><code>login</code> 函数按以下方式执行：</p><ul><li>应用从主线程上的 <code>View</code> 层调用 <code>login</code> 函数。</li><li><code>launch</code> 会创建一个新的协程，并且网络请求在为 I&#x2F;O 操作预留的线程上独立发出。</li><li>在该协程运行时，<code>login</code> 函数会继续执行，并可能在网络请求完成前返回。请注意，为简单起见，我们暂时忽略掉网络响应。</li></ul><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">class LoginRepository(...) &#123;    ...    suspend fun makeLoginRequest(        jsonBody: String    ): Result&lt;LoginResponse&gt; &#123;        &#x2F;&#x2F; Move the execution of the coroutine to the I&#x2F;O dispatcher        return withContext(Dispatchers.IO) &#123;            &#x2F;&#x2F; Blocking network request code        &#125;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>withContext(Dispatchers.IO)</code> 将协程的执行操作移至一个 I&#x2F;O 线程，这样一来，我们的调用函数便是主线程安全的，并且支持根据需要更新界面。</p><p><code>makeLoginRequest</code> 还会用 <code>suspend</code> 关键字进行标记。Kotlin 利用此关键字强制从协程内调用函数。</p><p><strong>所有</strong> <code>**suspend**</code><strong>函数都必须在协程中执行，和 TypeScript 对比的时候，我认为它的意义和 await 比较类似，因为所有的 await 都必须在 async 函数下执行。suspend 方法必须在协程中执行也正是体现了这一理念。</strong></p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">class LoginViewModel(    private val loginRepository: LoginRepository): ViewModel() &#123;    fun login(username: String, token: String) &#123;        &#x2F;&#x2F; Create a new coroutine on the UI thread        viewModelScope.launch &#123;            val jsonBody &#x3D; &quot;&#123; username: \&quot;$username\&quot;, token: \&quot;$token\&quot;&#125;&quot;            &#x2F;&#x2F; Make the network call and suspend execution until it finishes            val result &#x3D; loginRepository.makeLoginRequest(jsonBody)            &#x2F;&#x2F; Display result of the network request to the user            when (result) &#123;                is Result.Success&lt;LoginResponse&gt; -&gt; &#x2F;&#x2F; Happy path                else -&gt; &#x2F;&#x2F; Show error in UI            &#125;        &#125;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>login</code> 函数现在按以下方式执行：</p><ul><li>应用从主线程上的 <code>View</code> 层调用 <code>login()</code> 函数。</li><li><code>launch</code> 在主线程上创建新协程，然后协程开始执行。</li><li>在协程内，调用 <code>loginRepository.makeLoginRequest()</code> 现在会挂起协程的进一步执行操作，直至 <code>makeLoginRequest()</code> 中的 <code>withContext</code> 块结束运行。</li><li><code>withContext</code> 块结束运行后，<code>login()</code> 中的协程在主线程上恢复执行操作，并返回网络请求的结果。</li></ul><h3 id="延迟初始化-lateinit-lazy"><a href="#延迟初始化-lateinit-lazy" class="headerlink" title="延迟初始化 lateinit, lazy"></a>延迟初始化 lateinit, lazy</h3><p>lateinit, lazy 是 Kotlin 中两种实现延迟初始化的方式.</p><ul><li>lateinit 只能用于 var 标示的变量，by lazy 只能用于 val 标示的变量。</li><li>by lazy 只在第一次调用时进行初始化。</li></ul><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">class User &#123;    private lateinit var name: String    private val password: String by lazy &#123;        println(&quot;lazy init&quot;)        &quot;admin&quot;    &#125;    fun setName(name: String) &#123;        this.name &#x3D; name    &#125;    fun show() &#123;        println(&quot;name &#x3D; $name&quot;)        println(&quot;--------------------&quot;)        println(&quot;第一次访问 password &#x3D; $password&quot;)        println(&quot;第二次访问 password &#x3D; $password&quot;)    &#125;&#125;fun main() &#123;    val user &#x3D; User()    user.setName(&quot;tomcat&quot;)    user.show()&#125;&#x2F;&#x2F; 输出结果&#x2F;&#x2F; name &#x3D; tomcat&#x2F;&#x2F; --------------------&#x2F;&#x2F; lazy init&#x2F;&#x2F; 第一次访问 password &#x3D; admin&#x2F;&#x2F; 第二次访问 password &#x3D; admin<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="委托-by"><a href="#委托-by" class="headerlink" title="委托 by"></a>委托 by</h3><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">&#x2F;** * 定义 Base 接口 * *&#x2F;interface Base &#123;    fun say()&#125;&#x2F;** * 定义 Base 接口的实现类，并实现 say() 方法 *&#x2F;class BaseImpl : Base &#123;    override fun say() &#123;        println(&quot;BaseImpl say()&quot;)    &#125;&#125;&#x2F;** * 定义 BaseProxy 类，并实现了 Base 接口， * 关键字 by 将接口 Base 中所有的方法都委托给 base 对象，这样 BaseProxy 类就不需要去实现接口 Base 中的方法了， * 简化了实现接口时要实现其中的方法。 *&#x2F;class BaseProxy(base: Base) : Base by basefun main() &#123;    val baseImpl &#x3D; BaseImpl()    &#x2F;&#x2F; 调用的是 BaseImpl 中的 say() 方法    BaseProxy(baseImpl).say()&#125;&#x2F;&#x2F; 输出结果&#x2F;&#x2F; BaseImpl say()<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="扩展函数"><a href="#扩展函数" class="headerlink" title="扩展函数"></a>扩展函数</h3><p>扩展函数可以给类额外添加成员函数，通过「类名.方法名」方式实现。</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">&#x2F;** * 定义扩展函数，给 File 添加 readText() 方法 *&#x2F;fun File.readText(charset: Charset): String &#x3D; readBytes().toString(charset)&#x2F;&#x2F; 调用fun main() &#123;    val file &#x3D; File(&quot;&#x2F;Users&#x2F;xing&#x2F;Desktop&#x2F;Android.md&quot;)    print(file.readText(Charset.forName(&quot;utf-8&quot;)))&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="Lambda-表达式"><a href="#Lambda-表达式" class="headerlink" title="Lambda 表达式"></a>Lambda 表达式</h3><p>Lambda 表达式是一种匿名函数，可以在 Kotlin 中简洁地表示函数类型。它们用于实现高阶函数的功能，使得函数式编程变得更加方便。以下是对 Lambda 表达式的详细介绍以及一些示例。</p><p>Kotlin 中的 Lambda 表达式语法如下：</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">val lambdaName: Type &#x3D; &#123; parameters -&gt; body &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li><code>lambdaName</code> 是 Lambda 表达式的名称（可选）。</li><li><code>Type</code> 是 Lambda 表达式的类型（可选）。</li><li><code>parameters</code> 是输入参数。</li><li><code>body</code> 是表达式或语句。</li></ul><p>示例：</p><ol><li><strong>简单的 Lambda 表达式</strong></li></ol><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">val square: (Int) -&gt; Int &#x3D; &#123; x -&gt; x * x &#125;println(square(5)) &#x2F;&#x2F; 输出: 25<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ol><li><strong>无参数的 Lambda 表达式</strong></li></ol><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">val greet: () -&gt; String &#x3D; &#123; &quot;Hello, World!&quot; &#125;println(greet()) &#x2F;&#x2F; 输出: Hello, World!<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ol><li><strong>多参数的 Lambda 表达式</strong></li></ol><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">val add: (Int, Int) -&gt; Int &#x3D; &#123; a, b -&gt; a + b &#125;println(add(3, 4)) &#x2F;&#x2F; 输出: 7<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ol><li><strong>作为高阶函数的参数</strong></li></ol><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">fun operateOnNumbers(a: Int, b: Int, operation: (Int, Int) -&gt; Int): Int &#123;    return operation(a, b)&#125;val result &#x3D; operateOnNumbers(5, 3, add)println(result) &#x2F;&#x2F; 输出: 8<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol><li><strong>使用 Lambda 表达式作为参数</strong></li></ol><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">fun main() &#123;    val numbers &#x3D; listOf(1, 2, 3, 4, 5)    &#x2F;&#x2F; 使用 Lambda 表达式过滤列表    val evenNumbers &#x3D; numbers.filter &#123; it % 2 &#x3D;&#x3D; 0 &#125;    println(evenNumbers) &#x2F;&#x2F; 输出: [2, 4]&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol><li><strong>多个 Lambda 表达式</strong></li></ol><p>在某些情况下，可以将多个 Lambda 表达式作为参数传递给高阶函数。</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">fun calculate(a: Int, b: Int, operation: (Int, Int) -&gt; Int): Int &#123;    return operation(a, b)&#125;fun main() &#123;    val sum &#x3D; calculate(10, 5) &#123; x, y -&gt; x + y &#125;    val difference &#x3D; calculate(10, 5) &#123; x, y -&gt; x - y &#125;      println(&quot;Sum: $sum&quot;) &#x2F;&#x2F; 输出: Sum: 15    println(&quot;Difference: $difference&quot;) &#x2F;&#x2F; 输出: Difference: 5&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>lambda 表达式具有如下特性：</p><ul><li><strong>类型推断</strong>：Kotlin 可以自动推断 Lambda 表达式的类型，因此可以省略参数类型。</li><li><strong>单个参数的简化</strong>：如果 Lambda 表达式只有一个参数，可以省略参数名称，使用 <code>it</code> 作为默认名称。</li></ul><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">val double &#x3D; &#123; it: Int -&gt; it * 2 &#125;println(double(4)) &#x2F;&#x2F; 输出: 8<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ul><li><strong>多行 Lambda 表达式</strong>：如果 Lambda 表达式体包含多行代码，需要使用 <code>&#123;&#125;</code> 包围，并且最后一行是返回值。</li></ul><h3 id="注解"><a href="#注解" class="headerlink" title="注解"></a>注解</h3><p>Java 和 Kotlin 的注解机制相似，都是通过定义注解类型并在代码中使用，而 TypeScript 则通过装饰器实现类似的功能。它们的共同点在于都可以用于提供元数据，而不同之处在于实现机制、语法和使用场景。</p><table><thead><tr><th>语言</th><th>作用</th><th>举例</th></tr></thead><tbody><tr><td>TypeScript</td><td>TypeScript 中没有直接的注解机制，但可以通过装饰器（decorators）实现类似的功能。装饰器通常用于类和类成员，并提供元数据。#### 作用</td><td></td></tr></tbody></table><ul><li><strong>元数据</strong>：为类、方法、属性提供元数据。</li><li><strong>框架支持</strong>：常用于 Angular 等框架进行依赖注入和元编程。</li></ul><p> |</p><pre class="line-numbers language-TypeScript" data-language="TypeScript"><code class="language-TypeScript">function MyAnnotation(value: string) &#123;    return function (target: any) &#123;        target.annotationValue &#x3D; value;    &#125;;&#125;@MyAnnotation(&quot;Hello, TypeScript!&quot;)class MyClass &#123;    static getAnnotation() &#123;        return (this as any).annotationValue;    &#125;&#125;console.log(MyClass.getAnnotation()); &#x2F;&#x2F; 输出: Hello, TypeScript!<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p> |<br>|Java |<strong>元数据</strong>：为代码元素（如类、方法、字段等）提供额外信息。<strong>运行时反射</strong>：可以在运行时通过反射获取注解信息。<strong>编译时检查</strong>：一些注解可以用于编译器进行静态检查。<strong>框架支持</strong>：许多框架（如 Spring）使用注解来进行依赖注入和配置。 |</p><pre class="line-numbers language-Java" data-language="Java"><code class="language-Java">import java.lang.annotation.Retention;import java.lang.annotation.RetentionPolicy;@Retention(RetentionPolicy.RUNTIME)@interface MyAnnotation &#123;    String value();&#125;@MyAnnotation(&quot;Hello, Java!&quot;)public class MyClass &#123;    public static void main(String[] args) &#123;        MyAnnotation annotation &#x3D; MyClass.class.getAnnotation(MyAnnotation.class);        System.out.println(annotation.value()); &#x2F;&#x2F; 输出: Hello, Java!    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p> |<br>|Kotlin |<strong>元数据</strong>：与 Java 类似，Kotlin 的注解用于提供元数据。<strong>运行时反射</strong>：Kotlin 的注解也可以在运行时通过反射获取。<strong>简化语法</strong>：Kotlin 的注解语法更简洁。 |</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">@Target(AnnotationTarget.CLASS)@Retention(AnnotationRetention.RUNTIME)annotation class MyAnnotation(val value: String)@MyAnnotation(&quot;Hello, Kotlin!&quot;)class MyClass &#123;    companion object &#123;        @JvmStatic        fun main(args: Array&lt;String&gt;) &#123;            val annotation &#x3D; MyClass::class.annotations.find &#123; it is MyAnnotation &#125; as MyAnnotation            println(annotation.value) &#x2F;&#x2F; 输出: Hello, Kotlin!        &#125;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p> |</p><h3 id="反射"><a href="#反射" class="headerlink" title="反射"></a>反射</h3><p>反射是一种强大的编程特性，允许程序在运行时检查和操作其自身的结构和行为。通过反射，开发者可以动态地获取类的信息、方法、字段等，并在运行时创建和操作对象。</p><p>Java 和 Kotlin 都提供了比较完整的反射机制，允许开发者在运行时操作类型信息，而 TypeScript 的反射能力相对较弱，主要依赖 JavaScript 的特性和装饰器来实现。</p><table><thead><tr><th>语言</th><th>说明</th><th>举例</th></tr></thead><tbody><tr><td>TypeScript</td><td><strong>没有内置反射 API</strong>：TypeScript 本身没有完整的反射机制，但可以通过装饰器和元数据实现某种程度的反射。<strong>运行时类型信息</strong>：可以使用 <code>typeof</code> 和 <code>instanceof</code> 来检查类型。<strong>与 JavaScript 结合</strong>：TypeScript 的反射能力依赖于 JavaScript 的反射机制。</td><td></td></tr></tbody></table><pre class="line-numbers language-TypeScript" data-language="TypeScript"><code class="language-TypeScript">function MyDecorator(target: any, propertyKey: string) &#123;    console.log(&#96;Decorated method: $&#123;propertyKey&#125;&#96;);&#125;class ReflectionExample &#123;    @MyDecorator    sayHello() &#123;        console.log(&quot;Hello, TypeScript!&quot;);    &#125;&#125;const example &#x3D; new ReflectionExample();example.sayHello(); &#x2F;&#x2F; 输出: Decorated method: sayHello                    &#x2F;&#x2F; 输出: Hello, TypeScript!<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p> |<br>|Java |<strong>完整的反射机制</strong>：Java 提供了完整的反射 API，可以检查类、方法、字段等。<strong>运行时类型信息</strong>：允许在运行时获取类型信息和修改对象的行为。<strong>动态代理</strong>：可以创建动态代理以实现 AOP（面向切面编程）。 |</p><pre class="line-numbers language-Java" data-language="Java"><code class="language-Java">import java.lang.reflect.Method;public class ReflectionExample &#123;    public void sayHello() &#123;        System.out.println(&quot;Hello, Java!&quot;);    &#125;    public static void main(String[] args) throws Exception &#123;        ReflectionExample example &#x3D; new ReflectionExample();        Method method &#x3D; example.getClass().getMethod(&quot;sayHello&quot;);        method.invoke(example); &#x2F;&#x2F; 输出: Hello, Java!    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p> |<br>|Kotlin |<strong>Kotlin 反射库</strong>：Kotlin 提供了反射支持，语法更简洁。<strong>类型安全</strong>：Kotlin 的反射 API 设计更加注重类型安全。<strong>扩展功能</strong>：可以通过扩展函数轻松操作 Kotlin 特性，如扩展属性和函数。 |</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">import kotlin.reflect.full.declaredFunctionsclass ReflectionExample &#123;    fun sayHello() &#123;        println(&quot;Hello, Kotlin!&quot;)    &#125;&#125;fun main() &#123;    val example &#x3D; ReflectionExample()    val kClass &#x3D; example::class    val function &#x3D; kClass.declaredFunctions.find &#123; it.name &#x3D;&#x3D; &quot;sayHello&quot; &#125;    function?.call(example) &#x2F;&#x2F; 输出: Hello, Kotlin!&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p> |</p><h2 id="开发感受"><a href="#开发感受" class="headerlink" title="开发感受"></a>开发感受</h2><p>Kotlin 是高级的 Java。</p><p>Java 和 Kotlin 很适合写 OOP 代码。Kotlin 比 Java 适合写面向过程的代码。</p><p>顺便再提一嘴 ArkTS，这玩意就是把 TS 变成了适合写 OOP 的样子，因此 TS 不是 Kotlin 的竞品，ArkTS 才是。</p>]]></content>
      
      
      <categories>
          
          <category> Android </category>
          
          <category> 基础语法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android </tag>
            
            <tag> Kotlin </tag>
            
            <tag> 基础语法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>安卓（2）-语法基础：Kotlin 常用库（1）</title>
      <link href="/2025/01/29/android-2/"/>
      <url>/2025/01/29/android-2/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><blockquote><p>2024 年我开始逐渐介入客户端的研发，因此我开始学习客户端的知识。<br>从服务端开始，转到前端来其实完全代表着我的编码风格的转变。我喜欢 UI 编程那「所见即所得」的惊艳，也喜欢人机交互相关的内容。<br>做 C 端 App，前端技术实际上更多是一种强行「卷」过来的结果：首先，基础肯定是客户端技术 Android&#x2F;iOS，但是前端的作用越来越清晰。当然，目前的大环境下走入前端甚至客户端开发通常被认为是一种开倒车的举动。但这种东西谁又说得好呢——难道做算法调优几个版本实验指标波动，亦或者做服务端大半夜被机器人打电话就能让人兴奋了吗？<br>人总有无知的时候，在已知信息差的时候我们总有一天要为认知买单。所以就让我们为梦想，做出一次不那么受到束缚的选择吧。<br>这是安卓系列的第一期，它包含以下内容：<br><a href="/2025/01/29/android-1/">安卓（1）-语法基础：Kotlin ＆ Java ＆ TS 对比</a><br><a href="/2025/01/29/android-2/">安卓（2）-语法基础：Kotlin 常用库（1）</a><br><a href="/2025/01/29/android-3/">安卓（3）-实用篇：UI（1）</a><br>我使用了 AI 来辅助我创作了一些重复性的工作，第一期内容会以相关知识的罗列为主，所以最好的阅读方式是阅读后进行查漏补缺。<br>希望大家可以喜欢这些教程！</p></blockquote><p>本文是安卓系列的第二个内容，衔接前一篇内容的 Kotlin 基础语法，主要介绍了 Kotlin 常用库的一些基础用法，学习 Kotlin 常用库的用法可以提高开发效率、增强代码可读性、简化复杂任务、获得社区支持，并提升应用性能，从而更好地利用 Kotlin 的优势构建高效、可维护的应用。</p><h2 id="集合"><a href="#集合" class="headerlink" title="集合"></a>集合</h2><h3 id="List"><a href="#List" class="headerlink" title="List"></a>List</h3><table><thead><tr><th>特性</th><th>MutableList</th><th>List</th></tr></thead><tbody><tr><td>可变性</td><td>可变，允许添加、删除和修改元素</td><td>不可变，一旦创建，元素不可修改</td></tr><tr><td>使用场景</td><td>当需要对列表中的元素进行频繁的修改操作时，例如动态存储数据集合，并且需要不断地添加、删除或更新元素时，使用 MutableList。</td><td>当需要存储一组固定的数据，不希望在程序运行过程中对其进行修改，仅用于读取元素或传递不可变的数据集合时，使用 List。</td></tr><tr><td>Kotlin 使用：</td><td></td><td></td></tr></tbody></table><p>以下是 <code>MutableList</code> 和 <code>List</code> 在不同操作上的区别和常用方法的表格：</p><table><thead><tr><th>操作</th><th><code>MutableList</code></th><th><code>List</code></th></tr></thead><tbody><tr><td>构造</td><td>- <code>mutableListOf()</code>：创建一个可变列表，可传入初始元素。<br>例如：<code>val mutableList = mutableListOf(1, 2, 3)</code><br>- <code>ArrayList()</code>（Java 风格）：创建一个空的可变列表，后续可添加元素。<br>例如：<code>val mutableList = ArrayList&lt;Int&gt;()</code></td><td>- <code>listOf()</code>：创建一个不可变列表，可传入初始元素。<br>例如：<code>val list = listOf(1, 2, 3)</code><br>- <code>toList()</code>：将其他集合转换为不可变列表。<br>例如：<code>val list = mutableList.toList()</code></td></tr><tr><td>迭代器</td><td>- <code>iterator()</code>：返回一个迭代器，可用于遍历列表。<br>例如：<br><code>kotlin&lt;br&gt;val mutableList = mutableListOf(1, 2, 3)&lt;br&gt;val iterator = mutableList.iterator()&lt;br&gt;while (iterator.hasNext()) &#123;&lt;br&gt;    val element = iterator.next()&lt;br&gt;    println(element)&lt;br&gt;&#125;&lt;br&gt;</code></td><td>- <code>iterator()</code>：返回一个迭代器，可用于遍历列表。<br>例如：<br><code>kotlin&lt;br&gt;val list = listOf(1, 2, 3)&lt;br&gt;val iterator = list.iterator()&lt;br&gt;while (iterator.hasNext()) &#123;&lt;br&gt;    val element = iterator.next()&lt;br&gt;    println(element)&lt;br&gt;&#125;&lt;br&gt;</code></td></tr><tr><td>过滤</td><td>- <code>filter()</code>：返回一个新的 <code>MutableList</code>，包含满足条件的元素。<br>例如：<br><code>kotlin&lt;br&gt;val mutableList = mutableListOf(1, 2, 3, 4)&lt;br&gt;val filteredList = mutableList.filter &#123; it % 2 == 0 &#125;&lt;br&gt;</code></td><td>- <code>filter()</code>：返回一个新的 <code>List</code>，包含满足条件的元素。<br>例如：<br><code>kotlin&lt;br&gt;val list = listOf(1, 2, 3, 4)&lt;br&gt;val filteredList = list.filter &#123; it % 2 == 0 &#125;&lt;br&gt;</code></td></tr><tr><td>加减操作符</td><td>- <code>+</code>：创建一个新的 <code>MutableList</code>，包含原列表和新元素。<br>例如：<code>val newMutableList = mutableList + 4</code><br>- <code>+=</code>：直接在原列表末尾添加元素。<br>例如：<code>mutableList += 4</code><br>- <code>-</code>：创建一个新的 <code>MutableList</code>，不包含指定元素。<br>例如：<code>val newMutableList = mutableList - 2</code><br>- <code>-=</code>：直接从原列表中移除指定元素。<br>例如：<code>mutableList -= 2</code></td><td>- <code>+</code>：创建一个新的 <code>List</code>，包含原列表和新元素。<br>例如：<code>val newList = list + 4</code><br> <code>-</code>：创建一个新的 <code>List</code>，不包含指定元素。<br>例如：<code>val newList = list - 2</code></td></tr><tr><td>取集合的一部分</td><td>- <code>subList()</code>：返回一个新的 <code>MutableList</code>，包含指定范围的元素。<br>例如：<code>val subMutableList = mutableList.subList(1, 3)</code></td><td>- <code>subList()</code>：返回一个新的 <code>List</code>，包含指定范围的元素。<br>例如：<code>val subList = list.subList(1, 3)</code></td></tr><tr><td>取单个元素</td><td>- <code>get()</code> 或 <code>[]</code>：获取指定位置的元素。<br>例如：<code>val element = mutableList[1]</code></td><td>- <code>get()</code> 或 <code>[]</code>：获取指定位置的元素。<br>例如：<code>val element = list[1]</code></td></tr><tr><td>排序</td><td>- <code>sort()</code>：对原列表进行排序。<br>例如：<code>mutableList.sort()</code><br>- <code>sorted()</code>：返回一个新的 <code>MutableList</code>，包含排序后的元素，原列表不变。<br>例如：<code>val sortedMutableList = mutableList.sorted()</code></td><td>- <code>sorted()</code>：返回一个新的 <code>List</code>，包含排序后的元素，原列表不变。<br>例如：<code>val sortedList = list.sorted()</code></td></tr><tr><td>聚合操作</td><td>- <code>sum()</code>：计算列表元素的总和（元素需为数字类型）。<br>例如：<code>val sum = mutableList.sum()</code><br>- <code>max()</code>：获取列表中的最大值。<br>例如：<code>val max = mutableList.max()</code><br>- <code>min()</code>：获取列表中的最小值。<br>例如：<code>val min = mutableList.min()</code></td><td>- <code>sum()</code>：计算列表元素的总和（元素需为数字类型）。<br>例如：<code>val sum = list.sum()</code><br>- <code>max()</code>：获取列表中的最大值。<br>例如：<code>val max = list.max()</code><br>- <code>min()</code>：获取列表中的最小值。<br>例如：<code>val min = list.min()</code></td></tr><tr><td>更改集合内容的操作（添加或删除元素）</td><td>- <code>add()</code>：在列表末尾添加元素。<br>例如：<code>mutableList.add(5)</code><br>- <code>remove()</code>：移除指定元素。<br>例如：<code>mutableList.remove(3)</code><br>- <code>removeAt()</code>：移除指定位置的元素。<br>例如：<code>mutableList.removeAt(1)</code></td><td>不支持，因为 <code>List</code> 是不可变的，尝试添加或删除元素会导致编译错误。</td></tr><tr><td>总结：<code>MutableList</code> 是可变的，可以对其元素进行添加、删除、修改等操作；而 <code>List</code> 是不可变的，一旦创建，其元素不能被修改，只能进行读取、过滤、聚合等不改变原列表的操作。</td><td></td><td></td></tr></tbody></table><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">fun main() &#123;    &#x2F;&#x2F; 构造    &#x2F;&#x2F; MutableList 的构造    val mutableList &#x3D; mutableListOf(1, 2, 3)    val mutableListJavaStyle &#x3D; ArrayList&lt;Int&gt;()    mutableListJavaStyle.add(4)    mutableListJavaStyle.add(5)    println(&quot;MutableList 构造: $mutableList, $mutableListJavaStyle&quot;)    &#x2F;&#x2F; List 的构造    val list &#x3D; listOf(6, 7, 8)    val listFromMutable &#x3D; mutableList.toList()    println(&quot;List 构造: $list, $listFromMutable&quot;)    &#x2F;&#x2F; 迭代器    &#x2F;&#x2F; MutableList 的迭代器    println(&quot;MutableList 迭代器:&quot;)    val mutableIterator &#x3D; mutableList.iterator()    while (mutableIterator.hasNext()) &#123;        val element &#x3D; mutableIterator.next()        println(element)    &#125;    &#x2F;&#x2F; List 的迭代器    println(&quot;List 迭代器:&quot;)    val listIterator &#x3D; list.iterator()    while (listIterator.hasNext()) &#123;        val element &#x3D; listIterator.next()        println(element)    &#125;    &#x2F;&#x2F; 过滤    &#x2F;&#x2F; MutableList 的过滤    val filteredMutableList &#x3D; mutableList.filter &#123; it % 2 &#x3D;&#x3D; 0 &#125;    println(&quot;MutableList 过滤: $filteredMutableList&quot;)    &#x2F;&#x2F; List 的过滤    val filteredList &#x3D; list.filter &#123; it % 2 &#x3D;&#x3D; 0 &#125;    println(&quot;List 过滤: $filteredList&quot;)    &#x2F;&#x2F; 加减操作符    &#x2F;&#x2F; MutableList 的加减操作符    val newMutableListPlus &#x3D; mutableList + 9    println(&quot;MutableList + 操作符: $newMutableListPlus&quot;)    mutableList +&#x3D; 10    println(&quot;MutableList +&#x3D; 操作符: $mutableList&quot;)    val newMutableListMinus &#x3D; mutableList - 2    println(&quot;MutableList - 操作符: $newMutableListMinus&quot;)    mutableList -&#x3D; 3    println(&quot;MutableList -&#x3D; 操作符: $mutableList&quot;)    &#x2F;&#x2F; List 的加减操作符    val newListPlus &#x3D; list + 11    println(&quot;List + 操作符: $newListPlus&quot;)    val newListMinus &#x3D; list - 7    println(&quot;List - 操作符: $newListMinus&quot;)    &#x2F;&#x2F; 取集合的一部分    &#x2F;&#x2F; MutableList 取集合的一部分    val subMutableList &#x3D; mutableList.subList(1, 3)    println(&quot;MutableList 取集合的一部分: $subMutableList&quot;)    &#x2F;&#x2F; List 取集合的一部分    val subList &#x3D; list.subList(1, 3)    println(&quot;List 取集合的一部分: $subList&quot;)    &#x2F;&#x2F; 取单个元素    &#x2F;&#x2F; MutableList 取单个元素    val mutableListElement &#x3D; mutableList[1]    println(&quot;MutableList 取单个元素: $mutableListElement&quot;)    &#x2F;&#x2F; List 取单个元素    val listElement &#x3D; list[1]    println(&quot;List 取单个元素: $listElement&quot;)    &#x2F;&#x2F; 排序    &#x2F;&#x2F; MutableList 的排序    mutableList.sort()    println(&quot;MutableList sort() 排序后: $mutableList&quot;)    val sortedMutableList &#x3D; mutableList.sorted()    println(&quot;MutableList sorted() 排序后: $sortedMutableList&quot;)    &#x2F;&#x2F; List 的排序    val sortedList &#x3D; list.sorted()    println(&quot;List sorted() 排序后: $sortedList&quot;)    &#x2F;&#x2F; 聚合操作    &#x2F;&#x2F; MutableList 的聚合操作    val mutableListSum &#x3D; mutableList.sum()    val mutableListMax &#x3D; mutableList.max()    val mutableListMin &#x3D; mutableList.min()    println(&quot;MutableList 聚合操作: sum&#x3D;$mutableListSum, max&#x3D;$mutableListMax, min&#x3D;$mutableListMin&quot;)    &#x2F;&#x2F; List 的聚合操作    val listSum &#x3D; list.sum()    val listMax &#x3D; list.max()    val listMin &#x3D; list.min()    println(&quot;List 聚合操作: sum&#x3D;$listSum, max&#x3D;$listMax, min&#x3D;$listMin&quot;)    &#x2F;&#x2F; 更改集合内容的操作（添加或删除元素）    &#x2F;&#x2F; MutableList 的更改操作    mutableList.add(12)    println(&quot;MutableList 添加元素后: $mutableList&quot;)    mutableList.remove(10)    println(&quot;MutableList 移除元素后: $mutableList&quot;)    mutableList.removeAt(1)    println(&quot;MutableList 移除指定位置元素后: $mutableList&quot;)    &#x2F;&#x2F; List 不支持更改操作，以下代码会导致编译错误    &#x2F;&#x2F; list.add(13)    &#x2F;&#x2F; list.remove(8)&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="Set"><a href="#Set" class="headerlink" title="Set"></a>Set</h3><table><thead><tr><th>特性</th><th>MutableSet</th><th>Set</th></tr></thead><tbody><tr><td>可变性</td><td>可变，允许添加、删除元素</td><td>不可变，元素一旦确定不能修改</td></tr><tr><td>使用场景</td><td>当需要动态存储一组元素，且不允许重复元素，并且在后续操作中需要对集合元素进行添加、删除等修改操作时，使用 MutableSet。</td><td>当需要存储一组不允许重复的元素，且该集合在创建后不允许修改，仅用于元素的检查、遍历等操作时，使用 Set。</td></tr></tbody></table><p>在 Kotlin 中，以下是它们的使用示例：</p><table><thead><tr><th>操作</th><th><code>MutableSet</code></th><th><code>Set</code></th></tr></thead><tbody><tr><td>构造</td><td>- <code>mutableSetOf()</code>：创建一个可变集合，可传入初始元素。<br>例如：<code>val mutableSet = mutableSetOf(1, 2, 3)</code><br>- <code>HashSet()</code>（Java 风格）：创建一个空的可变集合，后续可添加元素。<br>例如：<code>val mutableSet = HashSet&lt;Int&gt;()</code></td><td>- <code>setOf()</code>：创建一个不可变集合，可传入初始元素。<br>例如：<code>val set = setOf(1, 2, 3)</code><br>- <code>toSet()</code>：将其他集合转换为不可变集合。<br>例如：<code>val set = mutableSet.toSet()</code></td></tr><tr><td>迭代器</td><td>- <code>iterator()</code>：返回一个迭代器，可用于遍历集合。<br>例如：<br><code>kotlin&lt;br&gt;val mutableSet = mutableSetOf(1, 2, 3)&lt;br&gt;val iterator = mutableSet.iterator()&lt;br&gt;while (iterator.hasNext()) &#123;&lt;br&gt;    val element = iterator.next()&lt;br&gt;    println(element)&lt;br&gt;&#125;&lt;br&gt;</code></td><td>- <code>iterator()</code>：返回一个迭代器，可用于遍历集合。<br>例如：<br><code>kotlin&lt;br&gt;val set = setOf(1, 2, 3)&lt;br&gt;val iterator = set.iterator()&lt;br&gt;while (iterator.hasNext()) &#123;&lt;br&gt;    val element = iterator.next()&lt;br&gt;    println(element)&lt;br&gt;&#125;&lt;br&gt;</code></td></tr><tr><td>过滤</td><td>- <code>filter()</code>：返回一个新的 <code>MutableSet</code>，包含满足条件的元素。<br>例如：<br><code>kotlin&lt;br&gt;val mutableSet = mutableSetOf(1, 2, 3, 4)&lt;br&gt;val filteredSet = mutableSet.filter &#123; it % 2 == 0 &#125;&lt;br&gt;</code></td><td>- <code>filter()</code>：返回一个新的 <code>Set</code>，包含满足条件的元素。<br>例如：<br><code>kotlin&lt;br&gt;val set = setOf(1, 2, 3, 4)&lt;br&gt;val filteredSet = set.filter &#123; it % 2 == 0 &#125;&lt;br&gt;</code></td></tr><tr><td>加减操作符</td><td>- <code>+</code>：创建一个新的 <code>MutableSet</code>，包含原集合和新元素。<br>例如：<code>val newMutableSet = mutableSet + 4</code><br>- <code>+=</code>：直接在原集合中添加元素。<br>例如：<code>mutableSet += 4</code><br>- <code>-</code>：创建一个新的 <code>MutableSet</code>，不包含指定元素。<br>例如：<code>val newMutableSet = mutableSet - 2</code><br>- <code>-=</code>：直接从原集合中移除指定元素。<br>例如：<code>mutableSet -= 2</code></td><td>- <code>+</code>：创建一个新的 <code>Set</code>，包含原集合和新元素。<br>例如：<code>val newSet = set + 4</code><br> <code>-</code>：创建一个新的 <code>Set</code>，不包含指定元素。<br>例如：<code>val newSet = set - 2</code></td></tr><tr><td>取集合的一部分</td><td>无直接方法，可先转换为列表操作后再转回集合</td><td>无直接方法，可先转换为列表操作后再转回集合</td></tr><tr><td>取单个元素</td><td>无直接索引获取元素的方法，可通过迭代或查找判断元素是否存在<br>例如：<code>if (mutableSet.contains(2)) &#123;...&#125;</code></td><td>无直接索引获取元素的方法，可通过迭代或查找判断元素是否存在<br>例如：<code>if (set.contains(2)) &#123;...&#125;</code></td></tr><tr><td>排序</td><td>- <code>sorted()</code>：返回一个新的 <code>List</code>（不是 <code>MutableSet</code>），包含排序后的元素，原集合不变。<br>例如：<code>val sortedList = mutableSet.sorted()</code></td><td>- <code>sorted()</code>：返回一个新的 <code>List</code>（不是 <code>Set</code>），包含排序后的元素，原集合不变。<br>例如：<code>val sortedList = set.sorted()</code></td></tr><tr><td>聚合操作</td><td>- <code>sum()</code>：计算集合元素的总和（元素需为数字类型）。<br>例如：<code>val sum = mutableSet.sum()</code><br>- <code>max()</code>：获取集合中的最大值。<br>例如：<code>val max = mutableSet.max()</code><br>- <code>min()</code>：获取集合中的最小值。<br>例如：<code>val min = mutableSet.min()</code></td><td>- <code>sum()</code>：计算集合元素的总和（元素需为数字类型）。<br>例如：<code>val sum = set.sum()</code><br>- <code>max()</code>：获取集合中的最大值。<br>例如：<code>val max = set.max()</code><br>- <code>min()</code>：获取集合中的最小值。<br>例如：<code>val min = set.min()</code></td></tr><tr><td>更改集合内容的操作（添加或删除元素）</td><td>- <code>add()</code>：在集合中添加元素。<br>例如：<code>mutableSet.add(5)</code><br>- <code>remove()</code>：移除指定元素。<br>例如：<code>mutableSet.remove(3)</code></td><td>不支持，因为 <code>Set</code> 是不可变的，尝试添加或删除元素会导致编译错误。</td></tr></tbody></table><p>以下是对应的 Kotlin 代码示例：</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">fun main() &#123;    &#x2F;&#x2F; 构造    &#x2F;&#x2F; MutableSet 的构造    val mutableSet &#x3D; mutableSetOf(1, 2, 3)    val mutableSetJavaStyle &#x3D; HashSet&lt;Int&gt;()    mutableSetJavaStyle.add(4)    mutableSetJavaStyle.add(5)    println(&quot;MutableSet 构造: $mutableSet, $mutableSetJavaStyle&quot;)    &#x2F;&#x2F; Set 的构造    val set &#x3D; setOf(6, 7, 8)    val setFromMutable &#x3D; mutableSet.toSet()    println(&quot;Set 构造: $set, $setFromMutable&quot;)    &#x2F;&#x2F; 迭代器    &#x2F;&#x2F; MutableSet 的迭代器    println(&quot;MutableSet 迭代器:&quot;)    val mutableIterator &#x3D; mutableSet.iterator()    while (mutableIterator.hasNext()) &#123;        val element &#x3D; mutableIterator.next()        println(element)    &#125;    &#x2F;&#x2F; Set 的迭代器    println(&quot;Set 迭代器:&quot;)    val setIterator &#x3D; set.iterator()    while (setIterator.hasNext()) &#123;        val element &#x3D; setIterator.next()        println(element)    &#125;    &#x2F;&#x2F; 过滤    &#x2F;&#x2F; MutableSet 的过滤    val filteredMutableSet &#x3D; mutableSet.filter &#123; it % 2 &#x3D;&#x3D; 0 &#125;.toMutableSet()    println(&quot;MutableSet 过滤: $filteredMutableSet&quot;)    &#x2F;&#x2F; Set 的过滤    val filteredSet &#x3D; set.filter &#123; it % 2 &#x3D;&#x3D; 0 &#125;.toSet()    println(&quot;Set 过滤: $filteredSet&quot;)    &#x2F;&#x2F; 加减操作符    &#x2F;&#x2F; MutableSet 的加减操作符    val newMutableSetPlus &#x3D; mutableSet + 9    println(&quot;MutableSet + 操作符: $newMutableSetPlus&quot;)    mutableSet +&#x3D; 10    println(&quot;MutableSet +&#x3D; 操作符: $mutableSet&quot;)    val newMutableSetMinus &#x3D; mutableSet - 2    println(&quot;MutableSet - 操作符: $newMutableSetMinus&quot;)    mutableSet -&#x3D; 3    println(&quot;MutableSet -&#x3D; 操作符: $mutableSet&quot;)    &#x2F;&#x2F; Set 的加减操作符    val newSetPlus &#x3D; set + 11    println(&quot;Set + 操作符: $newSetPlus&quot;)    val newSetMinus &#x3D; set - 7    println(&quot;Set - 操作符: $newSetMinus&quot;)    &#x2F;&#x2F; 取单个元素    &#x2F;&#x2F; MutableSet 取单个元素    if (mutableSet.contains(2)) &#123;        println(&quot;MutableSet 包含元素 2&quot;)    &#125;    &#x2F;&#x2F; Set 取单个元素    if (set.contains(7)) &#123;        println(&quot;Set 包含元素 7&quot;)    &#125;    &#x2F;&#x2F; 排序    &#x2F;&#x2F; MutableSet 的排序    val sortedMutableList &#x3D; mutableSet.sorted()    println(&quot;MutableSet sorted() 排序后: $sortedMutableList&quot;)    &#x2F;&#x2F; Set 的排序    val sortedSetList &#x3D; set.sorted()    println(&quot;Set sorted() 排序后: $sortedSetList&quot;)    &#x2F;&#x2F; 聚合操作    &#x2F;&#x2F; MutableSet 的聚合操作    val mutableSetSum &#x3D; mutableSet.sum()    val mutableSetMax &#x3D; mutableSet.max()    val mutableSetMin &#x3D; mutableSet.min()    println(&quot;MutableSet 聚合操作: sum&#x3D;$mutableSetSum, max&#x3D;$mutableSetMax, min&#x3D;$mutableSetMin&quot;)    &#x2F;&#x2F; Set 的聚合操作    val setSum &#x3D; set.sum()    val setMax &#x3D; set.max()    val setMin &#x3D; set.min()    println(&quot;Set 聚合操作: sum&#x3D;$setSum, max&#x3D;$setMax, min&#x3D;$setMin&quot;)    &#x2F;&#x2F; 更改集合内容的操作（添加或删除元素）    &#x2F;&#x2F; MutableSet 的更改操作    mutableSet.add(12)    println(&quot;MutableSet 添加元素后: $mutableSet&quot;)    mutableSet.remove(10)    println(&quot;MutableSet 移除元素后: $mutableSet&quot;)    &#x2F;&#x2F; Set 不支持更改操作，以下代码会导致编译错误    &#x2F;&#x2F; set.add(13)    &#x2F;&#x2F; set.remove(8)&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>总结：<code>MutableSet</code> 是可变的，可以对其元素进行添加、删除等操作；而 <code>Set</code> 是不可变的，一旦创建，其元素不能被修改，只能进行读取、过滤、聚合等不改变原集合的操作。</p><h3 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h3><table><thead><tr><th>特性</th><th>MutableMap</th><th>Map</th></tr></thead><tbody><tr><td>可变性</td><td>可变，允许添加、删除元素</td><td>不可变，元素一旦确定不能修改</td></tr><tr><td>使用场景</td><td>当需要动态存储一组元素，且不允许重复元素，并且在后续操作中需要对集合元素进行添加、删除等修改操作时，使用 MutableMap。</td><td>当需要存储一组不允许重复的元素，且该集合在创建后不允许修改，仅用于元素的检查、遍历等操作时，使用 Map。</td></tr><tr><td>以下是 <code>Map</code> 和 <code>MutableMap</code> 在不同操作上的区别和常用方法的表格：</td><td></td><td></td></tr></tbody></table><table><thead><tr><th>操作</th><th><code>MutableMap</code></th><th><code>Map</code></th></tr></thead><tbody><tr><td>构造</td><td>- <code>mutableMapOf()</code>：创建一个可变映射，可传入初始键值对。<br>例如：<code>val mutableMap = mutableMapOf(&quot;a&quot; to 1, &quot;b&quot; to 2)</code><br>- <code>HashMap()</code>（Java 风格）：创建一个空的可变映射，后续可添加键值对。<br>例如：<code>val mutableMap = HashMap&lt;String, Int&gt;()</code></td><td>- <code>mapOf()</code>：创建一个不可变映射，可传入初始键值对。<br>例如：<code>val map = mapOf(&quot;a&quot; to 1, &quot;b&quot; to 2)</code><br>- <code>toMap()</code>：将其他映射或键值对集合转换为不可变映射。<br>例如：<code>val map = mutableMap.toMap()</code></td></tr><tr><td>迭代器</td><td>- <code>iterator()</code>：返回一个迭代器，可用于遍历映射的键值对。<br>例如：<br><code>kotlin&lt;br&gt;val mutableMap = mutableMapOf(&quot;a&quot; to 1, &quot;b&quot; to 2)&lt;br&gt;val iterator = mutableMap.iterator()&lt;br&gt;while (iterator.hasNext()) &#123;&lt;br&gt;    val entry = iterator.next()&lt;br&gt;    println(&quot;$&#123;entry.key&#125;: $&#123;entry.value&#125;&quot;)&lt;br&gt;&#125;&lt;br&gt;</code></td><td>- <code>iterator()</code>：返回一个迭代器，可用于遍历映射的键值对。<br>例如：<br><code>kotlin&lt;br&gt;val map = mapOf(&quot;a&quot; to 1, &quot;b&quot; to 2)&lt;br&gt;val iterator = map.iterator()&lt;br&gt;while (iterator.hasNext()) &#123;&lt;br&gt;    val entry = iterator.next()&lt;br&gt;    println(&quot;$&#123;entry.key&#125;: $&#123;entry.value&#125;&quot;)&lt;br&gt;&#125;&lt;br&gt;</code></td></tr><tr><td>过滤</td><td>- <code>filter()</code>：返回一个新的 <code>MutableMap</code>，包含满足条件的键值对。<br>例如：<br><code>kotlin&lt;br&gt;val mutableMap = mutableMapOf(&quot;a&quot; to 1, &quot;b&quot; to 2, &quot;c&quot; to 3)&lt;br&gt;val filteredMap = mutableMap.filter &#123; it.value % 2 == 0 &#125;&lt;br&gt;</code></td><td>- <code>filter()</code>：返回一个新的 <code>Map</code>，包含满足条件的键值对。<br>例如：<br><code>kotlin&lt;br&gt;val map = mapOf(&quot;a&quot; to 1, &quot;b&quot; to 2, &quot;c&quot; to 3)&lt;br&gt;val filteredMap = map.filter &#123; it.value % 2 == 0 &#125;&lt;br&gt;</code></td></tr><tr><td>加减操作符</td><td>- <code>+</code>：创建一个新的 <code>MutableMap</code>，包含原映射和新的键值对。<br>例如：<code>val newMutableMap = mutableMap + (&quot;d&quot; to 4)</code><br>- <code>+=</code>：直接在原映射中添加键值对。<br>例如：<code>mutableMap += (&quot;d&quot; to 4)</code><br>- <code>-</code>：创建一个新的 <code>MutableMap</code>，不包含指定键的键值对。<br>例如：<code>val newMutableMap = mutableMap - &quot;a&quot;</code><br>- <code>-=</code>：直接从原映射中移除指定键的键值对。<br>例如：<code>mutableMap -= &quot;a&quot;</code></td><td>- <code>+</code>：创建一个新的 <code>Map</code>，包含原映射和新的键值对。<br>例如：<code>val newMap = map + (&quot;d&quot; to 4)</code><br> <code>-</code>：创建一个新的 <code>Map</code>，不包含指定键的键值对。<br>例如：<code>val newMap = map - &quot;a&quot;</code></td></tr><tr><td>取集合的一部分</td><td>- 无直接方法，可通过过滤或转换为其他集合类型操作</td><td>无直接方法，可通过过滤或转换为其他集合类型操作</td></tr><tr><td>取单个元素</td><td>- <code>get()</code> 或 <code>[]</code>：根据键获取对应的值。<br>例如：<code>val value = mutableMap[&quot;a&quot;]</code></td><td>- <code>get()</code> 或 <code>[]</code>：根据键获取对应的值。<br>例如：<code>val value = map[&quot;a&quot;]</code></td></tr><tr><td>排序</td><td>- 对键排序：<code>toSortedMap()</code> 按键排序返回新的 <code>MutableMap</code>。<br>例如：<code>val sortedMutableMap = mutableMap.toSortedMap()</code><br> 对值排序：先转换为键值对列表排序再转回映射。<br>例如：<br><code>kotlin&lt;br&gt;val sortedByValue = mutableMap.toList().sortedBy &#123; it.value &#125;.toMap().toMutableMap()&lt;br&gt;</code></td><td>- 对键排序：<code>toSortedMap()</code> 按键排序返回新的 <code>Map</code>。<br>例如：<code>val sortedMap = map.toSortedMap()</code><br> 对值排序：先转换为键值对列表排序再转回映射。<br>例如：<br><code>kotlin&lt;br&gt;val sortedByValue = map.toList().sortedBy &#123; it.value &#125;.toMap()&lt;br&gt;</code></td></tr><tr><td>聚合操作</td><td>- <code>values.sum()</code>：计算所有值的总和（值需为数字类型）。<br>例如：<code>val sum = mutableMap.values.sum()</code><br>- <code>values.max()</code>：获取所有值中的最大值。<br>例如：<code>val max = mutableMap.values.max()</code><br>- <code>values.min()</code>：获取所有值中的最小值。<br>例如：<code>val min = mutableMap.values.min()</code></td><td>- <code>values.sum()</code>：计算所有值的总和（值需为数字类型）。<br>例如：<code>val sum = map.values.sum()</code><br>- <code>values.max()</code>：获取所有值中的最大值。<br>例如：<code>val max = map.values.max()</code><br>- <code>values.min()</code>：获取所有值中的最小值。<br>例如：<code>val min = map.values.min()</code></td></tr><tr><td>更改集合内容的操作（添加或删除键值对）</td><td>- <code>put()</code>：添加或更新键值对。<br>例如：<code>mutableMap.put(&quot;e&quot;, 5)</code><br>- <code>remove()</code>：移除指定键的键值对。<br>例如：<code>mutableMap.remove(&quot;b&quot;)</code></td><td>不支持，因为 <code>Map</code> 是不可变的，尝试添加或删除键值对会导致编译错误。</td></tr></tbody></table><p>以下是对应的 Kotlin 代码示例：</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">fun main() &#123;    &#x2F;&#x2F; 构造    &#x2F;&#x2F; MutableMap 的构造    val mutableMap &#x3D; mutableMapOf(&quot;a&quot; to 1, &quot;b&quot; to 2)    val mutableMapJavaStyle &#x3D; HashMap&lt;String, Int&gt;()    mutableMapJavaStyle[&quot;c&quot;] &#x3D; 3    mutableMapJavaStyle[&quot;d&quot;] &#x3D; 4    println(&quot;MutableMap 构造: $mutableMap, $mutableMapJavaStyle&quot;)    &#x2F;&#x2F; Map 的构造    val map &#x3D; mapOf(&quot;e&quot; to 5, &quot;f&quot; to 6)    val mapFromMutable &#x3D; mutableMap.toMap()    println(&quot;Map 构造: $map, $mapFromMutable&quot;)    &#x2F;&#x2F; 迭代器    &#x2F;&#x2F; MutableMap 的迭代器    println(&quot;MutableMap 迭代器:&quot;)    val mutableIterator &#x3D; mutableMap.iterator()    while (mutableIterator.hasNext()) &#123;        val entry &#x3D; mutableIterator.next()        println(&quot;$&#123;entry.key&#125;: $&#123;entry.value&#125;&quot;)    &#125;    &#x2F;&#x2F; Map 的迭代器    println(&quot;Map 迭代器:&quot;)    val mapIterator &#x3D; map.iterator()    while (mapIterator.hasNext()) &#123;        val entry &#x3D; mapIterator.next()        println(&quot;$&#123;entry.key&#125;: $&#123;entry.value&#125;&quot;)    &#125;    &#x2F;&#x2F; 过滤    &#x2F;&#x2F; MutableMap 的过滤    val filteredMutableMap &#x3D; mutableMap.filter &#123; it.value % 2 &#x3D;&#x3D; 0 &#125;.toMutableMap()    println(&quot;MutableMap 过滤: $filteredMutableMap&quot;)    &#x2F;&#x2F; Map 的过滤    val filteredMap &#x3D; map.filter &#123; it.value % 2 &#x3D;&#x3D; 0 &#125;    println(&quot;Map 过滤: $filteredMap&quot;)    &#x2F;&#x2F; 加减操作符    &#x2F;&#x2F; MutableMap 的加减操作符    val newMutableMapPlus &#x3D; mutableMap + (&quot;g&quot; to 7)    println(&quot;MutableMap + 操作符: $newMutableMapPlus&quot;)    mutableMap +&#x3D; (&quot;h&quot; to 8)    println(&quot;MutableMap +&#x3D; 操作符: $mutableMap&quot;)    val newMutableMapMinus &#x3D; mutableMap - &quot;a&quot;    println(&quot;MutableMap - 操作符: $newMutableMapMinus&quot;)    mutableMap -&#x3D; &quot;b&quot;    println(&quot;MutableMap -&#x3D; 操作符: $mutableMap&quot;)    &#x2F;&#x2F; Map 的加减操作符    val newMapPlus &#x3D; map + (&quot;i&quot; to 9)    println(&quot;Map + 操作符: $newMapPlus&quot;)    val newMapMinus &#x3D; map - &quot;e&quot;    println(&quot;Map - 操作符: $newMapMinus&quot;)    &#x2F;&#x2F; 取单个元素    &#x2F;&#x2F; MutableMap 取单个元素    val mutableMapValue &#x3D; mutableMap[&quot;c&quot;]    println(&quot;MutableMap 取单个元素: $mutableMapValue&quot;)    &#x2F;&#x2F; Map 取单个元素    val mapValue &#x3D; map[&quot;f&quot;]    println(&quot;Map 取单个元素: $mapValue&quot;)    &#x2F;&#x2F; 排序    &#x2F;&#x2F; MutableMap 的排序    val sortedMutableMapByKey &#x3D; mutableMap.toSortedMap()    println(&quot;MutableMap 按键排序: $sortedMutableMapByKey&quot;)    val sortedMutableMapByValue &#x3D; mutableMap.toList().sortedBy &#123; it.value &#125;.toMap().toMutableMap()    println(&quot;MutableMap 按值排序: $sortedMutableMapByValue&quot;)    &#x2F;&#x2F; Map 的排序    val sortedMapByKey &#x3D; map.toSortedMap()    println(&quot;Map 按键排序: $sortedMapByKey&quot;)    val sortedMapByValue &#x3D; map.toList().sortedBy &#123; it.value &#125;.toMap()    println(&quot;Map 按值排序: $sortedMapByValue&quot;)    &#x2F;&#x2F; 聚合操作    &#x2F;&#x2F; MutableMap 的聚合操作    val mutableMapSum &#x3D; mutableMap.values.sum()    val mutableMapMax &#x3D; mutableMap.values.max()    val mutableMapMin &#x3D; mutableMap.values.min()    println(&quot;MutableMap 聚合操作: sum&#x3D;$mutableMapSum, max&#x3D;$mutableMapMax, min&#x3D;$mutableMapMin&quot;)    &#x2F;&#x2F; Map 的聚合操作    val mapSum &#x3D; map.values.sum()    val mapMax &#x3D; map.values.max()    val mapMin &#x3D; map.values.min()    println(&quot;Map 聚合操作: sum&#x3D;$mapSum, max&#x3D;$mapMax, min&#x3D;$mapMin&quot;)    &#x2F;&#x2F; 更改集合内容的操作（添加或删除键值对）    &#x2F;&#x2F; MutableMap 的更改操作    mutableMap.put(&quot;j&quot;, 10)    println(&quot;MutableMap 添加键值对后: $mutableMap&quot;)    mutableMap.remove(&quot;c&quot;)    println(&quot;MutableMap 移除键值对后: $mutableMap&quot;)    &#x2F;&#x2F; Map 不支持更改操作，以下代码会导致编译错误    &#x2F;&#x2F; map.put(&quot;k&quot;, 11)    &#x2F;&#x2F; map.remove(&quot;f&quot;)&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>总结：<code>MutableMap</code> 是可变的，可以对其键值对进行添加、删除、修改等操作；而 <code>Map</code> 是不可变的，一旦创建，其键值对不能被修改，只能进行读取、过滤、聚合等不改变原映射的操作。</p><h3 id="与-Java-集合关系"><a href="#与-Java-集合关系" class="headerlink" title="与 Java 集合关系"></a>与 Java 集合关系</h3><p>以下是关于 <code>List</code>、<code>MutableList</code> 以及 <code>Map</code>、<code>MutableMap</code>、<code>Set</code>、<code>MutableSet</code> 相关的 Java 原型类型的详细说明：</p><h4 id="List-和-MutableList"><a href="#List-和-MutableList" class="headerlink" title="List 和 MutableList"></a><code>List</code> 和 <code>MutableList</code></h4><ul><li><code>**List**</code> 和 <code>MutableList</code> 与 <code>ArrayList</code>、<code>LinkedList</code> 的关系：<ul><li><code>List</code> 是 Kotlin 中的接口，它对应 Java 中的 <code>java.util.List</code> 接口。<code>List</code> 本身是只读的，不允许修改元素。</li><li><code>MutableList</code> 是 Kotlin 中的接口，对应 Java 中的 <code>java.util.List</code> 接口，不过它表示可变的列表，允许对列表元素进行添加、删除和修改等操作。</li><li><code>ArrayList</code> 和 <code>LinkedList</code> 都可以作为 <code>MutableList</code> 的实现。在 Kotlin 中，当你使用 <code>mutableListOf()</code> 函数创建一个可变列表时，默认情况下它会返回一个基于 <code>ArrayList</code> 的实现。例如：</li></ul></li></ul><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">val mutableList &#x3D; mutableListOf(1, 2, 3) &#x2F;&#x2F; 默认是 ArrayList 实现<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><pre><code>- 如果你想明确使用 `LinkedList`，可以通过 Java 互操作性来实现：</code></pre><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">import java.util.LinkedListval linkedList: MutableList&lt;Int&gt; &#x3D; LinkedList&lt;Int&gt;()linkedList.add(1)linkedList.add(2)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="Map-和-MutableMap"><a href="#Map-和-MutableMap" class="headerlink" title="Map 和 MutableMap"></a><code>Map</code> 和 <code>MutableMap</code></h4><ul><li><strong>Java 原型类型</strong>：<ul><li><code>Map</code> 是 Kotlin 中的只读映射接口，对应 Java 中的 <code>java.util.Map</code> 接口。它表示一个键值对的集合，不允许修改其中的键值对。</li><li><code>MutableMap</code> 是 Kotlin 中的可变映射接口，也对应 Java 中的 <code>java.util.Map</code> 接口。它允许对映射中的键值对进行添加、删除和修改等操作。</li><li>在 Kotlin 中，当你使用 <code>mutableMapOf()</code> 函数创建一个可变映射时，默认情况下它会返回一个基于 <code>java.util.HashMap</code> 的实现。例如：</li></ul></li></ul><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">val mutableMap &#x3D; mutableMapOf(&quot;key1&quot; to 1, &quot;key2&quot; to 2) &#x2F;&#x2F; 默认是 HashMap 实现<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="Set-和-MutableSet"><a href="#Set-和-MutableSet" class="headerlink" title="Set 和 MutableSet"></a><code>Set</code> 和 <code>MutableSet</code></h4><ul><li><strong>Java 原型类型</strong>：<ul><li><code>Set</code> 是 Kotlin 中的只读集合接口，对应 Java 中的 <code>java.util.Set</code> 接口。它表示一个不包含重复元素的集合，不允许修改集合中的元素。</li><li><code>MutableSet</code> 是 Kotlin 中的可变集合接口，也对应 Java 中的 <code>java.util.Set</code> 接口。它允许对集合中的元素进行添加、删除等操作。</li><li>在 Kotlin 中，当你使用 <code>mutableSetOf()</code> 函数创建一个可变集合时，默认情况下它会返回一个基于 <code>java.util.HashSet</code> 的实现。例如：</li></ul></li></ul><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">val mutableSet &#x3D; mutableSetOf(1, 2, 3) &#x2F;&#x2F; 默认是 HashSet 实现<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>总结如下：</p><table><thead><tr><th>Kotlin 类型</th><th>Java 原型接口</th><th>默认实现类</th></tr></thead><tbody><tr><td><code>List</code></td><td><code>java.util.List</code></td><td>无（只读）</td></tr><tr><td><code>MutableList</code></td><td><code>java.util.List</code></td><td><code>java.util.ArrayList</code></td></tr><tr><td><code>Map</code></td><td><code>java.util.Map</code></td><td>无（只读）</td></tr><tr><td><code>MutableMap</code></td><td><code>java.util.Map</code></td><td><code>java.util.HashMap</code></td></tr><tr><td><code>Set</code></td><td><code>java.util.Set</code></td><td>无（只读）</td></tr><tr><td><code>MutableSet</code></td><td><code>java.util.Set</code></td><td><code>java.util.HashSet</code></td></tr></tbody></table><h3 id="ArrayDeque"><a href="#ArrayDeque" class="headerlink" title="ArrayDeque"></a>ArrayDeque</h3><p><code>ArrayDeque</code> 是 Java 中的一个双端队列（Deque，Double Ended Queue）实现类，它基于数组实现，既可以作为栈（Stack）使用，也可以作为队列（Queue）使用，提供了高效的插入和删除操作。在 Kotlin 中可以通过 Java 互操作性来使用 <code>ArrayDeque</code>。</p><ul><li><strong>动态数组</strong>：<code>ArrayDeque</code> 内部使用动态数组来存储元素，当数组容量不足时会自动扩容。</li><li><strong>双端操作</strong>：支持在队列的两端（头部和尾部）进行插入和删除操作，时间复杂度为 $O(1)$。</li><li><strong>线程不安全</strong>：<code>ArrayDeque</code> 不是线程安全的，如果需要在多线程环境下使用，需要进行外部同步。</li></ul><p>这里我们列举了它的一些常用方法：</p><ul><li><strong>添加元素</strong>：<ul><li><code>addFirst(element)</code>：在队列头部添加元素。</li><li><code>addLast(element)</code>：在队列尾部添加元素。</li><li><code>offerFirst(element)</code>：在队列头部添加元素，添加失败返回 <code>false</code>。</li><li><code>offerLast(element)</code>：在队列尾部添加元素，添加失败返回 <code>false</code>。</li></ul></li><li><strong>删除元素</strong>：<ul><li><code>removeFirst()</code>：移除并返回队列头部的元素，队列为空时抛出异常。</li><li><code>removeLast()</code>：移除并返回队列尾部的元素，队列为空时抛出异常。</li><li><code>pollFirst()</code>：移除并返回队列头部的元素，队列为空时返回 <code>null</code>。</li><li><code>pollLast()</code>：移除并返回队列尾部的元素，队列为空时返回 <code>null</code>。</li></ul></li><li><strong>获取元素</strong>：<ul><li><code>getFirst()</code>：获取队列头部的元素，队列为空时抛出异常。</li><li><code>getLast()</code>：获取队列尾部的元素，队列为空时抛出异常。</li><li><code>peekFirst()</code>：获取队列头部的元素，队列为空时返回 <code>null</code>。</li><li><code>peekLast()</code>：获取队列尾部的元素，队列为空时返回 <code>null</code>。</li></ul></li></ul><p>以下是基于 Kotlin 的代码示例：</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">import java.util.ArrayDequefun main() &#123;    &#x2F;&#x2F; 创建一个 ArrayDeque 实例    val deque &#x3D; ArrayDeque&lt;Int&gt;()    &#x2F;&#x2F; 在队列尾部添加元素    deque.addLast(1)    deque.addLast(2)    deque.addLast(3)    println(&quot;队列内容: $deque&quot;)    &#x2F;&#x2F; 在队列头部添加元素    deque.addFirst(0)    println(&quot;在头部添加元素后: $deque&quot;)    &#x2F;&#x2F; 获取队列头部的元素    val firstElement &#x3D; deque.peekFirst()    println(&quot;队列头部元素: $firstElement&quot;)    &#x2F;&#x2F; 获取队列尾部的元素    val lastElement &#x3D; deque.peekLast()    println(&quot;队列尾部元素: $lastElement&quot;)    &#x2F;&#x2F; 移除队列头部的元素    val removedFirst &#x3D; deque.pollFirst()    println(&quot;移除的头部元素: $removedFirst&quot;)    println(&quot;移除头部元素后: $deque&quot;)    &#x2F;&#x2F; 移除队列尾部的元素    val removedLast &#x3D; deque.pollLast()    println(&quot;移除的尾部元素: $removedLast&quot;)    println(&quot;移除尾部元素后: $deque&quot;)&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>一般来说，<code>ArrayDeque</code> 用于以下情景：</p><ul><li><strong>栈的实现</strong>：由于 <code>ArrayDeque</code> 支持在一端进行高效的插入和删除操作，因此可以用它来实现栈。例如，在进行深度优先搜索（DFS）时，可以使用 <code>ArrayDeque</code> 来存储待访问的节点。</li><li><strong>队列的实现</strong>：<code>ArrayDeque</code> 也可以作为普通队列使用，支持在一端插入元素，在另一端删除元素。例如，在进行广度优先搜索（BFS）时，可以使用 <code>ArrayDeque</code> 来存储待访问的节点。</li><li><strong>双端队列的应用</strong>：在某些场景下，需要在队列的两端进行插入和删除操作，例如实现一个滑动窗口算法，<code>ArrayDeque</code> 可以提供高效的性能。</li></ul><p>Kotlin 的 <code>kotlinx.serialization</code> 是一个强大的跨平台序列化库，它允许你将 Kotlin 对象序列化为各种格式，以及从这些格式反序列化为 Kotlin 对象。以下是关于 <code>kotlinx.serialization</code> 及其支持的不同格式（JSON、Protocol buffers、CBOR、Properties、HOCON）的详细说明：</p><h2 id="序列化"><a href="#序列化" class="headerlink" title="序列化"></a>序列化</h2><p><code>kotlinx.serialization</code> 提供了一个统一的接口来处理不同格式的序列化和反序列化。通过添加相应的格式支持库，你可以轻松地在不同的格式之间切换，而无需编写大量的样板代码。每个格式的序列化和反序列化操作都非常相似，只是使用不同的编码器和解码器。</p><h3 id="导入包-数据类支持"><a href="#导入包-数据类支持" class="headerlink" title="导入包 &amp; 数据类支持"></a>导入包 &amp; 数据类支持</h3><p>首先，你需要在项目中添加相应的依赖。如果你使用的是 Gradle，以下是添加 <code>kotlinx.serialization</code> 核心库以及不同格式支持库的示例：</p><pre class="line-numbers language-Groovy" data-language="Groovy"><code class="language-Groovy">&#x2F;&#x2F; 核心库implementation &quot;org.jetbrains.kotlinx:kotlinx-serialization-core:1.3.2&quot;&#x2F;&#x2F; JSON 支持implementation &quot;org.jetbrains.kotlinx:kotlinx-serialization-json:1.3.2&quot;&#x2F;&#x2F; Protocol buffers 支持implementation &quot;org.jetbrains.kotlinx:kotlinx-serialization-protobuf:1.3.2&quot;&#x2F;&#x2F; CBOR 支持implementation &quot;org.jetbrains.kotlinx:kotlinx-serialization-cbor:1.3.2&quot;&#x2F;&#x2F; Properties 支持implementation &quot;org.jetbrains.kotlinx:kotlinx-serialization-properties:1.3.2&quot;&#x2F;&#x2F; HOCON 支持implementation &quot;org.jetbrains.kotlinx:kotlinx-serialization-hocon:1.3.2&quot;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>要使用 <code>kotlinx.serialization</code>，你需要将你的数据类标记为 <code>@Serializable</code>。例如：</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">import kotlinx.serialization.Serializable@Serializabledata class Person(    val name: String,    val age: Int)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="JSON-序列化和反序列化"><a href="#JSON-序列化和反序列化" class="headerlink" title="JSON 序列化和反序列化"></a>JSON 序列化和反序列化</h3><p><code>kotlinx-serialization-json</code> 库用于处理 JSON 格式的序列化和反序列化。</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">import kotlinx.serialization.encodeToStringimport kotlinx.serialization.decodeFromStringimport kotlinx.serialization.json.Jsonfun main() &#123;    val person &#x3D; Person(&quot;John Doe&quot;, 30)    &#x2F;&#x2F; 序列化    val json &#x3D; Json.encodeToString(person)    println(json) &#x2F;&#x2F; 输出: &#123;&quot;name&quot;:&quot;John Doe&quot;,&quot;age&quot;:30&#125;    &#x2F;&#x2F; 反序列化    val decodedPerson &#x3D; Json.decodeFromString&lt;Person&gt;(json)    println(decodedPerson) &#x2F;&#x2F; 输出: Person(name&#x3D;John Doe, age&#x3D;30)&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="Protocol-buffers-序列化和反序列化"><a href="#Protocol-buffers-序列化和反序列化" class="headerlink" title="Protocol buffers 序列化和反序列化"></a>Protocol buffers 序列化和反序列化</h3><p><code>kotlinx-serialization-protobuf</code> 库用于处理 Protocol buffers 格式的序列化和反序列化。</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">import kotlinx.serialization.protobuf.ProtoBufimport kotlinx.serialization.encodeToByteArrayimport kotlinx.serialization.decodeFromByteArrayfun main() &#123;    val person &#x3D; Person(&quot;John Doe&quot;, 30)    &#x2F;&#x2F; 序列化    val protoBytes &#x3D; ProtoBuf.encodeToByteArray(person)    &#x2F;&#x2F; 反序列化    val decodedPerson &#x3D; ProtoBuf.decodeFromByteArray&lt;Person&gt;(protoBytes)    println(decodedPerson) &#x2F;&#x2F; 输出: Person(name&#x3D;John Doe, age&#x3D;30)&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="CBOR-序列化和反序列化"><a href="#CBOR-序列化和反序列化" class="headerlink" title="CBOR 序列化和反序列化"></a>CBOR 序列化和反序列化</h3><p><code>kotlinx-serialization-cbor</code> 库用于处理 CBOR 格式的序列化和反序列化。</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">import kotlinx.serialization.cbor.Cborimport kotlinx.serialization.encodeToByteArrayimport kotlinx.serialization.decodeFromByteArrayfun main() &#123;    val person &#x3D; Person(&quot;John Doe&quot;, 30)    &#x2F;&#x2F; 序列化    val cborBytes &#x3D; Cbor.encodeToByteArray(person)    &#x2F;&#x2F; 反序列化    val decodedPerson &#x3D; Cbor.decodeFromByteArray&lt;Person&gt;(cborBytes)    println(decodedPerson) &#x2F;&#x2F; 输出: Person(name&#x3D;John Doe, age&#x3D;30)&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="Properties-序列化和反序列化"><a href="#Properties-序列化和反序列化" class="headerlink" title="Properties 序列化和反序列化"></a>Properties 序列化和反序列化</h3><p><code>kotlinx-serialization-properties</code> 库用于处理 Properties 格式的序列化和反序列化。</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">import kotlinx.serialization.encodeToStringimport kotlinx.serialization.decodeFromStringimport kotlinx.serialization.properties.Propertiesfun main() &#123;    val person &#x3D; Person(&quot;John Doe&quot;, 30)    &#x2F;&#x2F; 序列化    val propertiesString &#x3D; Properties.encodeToString(person)    println(propertiesString) &#x2F;&#x2F; 输出: name&#x3D;John Doe\nage&#x3D;30    &#x2F;&#x2F; 反序列化    val decodedPerson &#x3D; Properties.decodeFromString&lt;Person&gt;(propertiesString)    println(decodedPerson) &#x2F;&#x2F; 输出: Person(name&#x3D;John Doe, age&#x3D;30)&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="HOCON-序列化和反序列化"><a href="#HOCON-序列化和反序列化" class="headerlink" title="HOCON 序列化和反序列化"></a>HOCON 序列化和反序列化</h3><p><code>kotlinx-serialization-hocon</code> 库用于处理 HOCON 格式的序列化和反序列化。</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">import kotlinx.serialization.encodeToStringimport kotlinx.serialization.decodeFromStringimport kotlinx.serialization.hocon.Hoconfun main() &#123;    val person &#x3D; Person(&quot;John Doe&quot;, 30)    &#x2F;&#x2F; 序列化    val hoconString &#x3D; Hocon.encodeToString(person)    println(hoconString) &#x2F;&#x2F; 输出: name &#x3D; &quot;John Doe&quot;\nage &#x3D; 30    &#x2F;&#x2F; 反序列化    val decodedPerson &#x3D; Hocon.decodeFromString&lt;Person&gt;(hoconString)    println(decodedPerson) &#x2F;&#x2F; 输出: Person(name&#x3D;John Doe, age&#x3D;30)&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>Lincheck 是一个用于测试并发数据结构线性一致性（linearizability）的框架，主要用于 Kotlin 和 Java 语言。以下是关于 Lincheck 的详细介绍：</p><h2 id="Lincheck"><a href="#Lincheck" class="headerlink" title="Lincheck"></a>Lincheck</h2><h3 id="线性一致性（Linearizability）"><a href="#线性一致性（Linearizability）" class="headerlink" title="线性一致性（Linearizability）"></a>线性一致性（Linearizability）</h3><h4 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h4><p>线性一致性是并发数据结构的一个重要正确性属性。简单来说，如果一个并发数据结构是线性一致的，<strong>那么它的所有操作看起来就像是以某种原子方式顺序执行的</strong>，即每个操作都在某个时刻瞬间完成，并且这些操作的执行顺序与程序的并发执行历史是一致的。</p><p>在多线程程序中，多个线程可能会访问同一块内存区域或共享变量：</p><ul><li>例如，线程A和线程B可能同时对一个全局变量进行读写操作。线程一致性要求在一个线程对共享数据进行写操作后，其他线程在读取该数据时，能够看到最新的值。如果一个线程更新了数据，另一个线程应该能立即或在合理的时间内看到这个更新。</li><li>为了保证线程一致性，必须确保数据的可见性。即，一个线程对共享数据的修改，应该能被其他线程及时感知到。这通常通过锁、同步机制（如互斥锁、信号量）或内存屏障来实现。</li><li>编译器和处理器可能会对指令进行重排序，以优化性能，这可能导致线程间的执行顺序不一致。为了避免这种情况，程序需要使用适当的同步机制来确保操作的顺序。</li></ul><p>总而言之，在多线程环境下，不满足线程一致性的程序可能会导致这些问题：</p><ul><li><strong>共享资源冲突</strong>：当多个线程同时读写同一块内存或资源时，可能导致数据不一致。</li><li><strong>竞态条件（Race Condition）</strong>：线程执行顺序不确定，导致结果依赖于线程调度顺序。</li><li><strong>内存可见性问题</strong>：某个线程修改了共享数据，其他线程可能无法立即看到修改后的值。</li></ul><p>根据问题分析，我们可以确定相应的解决方案。</p><p>（1）<strong>原子性（Atomicity）</strong></p><ul><li><strong>问题</strong>：一个操作（如 <code>i++</code>）可能被拆分为多个步骤（读、改、写），若中途被其他线程打断，会导致结果错误。</li><li><strong>解决方案</strong>：<ul><li><strong>锁（Lock）</strong>：如 <code>synchronized</code>（Java）、<code>mutex</code>（C++）。</li><li><strong>原子变量（Atomic Variables）</strong>：如 <code>AtomicInteger</code>（Java）、<code>std::atomic</code>（C++）。</li></ul></li></ul><p>（2）<strong>可见性（Visibility）</strong></p><ul><li><strong>问题</strong>：线程A修改了共享变量，但线程B可能因缓存（CPU缓存、寄存器）未刷新而读到旧值。</li><li><strong>解决方案</strong>：<ul><li><code>volatile</code><strong>关键字</strong>（Java）：强制线程从主内存读写变量。</li><li><strong>内存屏障（Memory Barrier）</strong>：确保指令执行顺序和内存可见性。</li></ul></li></ul><p>（3）<strong>有序性（Ordering）</strong></p><ul><li><strong>问题</strong>：编译器或CPU可能对指令重排序（优化），导致代码执行顺序与预期不符。</li><li><strong>解决方案</strong>：<ul><li><code>synchronized</code><strong>或锁</strong>：限制指令重排序。</li><li><code>volatile</code><strong>关键字</strong>：禁止对 volatile 变量的操作重排序。</li></ul></li></ul><p>以<strong>线程安全的数据结构为例子，我们</strong>考虑如下代码 <code>ConcurrentStack</code>，<code>java.util.Stack</code> 是一个典型的线程安全数据结构，即并发栈：</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">class ConcurrentStack&lt;T&gt; &#123;    private val stack &#x3D; java.util.Stack&lt;T&gt;()    @Operation    fun push(value: T) &#123;        stack.push(value)    &#125;    @Operation    fun pop(): T? &#123;        return if (stack.isEmpty()) null else stack.pop()    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>其中，多个线程可以同时操作 <code>push</code> 和 <code>pop</code> 方法。</p><h4 id="并发时的行为差异"><a href="#并发时的行为差异" class="headerlink" title="并发时的行为差异"></a>并发时的行为差异</h4><ul><li>非并发情况下的行为</li></ul><p>在非并发（单线程）环境下，<code>ConcurrentStack</code> 的行为是非常直观的。当调用 <code>push</code> 方法时，元素会按顺序依次被添加到栈顶；当调用 <code>pop</code> 方法时，栈顶元素会被移除并返回。操作是顺序执行的，不会出现数据不一致的问题。</p><p>例如，以下是单线程环境下的操作序列：</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">val stack &#x3D; ConcurrentStack&lt;Int&gt;()stack.push(1)stack.push(2)val topElement &#x3D; stack.pop() &#x2F;&#x2F; 返回 2<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><ul><li>并发情况下的行为</li></ul><p>在并发（多线程）环境下，<code>ConcurrentStack</code> 的行为会变得复杂。多个线程可能同时尝试对栈进行 <code>push</code> 或 <code>pop</code> 操作，这可能会导致以下几种情况：</p><ol><li><strong>竞态条件（Race Condition）</strong>：<ul><li>多个线程同时调用 <code>push</code> 方法，可能会导致元素的插入顺序不符合预期。例如，线程 A 和线程 B 同时调用 <code>push</code> 方法，由于线程调度的不确定性，最终栈中的元素顺序可能会出现混乱。</li><li>多个线程同时调用 <code>pop</code> 方法，可能会导致某个线程获取到错误的栈顶元素，或者在栈为空时仍然尝试弹出元素。</li></ul></li><li><strong>数据不一致</strong>：<ul><li>当一个线程正在执行 <code>pop</code> 操作，而另一个线程同时执行 <code>push</code> 操作时，可能会导致栈的状态不一致。例如，<code>pop</code> 操作可能会在 <code>push</code> 操作完成之前判断栈为空，从而返回 <code>null</code>，而实际上栈中已经有元素被添加。</li></ul></li></ol><p>具体来说，以下是一些符合线性一致性的示例：</p><ul><li><strong>示例 1：并发</strong><code>**push**</code><strong>操作</strong><ul><li>线程 A 调用 <code>push(1)</code>，线程 B 调用 <code>push(2)</code>，最终栈中的元素顺序应该是 <code>2</code> 在栈顶，<code>1</code> 在栈底，或者 <code>1</code> 在栈顶，<code>2</code> 在栈底，这取决于线程调度的顺序。但无论如何，栈中的元素数量应该是正确的，并且后续的 <code>pop</code> 操作应该按照栈的规则依次返回元素。</li></ul></li><li><strong>示例 2：并发</strong><code>**pop**</code><strong>操作</strong><ul><li>线程 A 和线程 B 同时调用 <code>pop</code> 方法，栈中最初有两个元素 <code>[2, 1]</code>（<code>2</code> 为栈顶）。最终，两个线程应该分别获取到 <code>2</code> 和 <code>1</code>，不会出现两个线程都获取到 <code>2</code> 或者都获取到 <code>1</code> 的情况。</li></ul></li><li><strong>示例 3：并发</strong><code>**push**</code> 和 <code>pop</code><strong>操作</strong><ul><li>线程 A 调用 <code>push(1)</code>，线程 B 调用 <code>pop()</code>。如果 <code>push</code> 操作先于 <code>pop</code> 操作完成，那么 <code>pop</code> 操作应该返回 <code>1</code>；如果 <code>pop</code> 操作在 <code>push</code> 操作之前判断栈为空，那么 <code>pop</code> 操作应该返回 <code>null</code>。</li></ul></li></ul><h3 id="Lincheck-的主要功能和特点"><a href="#Lincheck-的主要功能和特点" class="headerlink" title="Lincheck 的主要功能和特点"></a>Lincheck 的主要功能和特点</h3><p>Lincheck 是一个用于测试并发数据结构线性一致性（linearizability）的框架，主要用于 Kotlin 和 Java 语言。以下是关于 Lincheck 的详细介绍：</p><h4 id="自动化测试"><a href="#自动化测试" class="headerlink" title="自动化测试"></a>自动化测试</h4><ul><li>自动生成测试用例：Lincheck 能够自动生成大量的并发测试用例，这些测试用例包含不同的操作组合和不同的线程交错执行情况。通过随机生成这些测试用例，Lincheck 可以覆盖到各种可能的并发场景，从而更全面地测试并发数据结构的正确性。</li><li>自动检查线性一致性：在执行生成的测试用例后，Lincheck 会自动检查并发数据结构的执行结果是否满足线性一致性。它会分析操作的执行顺序和结果，判断是否存在违反线性一致性的情况。</li></ul><h4 id="简洁易用"><a href="#简洁易用" class="headerlink" title="简洁易用"></a>简洁易用</h4><ul><li>注解驱动：Lincheck 使用注解来定义测试类和测试方法，开发人员只需要在代码中添加少量的注解，就可以快速创建并发测试。例如，使用 <code>@Operation</code> 注解来标记并发数据结构的操作方法，使用 <code>@Param</code> 注解来定义操作的参数范围等。</li><li>集成方便：Lincheck 可以很方便地集成到现有的测试框架中，如 JUnit 或 Kotlin 的测试框架。开发人员可以将 Lincheck 测试作为普通的单元测试来运行，无需进行复杂的配置。</li></ul><h4 id="跨平台支持"><a href="#跨平台支持" class="headerlink" title="跨平台支持"></a>跨平台支持</h4><p>Lincheck 支持多种并发模型和执行环境，包括 Java 的线程、Kotlin 的协程等。这使得它可以在不同的平台和并发编程模型下进行并发数据结构的测试。</p><h4 id="详细的错误报告"><a href="#详细的错误报告" class="headerlink" title="详细的错误报告"></a>详细的错误报告</h4><p>当 Lincheck 检测到并发数据结构存在线性一致性问题时，它会提供详细的错误报告。报告中会包含测试用例的执行历史、操作的调用顺序、线程的交错情况以及违反线性一致性的具体原因等信息。这些信息可以帮助开发人员快速定位和修复并发数据结构中的问题。</p><h3 id="基本使用"><a href="#基本使用" class="headerlink" title="基本使用"></a>基本使用</h3><p>以下是一个使用 Lincheck 测试并发栈的简单示例：</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">import kotlinx.coroutines.*import org.jetbrains.kotlinx.lincheck.*import org.jetbrains.kotlinx.lincheck.annotations.*import org.jetbrains.kotlinx.lincheck.strategy.managed.modelchecking.*import org.jetbrains.kotlinx.lincheck.verifier.*&#x2F;&#x2F; 定义并发栈类class ConcurrentStack&lt;T&gt; &#123;    private val stack &#x3D; java.util.Stack&lt;T&gt;()    @Operation    fun push(value: T) &#123;        stack.push(value)    &#125;    @Operation    fun pop(): T? &#123;        return if (stack.isEmpty()) null else stack.pop()    &#125;&#125;&#x2F;&#x2F; 测试类class ConcurrentStackTest &#123;    private val stack &#x3D; ConcurrentStack&lt;Int&gt;()    @Operation    fun push(@Param(name &#x3D; &quot;value&quot;) value: Int) &#x3D; stack.push(value)    @Operation    fun pop() &#x3D; stack.pop()    &#x2F;&#x2F; 测试配置    @Test    fun test() &#123;        val options &#x3D; ModelCheckingOptions()            .iterations(100) &#x2F;&#x2F; 测试迭代次数            .threads(3) &#x2F;&#x2F; 并发线程数            .actorsPerThread(5) &#x2F;&#x2F; 每个线程的操作数        val result &#x3D; ModelCheckingChecker.check(this::class.java, options)        assert(result.passed())    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>在这个示例中，我们定义了一个简单的并发栈类 <code>ConcurrentStack</code>，并使用 Lincheck 对其进行测试。通过 <code>@Operation</code> 注解标记了栈的 <code>push</code> 和 <code>pop</code> 操作，然后在测试类 <code>ConcurrentStackTest</code> 中定义了相应的测试方法。最后，使用 <code>ModelCheckingChecker</code> 来执行测试，并通过 <code>assert(result.passed())</code> 来验证测试是否通过。</p><p>在 <code>ConcurrentStack</code> 类中，<code>push</code> 和 <code>pop</code> 方法被标记为 <code>@Operation</code> 注解。这是 Lincheck 框架的一个重要特性，用于指定这些方法是并发操作的一部分。通过这种方式，Lincheck 可以自动生成不同的并发测试用例，模拟多个线程同时调用这些方法的情况，从而测试该栈在并发环境下的行为。</p><p>使用 Lincheck 进行测试时，如果 <code>ConcurrentStack</code> 满足线性一致性，测试应该通过，即 <code>ModelCheckingChecker.check</code> 方法的返回结果的 <code>passed()</code> 方法应该返回 <code>true</code>。</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">val result &#x3D; ModelCheckingChecker.check(this::class.java, options)assert(result.passed())<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>如果测试不通过，Lincheck 会提供详细的错误报告，包括测试用例的执行历史、操作的调用顺序、线程的交错情况以及违反线性一致性的具体原因等信息，帮助开发人员定位和修复问题。</p><p>总之，符合预期的测试结果是 <code>ConcurrentStack</code> 在并发环境下的操作满足线性一致性，不会出现竞态条件和数据不一致的问题。</p><h2 id="协程"><a href="#协程" class="headerlink" title="协程"></a>协程</h2><h3 id="协程与线程进程的关系"><a href="#协程与线程进程的关系" class="headerlink" title="协程与线程进程的关系"></a>协程与线程进程的关系</h3><p>好的！以下是 <strong>协程（Coroutine）、线程（Thread）、进程（Process）</strong> 的关系解析，结合 <strong>Kotlin 代码示例</strong> 说明它们的区别和使用场景。</p><h4 id="关系概述与核心区别"><a href="#关系概述与核心区别" class="headerlink" title="关系概述与核心区别"></a><strong>关系概述与核心区别</strong></h4><table><thead><tr><th><strong>概念</strong></th><th><strong>定义</strong></th><th><strong>关系</strong></th></tr></thead><tbody><tr><td><strong>进程</strong></td><td>操作系统资源分配的基本单位，独立的内存空间和系统资源（如文件句柄）。</td><td><strong>进程 &gt; 线程 &gt; 协程</strong>：一个进程包含多个线程，一个线程可以运行多个协程。协程是线程中的轻量级任务。</td></tr><tr><td><strong>线程</strong></td><td>进程内的执行单元，共享进程的内存和资源，但有自己的栈和寄存器。</td><td>线程由操作系统调度，协程由开发者或协程库调度。</td></tr><tr><td><strong>协程</strong></td><td>用户态的轻量级线程，由程序控制调度（非抢占式），挂起时不会阻塞线程。</td><td>协程运行在线程之上，一个线程可同时执行多个协程（通过挂起&#x2F;恢复）。</td></tr></tbody></table><table><thead><tr><th><strong>特性</strong></th><th><strong>进程</strong></th><th><strong>线程</strong></th><th><strong>协程</strong></th></tr></thead><tbody><tr><td><strong>资源开销</strong></td><td>高（独立内存）</td><td>中（共享内存）</td><td>极低（无内核切换）</td></tr><tr><td><strong>调度方式</strong></td><td>操作系统调度</td><td>操作系统调度</td><td>程序控制（协作式调度）</td></tr><tr><td><strong>并发性</strong></td><td>多进程并行</td><td>多线程并行（需多核CPU）</td><td>单线程内伪并行（通过挂起）</td></tr><tr><td><strong>通信成本</strong></td><td>高（IPC机制）</td><td>中（共享内存+锁）</td><td>低（直接共享变量）</td></tr><tr><td><strong>适用场景</strong></td><td>高隔离性任务（如浏览器）</td><td>CPU密集型任务</td><td>I&#x2F;O密集型、高并发任务</td></tr></tbody></table><p>协程是可挂起计算的一个实例。从概念上讲，它与线程类似，都需要一个代码块与其他代码同时运行。不过，例程并不受制于任何特定的线程。它可以在一个线程中暂停执行，然后在另一个线程中继续执行。</p><p>可以把协程看作轻量级线程，但它们在实际使用中与线程有许多重要区别。</p><h4 id="代码示例"><a href="#代码示例" class="headerlink" title="代码示例"></a><strong>代码示例</strong></h4><ul><li><strong>(1) 进程</strong></li></ul><p>Kotlin&#x2F;JVM 中直接操作进程较少见（通常通过 <code>ProcessBuilder</code>），但可以启动独立程序：</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">&#x2F;&#x2F; 启动一个外部进程（如打开计算器）val process &#x3D; ProcessBuilder(&quot;calc.exe&quot;).start()<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ul><li><strong>(2) 线程</strong></li></ul><p>Kotlin 通过 <code>thread</code> 函数或 <code>Executor</code> 创建线程：</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">&#x2F;&#x2F; 方式1：直接启动线程thread(name &#x3D; &quot;MyThread&quot;) &#123;    println(&quot;Thread running: $&#123;Thread.currentThread().name&#125;&quot;)    Thread.sleep(1000) &#x2F;&#x2F; 阻塞线程&#125;&#x2F;&#x2F; 方式2：使用线程池val executor &#x3D; Executors.newFixedThreadPool(2)executor.submit &#123;    println(&quot;Pool thread: $&#123;Thread.currentThread().name&#125;&quot;)&#125;executor.shutdown()<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><strong>(3) 协程</strong></li></ul><p>Kotlin 协程通过 <code>kotlinx.coroutines</code> 库实现：</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">import kotlinx.coroutines.*fun main() &#x3D; runBlocking &#123;    &#x2F;&#x2F; 启动一个协程（不阻塞当前线程）    val job &#x3D; launch(Dispatchers.Default) &#123;        println(&quot;Coroutine started on thread: $&#123;Thread.currentThread().name&#125;&quot;)        delay(1000) &#x2F;&#x2F; 挂起协程，不阻塞线程        println(&quot;Coroutine resumed!&quot;)    &#125;    &#x2F;&#x2F; 启动多个协程（单线程内并发）    val deferredResults &#x3D; (1..3).map &#123; i -&gt;        async &#123;            delay(1000L * i)            &quot;Result $i&quot;        &#125;    &#125;    &#x2F;&#x2F; 等待所有结果    deferredResults.forEach &#123; println(it.await()) &#125;    job.join() &#x2F;&#x2F; 等待协程结束&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>输出示例：</strong></p><pre class="line-numbers language-PlainText" data-language="PlainText"><code class="language-PlainText">Coroutine started on thread: DefaultDispatcher-worker-1Result 1Result 2Result 3Coroutine resumed!<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="协程与线程的协作"><a href="#协程与线程的协作" class="headerlink" title="协程与线程的协作"></a><strong>协程与线程的协作</strong></h4><p>协程可以指定调度器（Dispatcher），决定它运行在哪个线程：</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">fun main() &#x3D; runBlocking &#123;    &#x2F;&#x2F; 协程1：运行在IO线程池    launch(Dispatchers.IO) &#123;        println(&quot;IO work on: $&#123;Thread.currentThread().name&#125;&quot;)    &#125;    &#x2F;&#x2F; 协程2：运行在主线程（Android中常用）    launch(Dispatchers.Main) &#123;        println(&quot;UI update on: $&#123;Thread.currentThread().name&#125;&quot;)    &#125;    &#x2F;&#x2F; 协程3：切换线程    withContext(Dispatchers.Default) &#123;        println(&quot;Computation on: $&#123;Thread.currentThread().name&#125;&quot;)    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><strong>进程</strong>：资源隔离，适合独立任务（如浏览器标签）。</li><li><strong>线程</strong>：共享进程资源，适合CPU密集型任务，但需处理同步问题。</li><li><strong>协程</strong>：轻量级，适合高并发I&#x2F;O任务（如网络请求、数据库操作），通过挂起避免线程阻塞。</li></ul><p>在 Kotlin 中，协程是替代回调&#x2F;线程池的最佳实践，通过 <code>suspend</code> 函数和结构化并发简化异步代码。</p><h3 id="基本使用-1"><a href="#基本使用-1" class="headerlink" title="基本使用"></a>基本使用</h3><p>在 Kotlin 协程中，虽然协程的核心功能由 <code>kotlinx.coroutines</code> 库提供，但语言本身也通过一些关键字和库函数来支持协程编程。以下是关键概念和协程启动过程的详细说明：</p><h4 id="协程的「关键字」与核心概念"><a href="#协程的「关键字」与核心概念" class="headerlink" title="协程的「关键字」与核心概念"></a><strong>协程的「关键字」与核心概念</strong></h4><p>严格来说，Kotlin 协程的专用关键字只有 <code>suspend</code>，其他是协程库中的函数或类。以下是关键术语及其作用：</p><table><thead><tr><th><strong>关键字&#x2F;函数&#x2F;类</strong></th><th><strong>作用</strong></th></tr></thead><tbody><tr><td><code>**suspend**</code></td><td>标记函数为挂起函数，只能在协程或其他挂起函数中调用。</td></tr><tr><td><code>**CoroutineScope**</code></td><td>协程作用域，管理协程的生命周期（如取消）。</td></tr><tr><td><code>**launch**</code></td><td>启动一个不返回结果的协程（返回 <code>Job</code>）。</td></tr><tr><td><code>**async**</code></td><td>启动一个返回 <code>Deferred&lt;T&gt;</code> 的协程（可通过 <code>await()</code> 获取结果）。</td></tr><tr><td><code>**runBlocking**</code></td><td>创建一个阻塞当前线程的协程作用域，通常用于测试或 <code>main</code> 函数。</td></tr><tr><td><code>**withContext**</code></td><td>切换协程的上下文（如线程池），并返回结果。</td></tr><tr><td><code>**Job**</code></td><td>表示一个协程的任务，用于控制生命周期（取消、等待完成）。</td></tr><tr><td><code>**Deferred**</code></td><td>继承自 <code>Job</code>，表示一个异步计算的结果（通过 <code>async</code> 启动）。</td></tr><tr><td><code>**CoroutineDispatcher**</code></td><td>协程调度器，决定协程在哪个线程池运行（如 <code>Dispatchers.IO</code>）。</td></tr><tr><td><code>**coroutineScope**</code></td><td>创建一个子作用域，所有子协程完成前不会退出。</td></tr><tr><td><code>**supervisorScope**</code></td><td>类似 <code>coroutineScope</code>，但子协程的失败不会影响其他子协程。</td></tr></tbody></table><h4 id="如何启动一个协程？"><a href="#如何启动一个协程？" class="headerlink" title="如何启动一个协程？"></a><strong>如何启动一个协程？</strong></h4><ul><li><strong>(1) 添加依赖</strong></li></ul><p>在 <code>build.gradle.kts</code> 中添加协程库依赖（必需）：</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">dependencies &#123;    implementation(&quot;org.jetbrains.kotlinx:kotlinx-coroutines-core:1.8.0&quot;)&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><ul><li><strong>(2) 启动协程的两种方式</strong></li></ul><p><strong>方式 1：</strong><code>launch</code><strong>（不返回结果）</strong></p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">import kotlinx.coroutines.*fun main() &#x3D; runBlocking &#123; &#x2F;&#x2F; 1. 创建阻塞式协程作用域    val job &#x3D; launch &#123;     &#x2F;&#x2F; 2. 启动协程，返回 Job        delay(1000)        &#x2F;&#x2F; 3. 挂起协程，不阻塞线程        println(&quot;World!&quot;)    &#125;    println(&quot;Hello,&quot;)    job.join()            &#x2F;&#x2F; 4. 等待协程完成&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>方式 2：</strong><code>async</code><strong>（返回结果）</strong></p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">import kotlinx.coroutines.*fun main() &#x3D; runBlocking &#123;    val deferred &#x3D; async &#123; &#x2F;&#x2F; 启动协程，返回 Deferred&lt;Int&gt;        delay(1000)        42    &#125;    println(&quot;Result: $&#123;deferred.await()&#125;&quot;) &#x2F;&#x2F; 等待结果&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>3. 关键代码元素解析</strong></p><p><strong>(1)</strong><code>**runBlocking**</code></p><ul><li><strong>作用</strong>：创建一个阻塞当前线程的协程作用域，直到内部所有协程完成。</li><li><strong>使用场景</strong>：用于 <code>main</code> 函数或测试代码，将阻塞代码与协程桥接。</li></ul><p><strong>(2)</strong><code>**launch**</code> 和 <code>**async**</code></p><table><thead><tr><th><strong>对比项</strong></th><th><code>**launch**</code></th><th><code>**async**</code></th></tr></thead><tbody><tr><td><strong>返回值</strong></td><td><code>Job</code>（表示任务）</td><td><code>Deferred&lt;T&gt;</code>（延迟计算的结果）</td></tr><tr><td><strong>用途</strong></td><td>执行不需要返回值的任务（如日志、更新UI）</td><td>执行需要返回值的异步计算（如网络请求）</td></tr><tr><td><strong>结果获取</strong></td><td>无</td><td>通过 <code>await()</code> 获取结果</td></tr></tbody></table><p><strong>(3)</strong><code>**suspend**</code><strong>函数</strong></p><ul><li><strong>定义</strong>：只能在协程或其他挂起函数中调用的函数。</li><li><strong>示例</strong>：</li></ul><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">suspend fun fetchData(): String &#123;    delay(1000)    return &quot;Data loaded&quot;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p><strong>(4)</strong><code>**withContext**</code></p><ul><li><strong>作用</strong>：切换协程的调度器（如从 IO 线程切换到主线程）。</li><li><strong>示例</strong>：</li></ul><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">suspend fun loadData() &#x3D; withContext(Dispatchers.IO) &#123;    &#x2F;&#x2F; 在 IO 线程执行耗时操作&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h4 id="协程调度器（Dispatchers）"><a href="#协程调度器（Dispatchers）" class="headerlink" title="协程调度器（Dispatchers）"></a><strong>协程调度器（Dispatchers）</strong></h4><table><thead><tr><th><strong>调度器</strong></th><th><strong>用途</strong></th></tr></thead><tbody><tr><td><code>Dispatchers.Default</code></td><td>CPU 密集型任务（如计算、排序）</td></tr><tr><td><code>Dispatchers.IO</code></td><td>I&#x2F;O 密集型任务（如网络请求、文件读写）</td></tr><tr><td><code>Dispatchers.Main</code></td><td>主线程更新 UI（Android 或 JavaFX）</td></tr><tr><td><code>Dispatchers.Unconfined</code></td><td>不限制线程（慎用）</td></tr></tbody></table><h4 id="结构化并发示例"><a href="#结构化并发示例" class="headerlink" title="结构化并发示例"></a><strong>结构化并发示例</strong></h4><p>协程通过作用域（<code>CoroutineScope</code>）实现结构化生命周期管理：</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">import kotlinx.coroutines.*fun main() &#x3D; runBlocking &#123;    &#x2F;&#x2F; 父协程    coroutineScope &#123; &#x2F;&#x2F; 所有子协程完成前不会退出        launch &#123;             delay(1000)            println(&quot;Task 1&quot;)        &#125;        launch &#123;            delay(500)            println(&quot;Task 2&quot;)        &#125;    &#125;    println(&quot;All tasks completed!&quot;)&#125;&#x2F;&#x2F; 输出顺序：Task 2 → Task 1 → All tasks completed!<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a><strong>总结</strong></h4><ul><li><strong>核心关键字</strong>：<code>suspend</code>。</li><li><strong>启动协程</strong>：通过 <code>launch</code> 或 <code>async</code>，需在协程作用域（如 <code>runBlocking</code>）内调用。</li><li><strong>调度器</strong>：通过 <code>Dispatchers</code> 指定协程运行的线程池。</li><li><strong>结构化并发</strong>：通过 <code>coroutineScope</code> 或 <code>supervisorScope</code> 管理子协程。</li></ul><h3 id="进阶使用"><a href="#进阶使用" class="headerlink" title="进阶使用"></a>进阶使用</h3><h4 id="协程的取消与超时"><a href="#协程的取消与超时" class="headerlink" title="协程的取消与超时"></a>协程的取消与超时</h4><p>Kotlin 协程支持通过 <code>CoroutineScope</code> 来取消协程。你可以调用 <code>cancel()</code> 方法来取消一个协程。使用 <code>withTimeout</code> 函数可以设置一个超时时间，如果在规定时间内协程未完成，则会被取消。</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">import kotlinx.coroutines.*fun main() &#x3D; runBlocking &#123;    val job &#x3D; launch &#123;        &#x2F;&#x2F; 模拟长时间运行的任务        repeat(1000) &#123; i -&gt;            println(&quot;Job: $i&quot;)            delay(500L)        &#125;    &#125;    delay(1300L) &#x2F;&#x2F; 等待一段时间    job.cancel() &#x2F;&#x2F; 取消协程    println(&quot;Job cancelled&quot;)&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="组合挂起函数"><a href="#组合挂起函数" class="headerlink" title="组合挂起函数"></a>组合挂起函数</h4><p>挂起函数可以组合使用，允许在一个协程中调用多个挂起函数。通过使用 <code>async</code> 和 <code>await</code>，可以并行执行多个任务，并在需要时等待它们完成。</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">suspend fun fetchData(): String &#123;    &#x2F;&#x2F; 模拟网络请求    delay(1000)    return &quot;Data&quot;&#125;fun main() &#x3D; runBlocking &#123;    val data &#x3D; async &#123; fetchData() &#125;    println(&quot;Fetching data...&quot;)    println(data.await()) &#x2F;&#x2F; 等待数据返回&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="异步流"><a href="#异步流" class="headerlink" title="异步流"></a>异步流</h4><p>Kotlin 的 <code>Flow</code> 提供了一种异步流的方式来处理数据流。<code>Flow</code> 是冷流（cold stream），只有在收集时才会开始执行。</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">import kotlinx.coroutines.flow.*fun simpleFlow(): Flow&lt;Int&gt; &#x3D; flow &#123;    for (i in 1..3) &#123;        delay(1000) &#x2F;&#x2F; 模拟耗时操作        emit(i) &#x2F;&#x2F; 发射下一个值    &#125;&#125;fun main() &#x3D; runBlocking &#123;    simpleFlow().collect &#123; value -&gt;        println(value)    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="通道"><a href="#通道" class="headerlink" title="通道"></a>通道</h4><p>通道（Channel）是一个用于在协程之间传输数据的非阻塞队列。它可以用于实现生产者-消费者模式。</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">import kotlinx.coroutines.channels.*fun main() &#x3D; runBlocking &#123;    val channel &#x3D; Channel&lt;Int&gt;()    &#x2F;&#x2F; 生产者    launch &#123;        for (x in 1..5) channel.send(x * x) &#x2F;&#x2F; 发送平方数        channel.close() &#x2F;&#x2F; 关闭通道    &#125;    &#x2F;&#x2F; 消费者    for (y in channel) &#123;        println(y) &#x2F;&#x2F; 接收并打印    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="协程异常处理"><a href="#协程异常处理" class="headerlink" title="协程异常处理"></a>协程异常处理</h4><p>Kotlin 协程提供了 <code>CoroutineExceptionHandler</code> 来处理协程中的异常。</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">val handler &#x3D; CoroutineExceptionHandler &#123; _, exception -&gt;    println(&quot;Caught $exception&quot;)&#125;fun main() &#x3D; runBlocking(handler) &#123;    launch &#123;        throw AssertionError(&quot;Something went wrong!&quot;)    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="共享的可变状态与并发"><a href="#共享的可变状态与并发" class="headerlink" title="共享的可变状态与并发"></a>共享的可变状态与并发</h4><p>Kotlin 协程支持共享可变状态，使用 <code>Mutex</code> 和 <code>Atomic</code> 类型来保证线程安全。</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">import kotlinx.coroutines.*import kotlinx.coroutines.sync.Muteximport kotlinx.coroutines.sync.withLockvar counter &#x3D; 0val mutex &#x3D; Mutex()suspend fun increment() &#123;    mutex.withLock &#123;        counter++    &#125;&#125;fun main() &#x3D; runBlocking &#123;    val jobs &#x3D; List(100) &#123;        launch &#123;            repeat(1000) &#123;                increment()            &#125;        &#125;    &#125;    jobs.forEach &#123; it.join() &#125;    println(&quot;Counter &#x3D; $counter&quot;)&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="日期与时间"><a href="#日期与时间" class="headerlink" title="日期与时间"></a>日期与时间</h2><p><code>kotlinx-datetime</code> 是 Kotlin 官方推出的跨平台日期时间处理库，旨在为 Kotlin Multiplatform 项目提供统一的日期时间操作 API。它设计简洁且与 Java 的 <code>java.time</code> 包类似，但完全兼容 Kotlin 的跨平台特性（支持 JVM、JS、Native 等平台）。</p><h3 id="基本使用-2"><a href="#基本使用-2" class="headerlink" title="基本使用"></a>基本使用</h3><ul><li>在 <code>build.gradle.kts</code> 中添加依赖：</li></ul><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">kotlin &#123;    sourceSets &#123;        commonMain &#123;            dependencies &#123;                implementation(&quot;org.jetbrains.kotlinx:kotlinx-datetime:0.4.0&quot;) &#x2F;&#x2F; 检查最新版本            &#125;        &#125;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><strong>创建日期时间对象</strong></li></ul><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">import kotlinx.datetime.*&#x2F;&#x2F; 获取当前时间（基于系统时钟）val now: Instant &#x3D; Clock.System.now()&#x2F;&#x2F; 创建 LocalDate（日期）val date &#x3D; LocalDate(2023, 10, 1)&#x2F;&#x2F; 创建 LocalDateTime（日期 + 时间）val dateTime &#x3D; LocalDateTime(2023, 10, 1, 12, 30, 15)&#x2F;&#x2F; 解析字符串为日期时间val parsedDate &#x3D; LocalDate.parse(&quot;2023-10-01&quot;)val parsedDateTime &#x3D; LocalDateTime.parse(&quot;2023-10-01T12:30:15&quot;)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><strong>格式化与解析</strong></li></ul><p>使用 <code>format</code> 和 <code>parse</code> 进行字符串转换：</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">import kotlinx.datetime.format.*&#x2F;&#x2F; 自定义格式val format &#x3D; LocalDate.Format &#123;    year()    char(&#39;&#x2F;&#39;)    monthNumber()    char(&#39;&#x2F;&#39;)    dayOfMonth()&#125;val dateString &#x3D; format.format(LocalDate(2023, 10, 1)) &#x2F;&#x2F; &quot;2023&#x2F;10&#x2F;01&quot;val parsedDate &#x3D; format.parse(&quot;2023&#x2F;10&#x2F;01&quot;) &#x2F;&#x2F; LocalDate(2023, 10, 1)&#x2F;&#x2F; 使用预定义的 ISO 格式val isoDateString &#x3D; LocalDate(2023, 10, 1).toString() &#x2F;&#x2F; &quot;2023-10-01&quot;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><strong>时间计算与差值</strong></li></ul><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">val today &#x3D; LocalDate(2023, 10, 1)val tomorrow &#x3D; today + DatePeriod(days &#x3D; 1)val yesterday &#x3D; today - DatePeriod(months &#x3D; 1)&#x2F;&#x2F; 计算两个日期的差值val daysBetween &#x3D; today.daysUntil(tomorrow) &#x2F;&#x2F; 1&#x2F;&#x2F; 计算时间差（Duration）val start &#x3D; Instant.parse(&quot;2023-10-01T00:00:00Z&quot;)val end &#x3D; Instant.parse(&quot;2023-10-02T12:00:00Z&quot;)val duration &#x3D; end - start &#x2F;&#x2F; 36.hours<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><strong>时区处理</strong></li></ul><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">&#x2F;&#x2F; 将 Instant 转换为带时区的日期时间val timeZone &#x3D; TimeZone.of(&quot;Asia&#x2F;Shanghai&quot;)val zonedDateTime &#x3D; now.toLocalDateTime(timeZone)&#x2F;&#x2F; 时区转换val newYorkTime &#x3D; zonedDateTime.toInstant(TimeZone.of(&quot;America&#x2F;New_York&quot;))<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><strong>时间区间与比较</strong></li></ul><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">val date1 &#x3D; LocalDate(2023, 10, 1)val date2 &#x3D; LocalDate(2023, 10, 5)&#x2F;&#x2F; 比较日期val isBefore &#x3D; date1 &lt; date2 &#x2F;&#x2F; true&#x2F;&#x2F; 创建时间区间val dateRange &#x3D; date1..date2val isInRange &#x3D; LocalDate(2023, 10, 3) in dateRange &#x2F;&#x2F; true<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>跨平台注意事项：</strong></p><ul><li><strong>JS 和 Native 平台</strong>：部分功能（如复杂时区规则）可能依赖平台实现，需确保目标平台支持。</li><li><strong>与 Java 互操作</strong>：在 JVM 上，可以通过扩展函数与 <code>java.time</code> 互转：</li></ul><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">&#x2F;&#x2F; 转换为 java.time.LocalDateval javaLocalDate: java.time.LocalDate &#x3D; kotlinDate.toJavaLocalDate()&#x2F;&#x2F; 从 java.time 转换val kotlinDate: LocalDate &#x3D; javaLocalDate.toKotlinLocalDate()<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="常见场景示例"><a href="#常见场景示例" class="headerlink" title="常见场景示例"></a><strong>常见场景示例</strong></h3><ul><li><strong>获取本周的起始和结束日期</strong></li></ul><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">val today &#x3D; Clock.System.todayIn(TimeZone.currentSystemDefault())val startOfWeek &#x3D; today - DatePeriod(days &#x3D; today.dayOfWeek.ordinal)val endOfWeek &#x3D; startOfWeek + DatePeriod(days &#x3D; 6)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><ul><li><strong>计算任务执行时间</strong></li></ul><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">val startTime &#x3D; Clock.System.now()&#x2F;&#x2F; 执行任务...val endTime &#x3D; Clock.System.now()val elapsed &#x3D; endTime - startTimeprintln(&quot;耗时: $&#123;elapsed.inWholeSeconds&#125; 秒&quot;)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Android </category>
          
          <category> 基础语法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android </tag>
            
            <tag> Kotlin </tag>
            
            <tag> 基础语法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>安卓（3）-实用篇：UI（1）</title>
      <link href="/2025/01/29/android-3/"/>
      <url>/2025/01/29/android-3/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><blockquote><p>2024 年我开始逐渐介入客户端的研发，因此我开始学习客户端的知识。<br>从服务端开始，转到前端来其实完全代表着我的编码风格的转变。我喜欢 UI 编程那「所见即所得」的惊艳，也喜欢人机交互相关的内容。<br>做 C 端 App，前端技术实际上更多是一种强行「卷」过来的结果：首先，基础肯定是客户端技术 Android&#x2F;iOS，但是前端的作用越来越清晰。当然，目前的大环境下走入前端甚至客户端开发通常被认为是一种开倒车的举动。但这种东西谁又说得好呢——难道做算法调优几个版本实验指标波动，亦或者做服务端大半夜被机器人打电话就能让人兴奋了吗？<br>人总有无知的时候，在已知信息差的时候我们总有一天要为认知买单。所以就让我们为梦想，做出一次不那么受到束缚的选择吧。<br>这是安卓系列的第一期，它包含以下内容：<br><a href="/2025/01/29/android-1/">安卓（1）-语法基础：Kotlin ＆ Java ＆ TS 对比</a><br><a href="/2025/01/29/android-2/">安卓（2）-语法基础：Kotlin 常用库（1）</a><br><a href="/2025/01/29/android-3/">安卓（3）-实用篇：UI（1）</a><br>我使用了 AI 来辅助我创作了一些重复性的工作，第一期内容会以相关知识的罗列为主，所以最好的阅读方式是阅读后进行查漏补缺。<br>希望大家可以喜欢这些教程！</p></blockquote><p>本文是安卓系列的第三个内容，主要介绍了 UI 范式相关的内容，用于构建用户页面。学习了这些内容后，我们就可以使用 Kotlin 和安卓 UI 范式直接上手开发我们的 App 了。</p><h2 id="UI-范式"><a href="#UI-范式" class="headerlink" title="UI 范式"></a>UI 范式</h2><h3 id="1-1-安卓各-UI-范式简介与区别"><a href="#1-1-安卓各-UI-范式简介与区别" class="headerlink" title="1.1 安卓各 UI 范式简介与区别"></a>1.1 安卓各 UI 范式简介与区别</h3><p>XML 主要是一种用于描述布局的标记语言，是传统 Android UI 开发中用于辅助<code>View</code>体系构建布局的工具。<code>View</code>是 Android UI 的核心基础组件体系，是构建传统 Android UI 的基本单元。而 Jetpack Compose 是一种独立的 UI 构建方案，它可以在一定程度上替代传统的<code>View</code>体系和 XML 布局方式。</p><p>XML 和<code>View</code>体系一起构成了传统的 Android UI 方案，用于构建从简单到复杂的各种 UI 界面。Jetpack Compose 则是一种新的、现代化的 UI 方案，提供了不同的 UI 构建逻辑和体验，用于满足日益复杂的 Android UI 开发需求，特别是在处理动态 UI 和状态管理方面有出色的表现。</p><h3 id="1-2-XML-View-传统范式"><a href="#1-2-XML-View-传统范式" class="headerlink" title="1.2 XML + View: 传统范式"></a>1.2 XML + View: 传统范式</h3><p>我们来创建一个简单的 Android 界面，界面中有一个垂直方向的线性布局（<code>LinearLayout</code>，属于<code>ViewGroup</code>），在线性布局中包含一个按钮（<code>Button</code>，属于<code>View</code>）和一个列表视图（<code>ListView</code>，属于<code>View</code>，且依赖于<code>Adapter</code>来提供数据展示，这里简化处理）。点击按钮可以在列表中添加一条默认的文本数据。</p><ol><li>创建 XML 布局文件（activity_main.xml）</li></ol><p>在<code>layout</code>目录下创建<code>activity_main.xml</code>文件：</p><pre class="line-numbers language-XML" data-language="XML"><code class="language-XML">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;utf-8&quot;?&gt;&lt;LinearLayout xmlns:android&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res&#x2F;android&quot;    android:layout_width&#x3D;&quot;match_parent&quot;    android:layout_height&#x3D;&quot;match_parent&quot;    android:orientation&#x3D;&quot;vertical&quot;&gt;    &lt;Button        android:id&#x3D;&quot;@+id&#x2F;add_item_button&quot;        android:layout_width&#x3D;&quot;wrap_content&quot;        android:layout_height&#x3D;&quot;wrap_content&quot;        android:text&#x3D;&quot;添加列表项&quot; &#x2F;&gt;    &lt;ListView        android:id&#x3D;&quot;@+id&#x2F;list_view&quot;        android:layout_width&#x3D;&quot;match_parent&quot;        android:layout_height&#x3D;&quot;wrap_content&quot; &#x2F;&gt;&lt;&#x2F;LinearLayout&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>我们具体做了什么：</p><ul><li>整体定义了一个垂直方向（通过<code>android:orientation=&quot;vertical&quot;</code>指定）的线性布局（<code>LinearLayout</code>），它是一个<code>ViewGroup</code>，作为整个界面的根布局容器，用于管理其内部子视图的布局排列方式。</li><li>在线性布局内部，定义了一个按钮（<code>Button</code>）和一个列表视图（<code>ListView</code>），它们都是<code>View</code>的具体子类。按钮用于触发添加列表项的操作，列表视图用于展示数据列表。通过<code>android:id</code>属性为它们分别指定了唯一的标识符，方便在代码中通过<code>findViewById</code>方法找到对应的视图对象。</li></ul><ol><li>创建 Activity 类</li></ol><p><code>MainActivity.java</code></p><pre class="line-numbers language-Java" data-language="Java"><code class="language-Java">package com.example.myapplication;import androidx.appcompat.app.AppCompatActivity;import android.os.Bundle;import android.view.View;import android.widget.ArrayAdapter;import android.widget.Button;import android.widget.ListView;import java.util.ArrayList;import java.util.List;public class MainActivity extends AppCompatActivity &#123;    private ListView listView;    private Button addItemButton;    private List&lt;String&gt; dataList &#x3D; new ArrayList&lt;&gt;();    private ArrayAdapter&lt;String&gt; adapter;    @Override    protected void onCreate(Bundle savedInstanceState) &#123;        super.onCreate(savedInstanceState);        setContentView(R.layout.activity_main);        &#x2F;&#x2F; 通过findViewById方法找到XML中定义的视图对象        listView &#x3D; findViewById(R.id.list_view);        addItemButton &#x3D; findViewById(R.id.add_item_button);        adapter &#x3D; new ArrayAdapter&lt;&gt;(this, android.R.layout.simple_list_item_1, dataList);        listView.setAdapter(adapter);        addItemButton.setOnClickListener(new View.OnClickListener() &#123;            @Override            public void onClick(View v) &#123;                &#x2F;&#x2F; 点击按钮时添加一条默认文本数据到列表                dataList.add(&quot;新的列表项&quot;);                adapter.notifyDataSetChanged();            &#125;        &#125;);    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>在这个<code>Activity</code>类中：</p><ul><li>首先通过<code>setContentView(R.layout.activity_main)</code>方法加载了之前创建的<code>XML</code>布局文件，这一步使得<code>XML</code>中定义的布局结构和视图组件能够在<code>Activity</code>中生效。</li><li>然后使用<code>findViewById</code>方法根据<code>XML</code>中定义的<code>id</code>来获取对应的<code>View</code>对象，也就是获取到了按钮（<code>addItemButton</code>）和列表视图（<code>listView</code>）。这里体现了<code>XML</code>和<code>View</code>的关联，<code>XML</code>只是用于描述布局和视图的定义，而要在代码中操作这些视图，就需要通过<code>findViewById</code>来获取具体的视图实例，它们是一一对应的关系。</li><li>接着创建了一个数据列表（<code>dataList</code>）和一个<code>ArrayAdapter</code>，用于将数据适配并展示在<code>ListView</code>中。</li><li>最后为按钮设置了点击监听器，当按钮被点击时，向数据列表中添加一条新的数据，并通过<code>adapter.notifyDataSetChanged()</code>通知适配器数据发生了变化，从而使得<code>ListView</code>更新显示内容。</li></ul><p>我们可以对这种开发范式进行一个总结：</p><h3 id="1-3-Compose-新范式"><a href="#1-3-Compose-新范式" class="headerlink" title="1.3 Compose: 新范式"></a>1.3 Compose: 新范式</h3><h4 id="1-3-1-传统范式的缺陷"><a href="#1-3-1-传统范式的缺陷" class="headerlink" title="1.3.1 传统范式的缺陷"></a>1.3.1 传统范式的缺陷</h4><p>我想前端同学看到传统范式，就会联想到 html + JS 的开发范式吧~</p><p>正如大家所想，html + JS 的缺点，XML + Model 层同样存在。例如在我们刚刚的例子中：</p><ol><li>代码分离导致的理解成本增加<ul><li>在基于 XML 的传统开发方式中，布局定义（XML 文件）和逻辑代码（Java 或 Kotlin 代码）是分离的。例如，在<code>activity_main.xml</code>文件中定义了按钮和列表视图的布局结构，但它们的实际行为（如按钮的点击事件处理和列表视图的数据更新）是在<code>MainActivity</code>类中实现的。</li><li>这使得开发者需要在两个不同的地方切换思维来理解整个 UI 的构建和功能实现。对于复杂的界面，可能会有多个 XML 布局文件和大量的代码来处理视图操作，这增加了代码的整体理解成本，尤其是对于新接触项目的开发者来说，可能需要花费更多的时间来梳理布局和逻辑之间的关系。</li></ul></li><li>缺乏动态性和灵活性<ul><li>XML 布局相对来说是静态的。虽然可以通过代码来修改视图的属性，但对于动态变化较多的 UI 场景，操作起来比较繁琐。</li><li>比如在这个案例中，当需要在列表视图中添加新的项时，需要通过操作数据适配器（<code>ArrayAdapter</code>）并调用<code>notifyDataSetChanged</code>方法来更新视图。如果要根据不同的条件动态地改变布局结构，如根据数据量的多少显示或隐藏某些视图，或者改变视图的排列方式，就需要在代码中进行复杂的判断和操作，并且可能需要频繁地修改 XML 布局和对应的逻辑代码。</li></ul></li><li>编译时错误检查的局限性<ul><li>XML 布局在编译时只能检查基本的语法错误和一些属性的合法性。对于布局结构是否在运行时能够正确地与逻辑代码配合，很难在编译阶段发现问题。</li><li>例如，在 XML 中可能正确地定义了一个视图的<code>id</code>，但在代码中可能会因为拼写错误或者忘记调用<code>findViewById</code>方法而导致无法正确获取和操作视图。这种运行时才可能发现的错误增加了调试的难度和时间成本。</li></ul></li><li>布局嵌套导致的性能和维护问题<ul><li>当使用 XML 构建复杂的 UI 时，不可避免地会使用到大量的布局嵌套。例如，为了实现特定的布局效果，可能会在一个<code>LinearLayout</code>中嵌套多个<code>RelativeLayout</code>，再在这些布局中包含各种视图。</li><li>过多的布局嵌套会影响性能，因为每个布局在绘制时都有一定的开销。而且，从维护的角度来看，复杂的布局嵌套会使代码变得臃肿，当需要修改布局时，可能会牵一发而动全身，影响到其他相关的布局和逻辑部分。</li></ul></li></ol><p>除了 4，可以说 1-3 都是前端在写三件套的时候，非常感同身受的缺陷了。同样的，安卓也为我们准备了类似于前端框架（统一维护 + 组件化 + 数据驱动）的方案，这就是 Jetpack Compose：</p><p>Google 官方给出了 Compose 相比于 View 的优越性：<a href="https://juejin.cn/post/6981354014453547039">Jetpack Compose 使用前后对比为了包含 Jetpack Compose 1.0.0-beta05 的更新内 - 掘金</a></p><blockquote><p><strong>在使用了 Compose 后，我们发现 APK 大小缩减了 41%，方法数减少了 17%</strong><br>XML 行数大幅减少了 **76%**。再见了，布局文件，以及 styles、theme 等其他的 XML 文件。<br>考虑到 Kotlin 编译器与 Compose 编译器插件为我们所做的事情，如位置记忆化、细粒度重组等工作，构建时间能够 <strong>减少 29%。可查看：</strong><a href="https://link.juejin.cn/?target=https://zhuanlan.zhihu.com/p/267250784">link.juejin.cn</a></p></blockquote><p>Compose 同时也具备跨平台的功能，并且在多端中保持了较好的 UI 一致性。</p><h4 id="1-3-2-Compose-重写功能"><a href="#1-3-2-Compose-重写功能" class="headerlink" title="1.3.2 Compose 重写功能"></a>1.3.2 Compose 重写功能</h4><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">import android.os.Bundleimport androidx.activity.ComponentActivityimport androidx.activity.compose.setContentimport androidx.compose.foundation.layout.Columnimport androidx.compose.material3.Buttonimport androidx.compose.material3.MaterialThemeimport androidx.compose.material3.Surfaceimport androidx.compose.material3.Textimport androidx.compose.runtime.getValueimport androidx.compose.runtime.mutableStateListOfimport androidx.compose.runtime.rememberimport androidx.compose.runtime.setValueimport androidx.compose.ui.Modifierimport androidx.compose.ui.tooling.preview.Previewclass MainActivity : ComponentActivity() &#123;    override fun onCreate(savedInstanceState: Bundle?) &#123;        super.onCreate(savedInstanceState)        setContent &#123;            &#x2F;&#x2F; 使用Surface作为最外层容器，应用主题            Surface(modifier &#x3D; Modifier.fillMaxSize(), color &#x3D; MaterialTheme.colorScheme.background) &#123;                MyApp()            &#125;        &#125;    &#125;&#125;@Composablefun MyApp() &#123;    &#x2F;&#x2F; 记住一个可变的字符串列表，用于存储列表项数据    var dataList by remember &#123; mutableStateListOf&lt;String&gt;() &#125;    Column &#123;        Button(onClick &#x3D; &#123;            &#x2F;&#x2F; 点击按钮时添加一条默认文本数据到列表            dataList.add(&quot;新的列表项&quot;)        &#125;) &#123;            Text(&quot;添加列表项&quot;)        &#125;        &#x2F;&#x2F; 遍历dataList并显示每个列表项        dataList.forEach &#123; item -&gt;            Text(text &#x3D; item)        &#125;    &#125;&#125;@Preview(showBackground &#x3D; true)@Composablefun DefaultPreview() &#123;    MyApp()&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>不难看出，新方案具备如下优势：</p><ul><li>代码简洁性和可读性<ul><li>在传统的<code>View</code>、<code>ViewGroup</code>和<code>XML</code>结合的方式中，需要维护<code>XML</code>布局文件和对应的<code>Activity</code>或<code>Fragment</code>中的代码。<code>XML</code>文件用于定义布局结构，而在代码中需要通过<code>findViewById</code>等方式获取视图并设置其行为。这使得代码逻辑分散在不同的地方，增加了代码的复杂度。</li><li>而在 Compose 中，所有的 UI 相关代码都集中在可组合函数（如<code>MyApp</code>函数）中。通过组合各种<code>Composable</code>函数（如<code>Column</code>、<code>Button</code>、<code>Text</code>）来构建 UI，并且可以直接在函数内部处理交互逻辑（如按钮的点击事件）。这种声明式的方式使得代码更加简洁和易于理解，开发者可以更直观地看到 UI 的结构和行为是如何定义的。</li></ul></li><li>状态管理的便利性<ul><li>在传统方式中，当需要更新<code>ListView</code>中的数据时，需要操作<code>Adapter</code>并调用<code>notifyDataSetChanged</code>来通知视图更新。这涉及到多个对象之间的交互，并且容易出错。</li><li>Compose 通过<code>mutableStateListOf</code>和<code>remember</code>等机制使得状态管理更加方便。<code>var dataList by remember &#123; mutableStateListOf&lt;String&gt;() &#125;</code>这行代码创建了一个可被记住的可变状态列表。当列表数据发生变化（如按钮点击添加新项）时，Compose 会自动重新执行依赖于这个状态的 UI 部分（如遍历列表显示每个列表项的<code>Text</code>函数），从而更新 UI。<strong>这种自动更新机制减少了手动管理视图更新的工作量</strong>，降低了出错的概率。</li></ul></li><li>灵活性和动态 UI 构建<ul><li>传统的<code>XML</code>布局在构建复杂的动态 UI 时可能会变得很繁琐。例如，如果要根据不同的条件动态地添加或隐藏视图，需要在代码中通过<code>View</code>的<code>visibility</code>属性进行控制，并且可能需要修改<code>XML</code>布局结构来适应新的需求。</li><li>Compose 允许更灵活地构建动态 UI。由于所有的 UI 都是通过函数构建的，可以根据任何运行时条件动态地组合<code>Composable</code>函数。例如，可以根据用户权限或数据状态，轻松地在<code>Column</code>布局中添加或删除组件，或者改变组件的显示顺序，而不需要像传统方式那样考虑复杂的视图层次结构的修改。</li></ul></li></ul><h3 id="1-4-Compose-自定义组件"><a href="#1-4-Compose-自定义组件" class="headerlink" title="1.4 Compose 自定义组件"></a>1.4 Compose 自定义组件</h3><p>我们首先用一个常见的例子，对 Compose 自定义组件有一个粗浅的了解：</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">import android.os.Bundleimport androidx.activity.ComponentActivityimport androidx.activity.compose.setContentimport androidx.compose.foundation.layout.Columnimport androidx.compose.material3.Buttonimport androidx.compose.material3.MaterialThemeimport androidx.compose.material3.Surfaceimport androidx.compose.material3.Textimport androidx.compose.runtime.getValueimport androidx.compose.runtime.mutableStateListOfimport androidx.compose.runtime.rememberimport androidx.compose.runtime.setValueimport androidx.compose.ui.Modifierimport androidx.compose.ui.tooling.preview.Previewclass MainActivity : ComponentActivity() &#123;    override fun onCreate(savedInstanceState: Bundle?) &#123;        super.onCreate(savedInstanceState)        setContent &#123;            &#x2F;&#x2F; 使用Surface作为最外层容器，应用主题            Surface(modifier &#x3D; Modifier.fillMaxSize(), color &#x3D; MaterialTheme.colorScheme.background) &#123;                MyApp()            &#125;        &#125;    &#125;&#125;@Composablefun MyApp() &#123;    &#x2F;&#x2F; 状态管理部分    var dataList by remember &#123; mutableStateListOf&lt;String&gt;() &#125;  &#x2F;&#x2F; 第32行，声明可变状态列表，用于存储列表项数据，属于状态管理部分    Column &#123;        &#x2F;&#x2F; 事件处理部分        Button(onClick &#x3D; &#123;            &#x2F;&#x2F; 点击按钮时添加一条默认文本数据到列表，第36行，定义按钮点击事件的处理逻辑，属于事件处理部分            dataList.add(&quot;新的列表项&quot;)        &#125;) &#123;            Text(&quot;添加列表项&quot;)        &#125;        &#x2F;&#x2F; 遍历dataList并显示每个列表项，这部分涉及到状态管理与UI展示的结合，当dataList状态变化时，UI自动更新        dataList.forEach &#123; item -&gt;            Text(text &#x3D; item)        &#125;    &#125;&#125;@Preview(showBackground &#x3D; true)@Composablefun DefaultPreview() &#123;    MyApp()&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="1-4-1-状态管理"><a href="#1-4-1-状态管理" class="headerlink" title="1.4.1 状态管理"></a>1.4.1 状态管理</h4><h5 id="mutableState"><a href="#mutableState" class="headerlink" title="mutableState"></a>mutableState</h5><p>在<code>MyApp</code>这个可组合函数中：</p><ul><li><code>var dataList by remember &#123; mutableStateListOf&lt;String&gt;() &#125;</code>（第 32 行）：这一行声明了一个可变的状态列表<code>dataList</code>，它使用<code>remember</code>来确保在重组过程中能够记住这个状态，并且通过<code>mutableStateListOf</code>创建了一个可以被修改的列表类型的状态。每当这个列表的内容发生变化（比如通过按钮点击添加新元素），Compose 会自动重新执行依赖于这个状态的 UI 部分，也就是下面遍历列表展示每个列表项的<code>Text</code>部分，以此来更新界面显示。这属于状态管理部分，用于管理组件内部数据状态的变化以及和 UI 更新的关联。</li></ul><p>变量通过<code>mutableStateListOf</code>或者<code>mutableStateOf</code>包装后，当值发生变化（按钮点击导致列表更新），Compose 会自动重新执行依赖于这个状态的可组合函数（包含<code>Text</code>显示计数的部分），从而更新 UI。</p><p>除了基本对象使用<code>mutableStateOf</code>，列表对象使用 <code>mutableStateListOf</code> 以外，它们也可以用于包装一个对象。假设我们有一个自定义的数据类<code>User</code>：</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">data class User(val name: String, val age: Int)@Composablefun UserDisplay() &#123;    var user by remember &#123; mutableStateOf(User(&quot;John&quot;, 30)) &#125;    Button(onClick &#x3D; &#123; user &#x3D; user.copy(age &#x3D; user.age + 1) &#125;) &#123;        Text(&quot;User&#39;s age: $&#123;user.age&#125;&quot;)    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>当按钮点击修改<code>user</code>对象的<code>age</code>属性（通过创建一个新的<code>User</code>对象副本实现），由于<code>user</code>是一个可变状态，UI 会自动更新显示新的年龄。</p><p>当然，<code>user</code> 已经不是原来的那个 <code>user</code> 了。所以类似于 React 的对象 State，必须要地址变更才会触发 UI 变更。</p><p>这其中有一个细节：<code>remember</code>函数。可以类比于前端的 <code>useMemo</code>。</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">@Composablefun ComplexLayout() &#123;    val screenDensity &#x3D; LocalDensity.current    val layoutSize by remember(screenDensity) &#123;        &#x2F;&#x2F; 复杂的计算尺寸的逻辑，这里简化为返回一个固定值        mutableStateOf(100.dp.toPx())    &#125;    Box(        modifier &#x3D; Modifier           .size(layoutSize)           .background(Color.Gray)    )&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>在这里，<code>layoutSize</code>的计算结果通过<code>remember</code>进行缓存。只要<code>screenDensity</code>不变，这个计算结果就不会被重新计算，提高了性能。</p><h5 id="LaunchedEffect"><a href="#LaunchedEffect" class="headerlink" title="LaunchedEffect"></a>LaunchedEffect</h5><p>当需要从外部获取数据（如网络请求、数据库查询等）来更新 UI 时，可以使用<code>LaunchedEffect</code>。例如：</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">@Composablefun DataFetchScreen() &#123;    val viewModel &#x3D; viewModel&lt;MyViewModel&gt;()    val data by viewModel.data.collectAsState()    LaunchedEffect(Unit) &#123;        viewModel.fetchData()    &#125;    &#x2F;&#x2F; 根据获取到的数据展示UI    data.forEach &#123; item -&gt;        Text(item)    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>LaunchedEffect</code>在可组合函数首次组合或者其依赖的键发生变化时，触发<code>viewModel.fetchData()</code>来获取数据，当数据获取成功并更新<code>viewModel</code>中的数据状态后，由于<code>collectAsState</code>会收集这个状态变化，依赖这个状态的 UI 部分（显示数据的<code>Text</code>组件）会自动更新。</p><h5 id="MVVM-范式"><a href="#MVVM-范式" class="headerlink" title="MVVM 范式"></a>MVVM 范式</h5><p>接上个例子，我们如果想把 UI 和 Model 分离，我们可以通过观察 ViewModel 中的状态并传递给可组合函数。</p><p>在 Activity 中，通常会使用 ViewModel 来管理数据状态。例如，定义一个包含数据状态的 ViewModel：</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">class MyViewModel : ViewModel() &#123;    val data &#x3D; MutableLiveData&lt;List&lt;String&gt;&gt;()    fun fetchData() &#123;        &#x2F;&#x2F; 模拟获取数据并更新状态        val newData &#x3D; listOf(&quot;Data 1&quot;, &quot;Data 2&quot;)        data.value &#x3D; newData    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>然后在 Activity 的<code>setContent</code>方法中，将 ViewModel 中的状态传递给可组合函数：</li></ul><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">class MainActivity : ComponentActivity() &#123;    override fun onCreate(savedInstanceState: Bundle?) &#123;        super.onCreate(savedInstanceState)        val viewModel &#x3D; viewModel&lt;MyViewModel&gt;()        setContent &#123;            val data by viewModel.data.observeAsState(listOf())            MyComposable(data)        &#125;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>当 ViewModel 中的<code>data</code>状态发生变化时，传递给可组合函数<code>MyComposable</code>的数据也会改变，进而触发可组合函数内部的重组（如果数据被用于 UI 显示并正确处理了状态变化），从而更新 Activity 中的 UI。</li></ul><h4 id="1-4-2-参数传递"><a href="#1-4-2-参数传递" class="headerlink" title="1.4.2 参数传递"></a>1.4.2 参数传递</h4><p>我们在状态管理中，已经提及了将 ViewModel 中的状态传递给可组合函数。那么参数传递也能控制 UI 暂时吗？</p><p>参数不一定能直接控制 UI 变更：虽然参数在很多情况下会影响 UI，但并非所有参数的改变都必然导致 UI 变更。这取决于 Compose 的优化机制和函数内部的实现逻辑。例如，如果一个参数只是在函数内部用于一些计算，但不直接影响到最终绘制的 UI 元素，那么它的变化可能不会触发 UI 更改。</p><p>在我们的简单示例中，并没有明显体现外部参数传递，不过可以设想一下扩展情况。比如，如果想让按钮的文本内容可以由外部传入来定制，那么可以这样修改代码：</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">@Composablefun MyApp(customButtonText: String &#x3D; &quot;添加列表项&quot;) &#123;  &#x2F;&#x2F; 新增参数，并有默认值，外部可传入自定义文本，此处属于参数传递部分，用于接收外部传入参数并设置默认值    var dataList by remember &#123; mutableStateListOf&lt;String&gt;() &#125;    Column &#123;        Button(onClick &#x3D; &#123;            dataList.add(&quot;新的列表项&quot;)        &#125;) &#123;            Text(customButtonText)  &#x2F;&#x2F; 使用传入的参数作为按钮文本        &#125;        dataList.forEach &#123; item -&gt;            Text(text &#x3D; item)        &#125;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>在上述修改后的代码中，<code>MyApp</code>函数新增了<code>customButtonText</code>参数，外部调用<code>MyApp</code>函数时可以传入一个字符串来指定按钮上显示的文本，如果不传则使用默认值<code>&quot;添加列表项&quot;</code>，这展示了参数传递部分，通过接收外部参数来定制组件的部分表现形式。</p><p>当参数是基本数据类型（如 <code>Int</code>、<code>Boolean</code>、<code>String</code> 等）且在可组合函数内部被用于确定 UI 的显示内容或布局等关键方面时，参数的变化一般会导致 UI 随之变更。例如，我们刚刚的例子，String 的对象直接触发了更新。</p><p>然而，如果参数在函数内部没有被正确地关联到 UI 元素的更新逻辑上，即使参数变化了，UI 也可能不会更新。</p><p>对象参数的情况较为复杂：如果参数是一个对象，仅仅是对象内部某些属性的改变，并不一定会导致 UI 变更。Compose 主要是通过对可组合函数的输入进行比较来判断是否需要重组 UI。对于对象参数，默认情况下是基于对象的引用（地址）进行比较的。<strong>只有当对象的引用发生变化时，Compose 才会认为输入发生了实质性改变，从而可能触发 UI 重组。</strong></p><p>但如果在可组合函数内部手动实现了对对象属性变化的监测和相应的 UI 更新逻辑，那么即使对象地址不变，只要其关键属性发生改变，也可以实现 UI 的更新。例如，使用 <code>mutableStateOf</code> 包装对象或其属性，并在可组合函数中正确处理状态变化，就可以在对象内部属性改变时更新 UI。我们刚刚的 MVVM 例子，就属于此类。所以，在 Compose 中，Model 和 UI 可以充分解耦，<del>比 React 确实更先进。</del></p><h4 id="1-4-3-事件处理"><a href="#1-4-3-事件处理" class="headerlink" title="1.4.3 事件处理"></a>1.4.3 事件处理</h4><p>在按钮的定义部分：<br><code>Button(onClick = &#123; dataList.add(&quot;新的列表项&quot;) &#125;) &#123; Text(&quot;添加列表项&quot;) &#125;</code>（第 36 行左右）：这里定义了按钮组件的点击事件处理逻辑。当按钮被点击时，会执行<code>onClick</code>参数所对应的代码块，也就是向<code>dataList</code>中添加一个新的字符串元素。这个操作改变了前面提到的状态列表，进而触发 UI 的更新。这就是典型的用户交互事件处理，属于事件处理部分，用于定义组件如何响应各种用户操作行为。</p><p>以下是常用的事件处理表格：</p><table><thead><tr><th>事件名称</th><th>描述</th><th>示例代码</th></tr></thead><tbody><tr><td><code>onClick</code></td><td>用于处理点击事件，当用户点击组件时触发相应逻辑</td><td></td></tr></tbody></table><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">import androidx.compose.foundation.layout.Boximport androidx.compose.material.Buttonimport androidx.compose.material.Textimport androidx.compose.runtime.*@Composablefun ButtonExample() &#123;    var clickCount: Int by remember &#123; mutableStateOf(0) &#125;    Box &#123;        Button(            onClick &#x3D; &#123;                &#x2F;&#x2F; 这里是点击按钮后的代码块                clickCount++            &#125;        ) &#123;            &#x2F;&#x2F; 这里是按钮显示文本的代码块            Text(&quot;点击了 $clickCount 次&quot;)        &#125;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p> |<br>|<code>onLongClick</code> |处理长按事件，用户长按组件时执行特定操作 |</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">@Composablefun LongClickExample() &#123;    var longClickMessage by remember &#123; mutableStateOf(&quot;未长按&quot;) &#125;    Box(        modifier &#x3D; Modifier         .size(100.dp)         .background(Color.Gray)         .onLongClick &#123; longClickMessage &#x3D; &quot;长按了组件&quot; &#125;    ) &#123;        Text(longClickMessage)    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p> |<br>|<code>onScroll</code> |当组件可滚动且发生滚动操作时触发，可获取滚动状态信息 |</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">@Composablefun ScrollExample() &#123;    val scrollState &#x3D; rememberScrollState()    Column(modifier &#x3D; Modifier     .fillMaxSize()     .verticalScroll(scrollState)) &#123;        repeat(20) &#123;            Text(&quot;第 $it 项&quot;)        &#125;        Text(&quot;当前滚动偏移量: $&#123;scrollState.value&#125;&quot;)    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p> |<br>|<code>onDrag</code> |处理拖动事件，用于实现可拖动组件的交互逻辑 |</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">@Composablefun DragExample() &#123;    var dragPosition by remember &#123; mutableStateOf(Offset.Zero) &#125;    Box(        modifier &#x3D; Modifier          .size(50.dp)          .offset &#123; dragPosition &#125;          .background(Color.Blue)          .draggable(                orientation &#x3D; Orientation.Horizontal,                onDrag &#x3D; &#123; change -&gt;                    dragPosition +&#x3D; change                &#125;            )    ) &#123;        &#x2F;&#x2F; 这里可以添加Box的内容，如果不需要可以保留空块    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p> |</p><h4 id="1-4-4-组合和复用"><a href="#1-4-4-组合和复用" class="headerlink" title="1.4.4 组合和复用"></a>1.4.4 组合和复用</h4><p>在<code>MyApp</code>函数中：<br><code>Column &#123;... &#125;</code>（从第 35 行开始到结尾部分）：这里使用<code>Column</code>布局组件来组合内部的按钮和列表项显示部分。<code>Column</code>会将其内部的子组件按照垂直方向依次排列，通过这种方式将按钮和列表展示逻辑组合在一起，形成了一个相对完整的自定义组件功能。并且这个<code>MyApp</code>函数本身就可以在多个地方被复用，比如在不同的<code>Activity</code>的<code>setContent</code>方法中调用，或者在其他更复杂的可组合函数中作为一个子组件被嵌入使用，体现了组件的复用性。通过合理地组合内部组件以及设计良好的函数接口，使得整个组件可以方便地在不同场景下被重复利用，这就是组合和复用部分的体现。</p><h4 id="1-4-5-渲染控制"><a href="#1-4-5-渲染控制" class="headerlink" title="1.4.5 渲染控制"></a>1.4.5 渲染控制</h4><h5 id="条件：if"><a href="#条件：if" class="headerlink" title="条件：if"></a>条件：if</h5><p>在 Jetpack Compose 中，<code>if</code>语句可以根据条件来决定是否渲染某个组件或者组件的一部分。</p><p>基于之前的例子，假设我们想要根据列表<code>dataList</code>是否为空来显示不同的提示信息。修改后的<code>MyApp</code>函数如下：</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">@Composablefun MyApp() &#123;    var dataList by remember &#123; mutableStateListOf&lt;String&gt;() &#125;    Column &#123;        Button(onClick &#x3D; &#123;            dataList.add(&quot;新的列表项&quot;)        &#125;) &#123;            Text(&quot;添加列表项&quot;)        &#125;        if (dataList.isEmpty()) &#123;            Text(&quot;列表为空&quot;)        &#125; else &#123;            dataList.forEach &#123; item -&gt;                Text(text &#x3D; item)            &#125;        &#125;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>当<code>dataList</code>为空时（<code>dataList.isEmpty()</code>为<code>true</code>），只会渲染一个显示 “列表为空” 的<code>Text</code>组件。</li><li>当<code>dataList</code>不为空时，就会遍历<code>dataList</code>并渲染每个列表项对应的<code>Text</code>组件。这种<code>if</code>语句的使用方式使得 UI 的渲染可以根据数据状态的不同而灵活变化，提供了一种简单有效的条件渲染控制。</li></ul><h5 id="遍历：forEach"><a href="#遍历：forEach" class="headerlink" title="遍历：forEach"></a>遍历：forEach</h5><p>在之前的例子中，<code>forEach</code>已经用于遍历<code>dataList</code>来渲染列表项。</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">dataList.forEach &#123; item -&gt;    Text(text &#x3D; item)&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><ul><li>在这里，<code>forEach</code>会对<code>dataList</code>中的每个元素执行一次代码块。对于每个元素，都会创建一个<code>Text</code>组件来显示该元素的内容。这种方式在处理列表、数组等集合类型的数据时非常有用，可以方便地根据集合中的元素数量和内容来动态渲染 UI 组件。</li><li>当<code>dataList</code>的内容发生变化（例如，通过按钮点击添加了新的元素），Compose 会检测到<code>dataList</code>这个状态的变化，并且重新执行依赖于这个状态的<code>forEach</code>部分，从而更新 UI，显示新的列表项。这展示了<code>forEach</code>在与状态管理结合时，如何有效地控制组件的渲染，以适应数据的动态变化。</li></ul><h4 id="1-4-6-布局组件"><a href="#1-4-6-布局组件" class="headerlink" title="1.4.6 布局组件"></a>1.4.6 布局组件</h4><table><thead><tr><th>布局组件</th><th>功能描述</th><th>示例场景</th><th>示例代码（关键部分）</th></tr></thead><tbody><tr><td>Column</td><td>子组件按垂直方向排列</td><td>用户信息展示（用户名、头像、简介垂直堆叠）</td><td></td></tr></tbody></table><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">@Composablefun MyColumn() &#123;    Column &#123;        Text(text &#x3D; &quot;第一行文本&quot;)        Text(text &#x3D; &quot;第二行文本&quot;)        Text(text &#x3D; &quot;第三行文本&quot;)    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p> |<br>|Row |子组件按水平方向排列 |工具条中多个按钮排列（如搜索、设置按钮） |</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">Row &#123;    Button(onClick &#x3D; &#123; &#x2F;* 点击事件处理 *&#x2F; &#125;) &#123;        Text(&quot;按钮1&quot;)    &#125;    Button(onClick &#x3D; &#123; &#x2F;* 点击事件处理 *&#x2F; &#125;) &#123;        Text(&quot;按钮2&quot;)    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p> |<br>|Box |子组件堆叠，通过<code>Modifier</code>控制位置和对齐 |加载动画覆盖在内容之上 |</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">Box(    modifier &#x3D; Modifier.fillMaxSize()) &#123;    Text(        text &#x3D; &quot;这是内容文本&quot;,        modifier &#x3D; Modifier.align(Alignment.Center)    )    CircularProgressIndicator(        modifier &#x3D; Modifier.align(Alignment.TopEnd)    )&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p> |<br>|ConstraintLayout（Compose版） |通过定义子组件间约束关系确定位置，用于复杂布局 |制作有重叠元素和复杂对齐要求的表单 |</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">ConstraintLayout(    modifier &#x3D; Modifier.fillMaxSize()) &#123;    val (button, text) &#x3D; createRefs()    Button(        onClick &#x3D; &#123; &#x2F;* 点击事件处理 *&#x2F; &#125;,        modifier &#x3D; Modifier.constrainAs(button) &#123;            top.linkTo(parent.top)            start.linkTo(parent.start)        &#125;    ) &#123;        Text(&quot;按钮&quot;)    &#125;    Text(        &quot;文本内容&quot;,        modifier &#x3D; Modifier.constrainAs(text) &#123;            top.linkTo(button.bottom)            start.linkTo(parent.start)        &#125;    )&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p> |<br>|LazyColumn&#x2F;LazyRow |懒加载，仅加载屏幕可见子组件，用于长列表或长布局 |新闻列表应用（滚动加载新闻项） |</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">LazyColumn &#123;    val dataList &#x3D; listOf(&quot;数据1&quot;, &quot;数据2&quot;, &quot;数据3&quot;, &quot;数据4&quot;, &quot;数据5&quot;)    items(dataList.size) &#123; index -&gt;        Text(dataList[index])    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p> |</p><h3 id="1-5-深入学习-Compose"><a href="#1-5-深入学习-Compose" class="headerlink" title="1.5 深入学习 Compose"></a>1.5 深入学习 Compose</h3><h4 id="1-5-1-常见概念解释"><a href="#1-5-1-常见概念解释" class="headerlink" title="1.5.1 常见概念解释"></a>1.5.1 常见概念解释</h4><h5 id="可组合函数（Composable-Functions）"><a href="#可组合函数（Composable-Functions）" class="headerlink" title="可组合函数（Composable Functions）"></a>可组合函数（Composable Functions）</h5><ul><li>定义与用途：这是 Compose 的核心概念。可组合函数是用 Kotlin 编写的函数，通过<mark style="background-color: #BBBFC4"><code>@Composable</code></mark>注解标记。它们用于描述 UI 的一部分，就像构建 UI 的积木块。例如，一个简单的显示文本的可组合函数如下：</li></ul><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">@Composablefun MyText() &#123;    Text(&quot;Hello, Compose!&quot;)&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><ul><li>组合方式：可组合函数可以互相组合来构建复杂的 UI。比如，在一个垂直布局的 UI 中，可以将多个不同的可组合函数组合在一起，像这样：</li></ul><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">@Composablefun MyComplexUI() &#123;    Column &#123;        MyText()        AnotherComposableFunction()    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>理解可组合函数是学习 Compose 开发的基础，因为所有的 UI 构建都是围绕它们展开的。它们使得 UI 开发更具模块化和可维护性，每个函数负责特定的 UI 部分，便于复用和更新。</p><h5 id="状态（State）和重组（Recomposition）"><a href="#状态（State）和重组（Recomposition）" class="headerlink" title="状态（State）和重组（Recomposition）"></a>状态（State）和重组（Recomposition）</h5><ul><li>状态管理：在 Compose 中，状态是驱动 UI 更新的关键。状态可以是简单的数据类型（如布尔值、整数、字符串等）或复杂的数据结构（如列表、自定义对象等）。使用<code>mutableStateOf</code>或<code>mutableStateListOf</code>等函数来创建可变状态。例如：</li></ul><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">@Composablefun Counter() &#123;    var count by remember &#123; mutableStateOf(0) &#125;    Button(onClick &#x3D; &#123; count++ &#125;) &#123;        Text(&quot;Count: $count&quot;)    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>重组机制：当状态发生变化时，Compose 会自动重新执行依赖于该状态的可组合函数，这就是重组。重组是高效的，Compose 会尽可能地只更新受影响的 UI 部分。例如，在上述计数器的例子中，每次点击按钮，<code>count</code>状态改变，包含<code>count</code>显示的<code>Text</code>组件所在的可组合函数会重新执行，更新 UI 显示新的计数。</li></ul><h5 id="布局（Layout）组件"><a href="#布局（Layout）组件" class="headerlink" title="布局（Layout）组件"></a>布局（Layout）组件</h5><ul><li>基本布局组件：Compose 提供了多种布局组件，如<code>Column</code>（垂直布局）、<code>Row</code>（水平布局）、<code>Box</code>（简单的堆叠布局）等。这些布局组件用于控制子组件的排列方式。例如，使用<code>Column</code>可以将多个组件垂直排列：</li></ul><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">@Composablefun VerticalLayout() &#123;    Column &#123;        Text(&quot;Top Text&quot;)        Text(&quot;Bottom Text&quot;)    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>嵌套布局：布局组件可以相互嵌套来实现更复杂的布局。例如，在一个<code>Row</code>布局中嵌套<code>Column</code>布局来创建一个类似表格的结构。理解布局组件的使用和嵌套规则对于构建各种复杂程度的 UI 界面至关重要。</li></ul><h5 id="材质设计（Material-Design）组件和主题（Theme）"><a href="#材质设计（Material-Design）组件和主题（Theme）" class="headerlink" title="材质设计（Material Design）组件和主题（Theme）"></a>材质设计（Material Design）组件和主题（Theme）</h5><ul><li>材质设计组件：Compose 支持 Material Design 规范，提供了许多符合该规范的组件，如<code>Button</code>、<code>TextField</code>、<code>Card</code>等。这些组件不仅具有预定义的外观，还遵循一定的交互规则，使得应用具有一致的、符合设计标准的用户体验。例如，<code>Button</code>组件在不同状态（如按下、禁用等）下有相应的视觉反馈。</li><li>主题应用：主题用于定义应用的整体颜色、字体、形状等外观属性。通过设置主题，可以确保应用中的所有组件具有统一的风格。例如，可以在主题中定义主色调、次色调，然后所有的<code>Button</code>、<code>Text</code>等组件会根据主题来应用相应的颜色。</li></ul><p>我们创建一个简单的界面，包含一个带有特定主题颜色的卡片（Card）组件，卡片中有一个标题（Text）和一个按钮（Button），按钮的颜色也根据主题来设定：</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">import androidx.compose.foundation.layout.Columnimport androidx.compose.material3.Cardimport androidx.compose.material3.MaterialThemeimport androidx.compose.material3.Textimport androidx.compose.material3.Buttonimport androidx.compose.runtime.Composableimport androidx.compose.ui.tooling.preview.Preview@Composablefun MyMaterialUI() &#123;    &#x2F;&#x2F; 定义一个卡片组件，使用主题中的颜色    Card(        &#x2F;&#x2F; 卡片的背景颜色使用主题中的表面颜色        backgroundColor &#x3D; MaterialTheme.colorScheme.surface    ) &#123;        Column &#123;            &#x2F;&#x2F; 标题文本，颜色使用主题中的主色调            Text(                text &#x3D; &quot;这是一个标题&quot;,                color &#x3D; MaterialTheme.colorScheme.primary            )            Button(                &#x2F;&#x2F; 按钮的背景颜色使用主题中的主色调                onClick &#x3D; &#123; &#x2F;* 按钮点击事件处理，这里暂为空 *&#x2F; &#125;,                color &#x3D; MaterialTheme.colorScheme.primary            ) &#123;                Text(&quot;点击我&quot;)            &#125;        &#125;    &#125;&#125;@Preview(showBackground &#x3D; true)@Composablefun DefaultPreview() &#123;    MyMaterialUI()&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>在这个例子中，<code>MaterialTheme.colorScheme</code>用于获取主题相关的<strong>颜色方案</strong>。<code>surface</code>颜色用于设置卡片的背景色，<code>primary</code>颜色用于设置标题文本和按钮的颜色。这样，通过主题可以统一管理整个应用的颜色风格，当需要修改主题颜色时，只需要在主题定义处修改相关的颜色值，所有使用该主题颜色的组件都会自动更新。</p><p>在这个例子中，我们使用了<code>Card</code>、<code>Text</code>和<code>Button</code>这三个符合 Material Design 规范的组件。<code>Card</code>组件提供了一种带有阴影效果的容器，用于突出显示内容。<code>Text</code>组件用于显示文本，其颜色等属性可以根据主题灵活设置。<code>Button</code>组件具有默认的外观和交互行为，如按下时的视觉反馈等，符合 Material Design 的设计原则，为用户提供了一致的操作体验。</p><h5 id="副作用（Side-Effects）函数（如-LaunchedEffect、DisposableEffect）"><a href="#副作用（Side-Effects）函数（如-LaunchedEffect、DisposableEffect）" class="headerlink" title="副作用（Side Effects）函数（如 LaunchedEffect、DisposableEffect）"></a>副作用（Side Effects）函数（如 LaunchedEffect、DisposableEffect）</h5><p>用途：在 Compose 中，副作用函数用于处理一些与外部系统交互或者有额外影响的操作。例如，<code>LaunchedEffect</code>用于在可组合函数内部启动协程，以执行异步操作，如从网络获取数据、进行动画播放等。</p><p>我们创建一个界面，在界面加载时从网络获取用户信息，并在获取成功后显示用户的姓名和邮箱：</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">import androidx.compose.foundation.layout.Columnimport androidx.compose.material3.Textimport androidx.compose.runtime.Composableimport androidx.compose.runtime.LaunchedEffectimport androidx.compose.runtime.getValueimport androidx.compose.runtime.mutableStateOfimport androidx.compose.runtime.rememberimport androidx.compose.ui.platform.LocalContextimport kotlinx.coroutines.Dispatchersimport kotlinx.coroutines.withContextimport java.net.URL@Composablefun UserInfoScreen() &#123;    val context &#x3D; LocalContext.current    val (userName, setUserName) &#x3D; remember &#123; mutableStateOf(&quot;&quot;) &#125;    val (userEmail, setUserEmail) &#x3D; remember &#123; mutableStateOf(&quot;&quot;) &#125;    LaunchedEffect(Unit) &#123;        val userInfo &#x3D; withContext(Dispatchers.IO) &#123;            try &#123;                &#x2F;&#x2F; 模拟从网络获取用户信息，这里使用一个简单的URL示例                val url &#x3D; URL(&quot;https:&#x2F;&#x2F;example.com&#x2F;user_info.json&quot;)                val connection &#x3D; url.openConnection()                connection.connect()                val inputStream &#x3D; connection.getInputStream()                &#x2F;&#x2F; 解析JSON数据获取用户姓名和邮箱，这里简化处理，假设数据格式简单                val userInfoString &#x3D; inputStream.bufferedReader().readLine()                val userInfoArray &#x3D; userInfoString.split(&quot;,&quot;)                Pair(userInfoArray[0], userInfoArray[1])            &#125; catch (e: Exception) &#123;                Pair(&quot;&quot;, &quot;&quot;)            &#125;        &#125;        setUserName(userInfo.first)        setUserEmail(userInfo.second)    &#125;    Column &#123;        Text(&quot;用户姓名: $userName&quot;)        Text(&quot;用户邮箱: $userEmail&quot;)    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><code>LaunchedEffect</code>的作用：在<code>UserInfoScreen</code>这个可组合函数中，<code>LaunchedEffect(Unit)</code>表示这个副作用只会在函数首次组合时触发一次（因为键是<code>Unit</code>）。在<code>LaunchedEffect</code>内部，通过<code>withContext(Dispatchers.IO)</code>在协程的<code>IO</code>调度器下执行从网络获取用户信息的操作。这是因为网络操作是一个耗时的<code>IO</code>操作，不能阻塞主线程。</li><li>状态更新和 UI 更新：获取到用户信息后，通过<code>setUserName</code>和<code>setUserEmail</code>来更新对应的状态。由于这些状态被<code>Text</code>组件所依赖，当状态更新时，Compose 会自动重新执行<code>UserInfoScreen</code>函数中依赖于这些状态的部分（也就是显示用户姓名和邮箱的<code>Text</code>组件），从而更新 UI，将获取到的用户信息显示出来。这样就实现了在界面加载时获取数据并更新 UI 的功能，利用<code>LaunchedEffect</code>处理了网络获取数据这个有副作用的操作。</li></ul><h4 id="1-5-2-修饰符"><a href="#1-5-2-修饰符" class="headerlink" title="1.5.2 修饰符"></a>1.5.2 修饰符</h4><ol><li><p>Compose 修饰符的分类</p><ul><li>布局修饰符：用于控制组件的布局方式，如<code>size</code>、<code>padding</code>、<code>fillMaxSize</code>等。这些修饰符可以改变组件的大小、间距和填充等布局属性。</li><li>外观修饰符：主要影响组件的外观，像<code>background</code>、<code>border</code>、<code>alpha</code>等。它们用于设置组件的背景颜色、边框以及透明度等外观特征。</li><li>行为修饰符：用于处理组件的行为相关属性，例如<code>clickable</code>、<code>draggable</code>、<code>focusable</code>等。这些修饰符使组件能够响应点击、拖动、获取焦点等用户交互行为。</li><li>组合修饰符：用于组合其他修饰符或者创建新的修饰符逻辑，比如<code>then</code>、<code>wrapContentSize</code>等。</li></ul></li><li><p>基本使用</p></li></ol><ul><li>布局修饰符示例 - <code>size</code><ul><li>功能：用于指定组件的宽度和高度。</li></ul></li></ul><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">import androidx.compose.foundation.layout.sizeimport androidx.compose.material3.Textimport androidx.compose.runtime.Composable@Composablefun SizedText() &#123;    Text(&quot;这是一个有固定大小的文本&quot;, modifier &#x3D; size(100.dp, 50.dp))&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>在这个例子中，<code>size(100.dp, 50.dp)</code>修饰符应用于<code>Text</code>组件，使得文本显示区域的宽度为<code>100dp</code>，高度为<code>50dp</code>。</p><ul><li>外观修饰符示例 - <code>background</code><ul><li>功能：设置组件的背景颜色。</li></ul></li></ul><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">import androidx.compose.foundation.layout.Boximport androidx.compose.foundation.layout.sizeimport androidx.compose.material3.MaterialThemeimport androidx.compose.material3.Textimport androidx.compose.runtime.Composableimport androidx.compose.ui.Modifierimport androidx.compose.ui.graphics.Color@Composabledef BackgroundBox() &#123;    Box(        modifier &#x3D; Modifier           .size(200.dp)           .background(Color.Green)    ) &#123;        Text(&quot;绿色背景的盒子&quot;)    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>解释：这里的<code>Box</code>组件使用<code>background(Color.Green)</code>修饰符，将其背景颜色设置为绿色。<code>size</code>修饰符用于确定<code>Box</code>的大小，以便更好地展示背景颜色效果。</p><ol><li>链式调用 + 效果叠加</li></ol><ul><li>示例：组合行为和外观修饰符实现交互效果叠加<ul><li>（链式调用）同时应用多个修饰符来实现复杂的效果，如设置大小并添加背景颜色。</li><li>（效果叠加）当用户与组件交互时，同时改变外观和行为响应。</li></ul></li></ul><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">import androidx.compose.foundation.clickableimport androidx.compose.foundation.layout.Boximport androidx.compose.foundation.layout.sizeimport androidx.compose.material3.MaterialThemeimport androidx.compose.material3.Textimport androidx.compose.runtime.Composableimport androidx.compose.ui.Modifierimport androidx.compose.ui.graphics.Colorimport androidx.compose.ui.unit.dp@Composabledef ModifiersOverlayBox() &#123;    Box(        modifier &#x3D; Modifier           .size(120.dp)           .background(Color.LightGray)           .clickable &#123; &#x2F;* 点击事件处理 *&#x2F; &#125;           .border(1.dp, Color.Black)    ) &#123;        Text(&quot;可点击、有边框且有背景色的盒子&quot;)    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>在这个例子中，<code>Box</code>组件具有灰色背景、黑色边框，并且添加了点击行为。这些修饰符的效果叠加在一起，当用户看到这个组件时，它有特定的外观，当用户与之交互（点击）时，又会触发相应的行为。这种效果叠加方式使得可以通过组合多个修饰符来创建丰富的、具有交互性的组件。</p><h4 id="1-5-3-副作用"><a href="#1-5-3-副作用" class="headerlink" title="1.5.3 副作用"></a>1.5.3 副作用</h4><p>在 1.4 中，我们有提到 LaunchedEffect，它属于副作用的一种。</p><p>在安卓 Jetpack Compose 中，副作用是指在可组合函数内部执行的，会对外部环境产生影响或者依赖于外部环境的操作。由于 Compose 的可组合函数主要是用于描述 UI 的声明式函数，理想情况下应该是无副作用的纯函数。但在实际应用中，像与外部系统交互（如网络请求、读取本地文件）、修改全局状态等操作都属于副作用。</p><h5 id="LaunchedEffect-1"><a href="#LaunchedEffect-1" class="headerlink" title="LaunchedEffect"></a>LaunchedEffect</h5><p>区别与用途：<code>LaunchedEffect</code>是用于在 Compose 中执行挂起函数（通常是异步操作）的副作用函数。它会在可组合函数首次被组合或者其键（<code>keys</code>）发生改变时启动一个协程来执行相应的操作。主要用于处理一次性的异步操作，如在界面加载时从网络获取数据、初始化动画等。</p><p>示例：假设我们有一个界面需要在加载时从网络获取用户信息并显示。</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">import androidx.compose.foundation.layout.Columnimport androidx.compose.material3.Textimport androidx.compose.runtime.Composableimport androidx.compose.runtime.LaunchedEffectimport androidx.compose.runtime.getValueimport androidx.compose.runtime.mutableStateOfimport androidx.compose.runtime.rememberimport androidx.compose.ui.platform.LocalContextimport kotlinx.coroutines.Dispatchersimport kotlinx.coroutines.withContextimport java.net.URL@Composablefun UserInfoScreen() &#123;    val context &#x3D; LocalContext.current    val (userName, setUserName) &#x3D; remember &#123; mutableStateOf(&quot;&quot;) &#125;    val (userEmail, setUserEmail) &#x3D; remember &#123; mutableStateOf(&quot;&quot;) &#125;    LaunchedEffect(Unit) &#123;        val userInfo &#x3D; withContext(Dispatchers.IO) &#123;            try &#123;                &#x2F;&#x2F; 模拟从网络获取用户信息，这里使用一个简单的URL示例                val url &#x3D; URL(&quot;https:&#x2F;&#x2F;example.com&#x2F;user_info.json&quot;)                val connection &#x3D; url.openConnection()                connection.connect()                val inputStream &#x3D; connection.getInputStream()                &#x2F;&#x2F; 解析JSON数据获取用户姓名和邮箱，这里简化处理，假设数据格式简单                val userInfoString &#x3D; inputStream.bufferedReader().readLine()                val userInfoArray &#x3D; userInfoString.split(&quot;,&quot;)                Pair(userInfoArray[0], userInfoArray[1])            &#125; catch (e: Exception) &#123;                Pair(&quot;&quot;, &quot;&quot;)            &#125;        &#125;        setUserName(userInfo.first)        setUserEmail(userInfo.second)    &#125;    Column &#123;        Text(&quot;用户姓名: $userName&quot;)        Text(&quot;用户邮箱: $userEmail&quot;)    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>在这个例子中，<code>LaunchedEffect(Unit)</code>表示这个副作用只会在<code>UserInfoScreen</code>可组合函数首次组合时触发一次（因为键是<code>Unit</code>）。在<code>LaunchedEffect</code>内部，通过<code>withContext(Dispatchers.IO)</code>在协程的<code>IO</code>调度器下执行从网络获取用户信息的操作。获取到用户信息后，通过<code>setUserName</code>和<code>setUserEmail</code>来更新对应的状态，从而更新 UI 显示用户信息。</p><h5 id="DisposableEffect"><a href="#DisposableEffect" class="headerlink" title="DisposableEffect"></a>DisposableEffect</h5><p>区别与用途：<code>DisposableEffect</code>主要用于在可组合函数被销毁或者其键（<code>keys</code>）发生改变时，执行清理资源的操作。这对于避免资源泄漏（如取消订阅、关闭文件流等）非常重要。</p><p>示例：假设我们在一个可组合函数中订阅了一个数据流，当可组合函数不再需要时（例如界面被关闭），需要取消订阅以避免内存泄漏。</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">import androidx.compose.foundation.layout.Columnimport androidx.compose.material3.Textimport androidx.compose.runtime.Composableimport androidx.compose.runtime.DisposableEffectimport androidx.compose.runtime.getValueimport androidx.compose.runtime.mutableStateListOfimport androidx.compose.runtime.rememberimport kotlinx.coroutines.flow.Flowimport kotlinx.coroutines.flow.flow@Composablefun DataStreamScreen() &#123;    val dataList &#x3D; remember &#123; mutableStateListOf&lt;String&gt;() &#125;    val dataFlow: Flow&lt;String&gt; &#x3D; flow &#123;        &#x2F;&#x2F; 模拟一个简单的数据流，不断发送数字字符串        var i &#x3D; 0        while (true) &#123;            emit(&quot;Data $i&quot;)            i++        &#125;    &#125;    val job &#x3D; remember &#123;        LaunchedEffect(dataFlow) &#123;            val job &#x3D; kotlinx.coroutines.launch &#123;                dataFlow.collect &#123; value -&gt;                    dataList.add(value)                &#125;            &#125;            onDispose &#123;                job.cancel()            &#125;        &#125;    &#125;    Column &#123;        dataList.forEach &#123; item -&gt;            Text(item)        &#125;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>在这个例子中，首先创建了一个<code>dataFlow</code>数据流，然后在<code>LaunchedEffect</code>中启动一个协程来收集这个数据流的数据并添加到<code>dataList</code>中。<code>DisposableEffect</code>通过<code>onDispose</code>块来确保在<code>LaunchedEffect</code>中的协程任务（用于收集流数据）在可组合函数不再需要时（例如，界面关闭或者<code>dataFlow</code>发生变化）被取消，从而正确地释放资源，避免内存泄漏。</p><h4 id="1-5-4-智能重组"><a href="#1-5-4-智能重组" class="headerlink" title="1.5.4 智能重组"></a>1.5.4 智能重组</h4><p>从本质上来说，Compose 依赖其 SDK 与编译器，Kotlin 依赖编译器插件的模式来进行实现。Compose 通几个注解帮助编译器进一步识别不会重组的 UI 对象。具体有如下几种：</p><h5 id="ReadOnlyComposable"><a href="#ReadOnlyComposable" class="headerlink" title="@ReadOnlyComposable"></a>@ReadOnlyComposable</h5><p><code>ReadOnlyComposable</code>注解用于标记那些不会修改任何状态的可组合函数。这些函数在被调用时，只是单纯地根据传入的参数构建 UI，不会产生副作用或者改变任何可观察的状态。</p><p>当 Compose 进行重组分析时，知道一个被标记为<code>ReadOnlyComposable</code>的函数是无状态的，就可以在某些情况下避免不必要的重新执行。例如，如果这个函数只是用于简单地格式化和显示文本内容，并且不依赖于任何可能变化的状态，那么在其他状态发生变化时，Compose 可以跳过对这个函数的重新执行，从而提高重组效率。</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">@ReadOnlyComposable@Composablefun FormattedText(text: String) &#123;    Text(text.uppercase())&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>在这个例子中，<code>FormattedText</code>函数只是将传入的文本转换为大写并显示，不会修改任何状态。Compose 在重组过程中，如果发现只有其他无关状态发生变化，就可以不重新执行这个函数，因为它的输出只依赖于传入的<code>text</code>参数，而这个参数在没有改变的情况下，UI 显示也不会改变。</p><h5 id="Immutable"><a href="#Immutable" class="headerlink" title="@Immutable"></a>@Immutable</h5><p><code>Immutable</code>注解用于标记数据类型，表示这个数据类型是不可变的。当一个数据类型被标记为<code>Immutable</code>后，Compose 可以更有效地处理对这个数据的引用。例如，对于一个不可变的数据类，一旦创建，其内部的属性就不能被修改。</p><p>在智能重组的场景下，Compose 需要比较数据是否发生变化来决定是否重新执行相关的可组合函数。对于<code>Immutable</code>类型的数据，比较过程更加简单和高效。因为不可变数据的属性不会改变，所以 Compose 可以通过引用比较或者简单的内容比较（如果数据结构简单）来快速确定数据是否发生了变化。如果数据没有变化，依赖于这个数据的可组合函数部分就不需要重组。</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">@Immutabledata class UserInfo(val name: String, val age: Int)@Composablefun UserInfoDisplay(userInfo: UserInfo) &#123;    Column &#123;        Text(&quot;姓名: $&#123;userInfo.name&#125;&quot;)        Text(&quot;年龄: $&#123;userInfo.age&#125;&quot;)    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>在这个例子中，<code>UserInfo</code>数据类被标记为<code>Immutable</code>。当<code>UserInfoDisplay</code>可组合函数的<code>userInfo</code>参数发生变化时，Compose 可以通过比较<code>UserInfo</code>对象的引用或者简单的属性比较（因为属性不可变）来快速判断是否需要重新执行这个函数。如果只是其他无关状态改变，而<code>userInfo</code>没有变化，就不需要重组<code>UserInfoDisplay</code>函数部分的 UI。</p><h5 id="Stable"><a href="#Stable" class="headerlink" title="@Stable"></a>@Stable</h5><p><code>Stable</code>注解用于标记类型或者函数，表示它们在 Compose 的重组过程中是稳定的。对于一个被标记为<code>Stable</code>的对象，Compose 可以假设它的内容或者行为在没有明显变化提示的情况下是不变的。这包括对象的属性（如果是一个类）以及它所产生的副作用（如果是一个函数）。</p><p>和<code>Immutable</code>类似，<code>Stable</code>帮助 Compose 在重组分析中做出更高效的决策。如果一个可组合函数的参数是<code>Stable</code>类型，并且在没有明确的变化信号（如状态改变）时，Compose 可以减少对这个函数的重新检查和重新执行。这有助于优化重组过程，避免不必要的 UI 更新。</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">@Stableclass MyStableObject &#123;    val value: String &#x3D; &quot;稳定的值&quot;&#125;@Composablefun MyStableObjectDisplay(myObject: MyStableObject) &#123;    Text(myObject.value)&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>在这个例子中，<code>MyStableObject</code>类被标记为<code>Stable</code>。<code>MyStableObjectDisplay</code>可组合函数依赖于<code>MyStableObject</code>。在重组过程中，Compose 会认为<code>MyStableObject</code>是稳定的，只要没有明确的变化提示（如通过状态管理机制通知变化），就不会轻易重新执行<code>MyStableObjectDisplay</code>函数，从而提高了智能重组的效率。</p><h5 id="区别-＆-使用场景"><a href="#区别-＆-使用场景" class="headerlink" title="区别 ＆ 使用场景"></a>区别 ＆ 使用场景</h5><table><thead><tr><th>标记类型</th><th>关注重点</th><th>定义描述</th><th>示例</th><th>使用场景</th></tr></thead><tbody><tr><td><code>ReadOnlyComposable</code></td><td>函数行为</td><td>标记可组合函数特性，该函数不会修改任何状态，从函数执行角度强调纯净性，仅根据传入参数构建 UI，无状态修改和副作用</td><td>一个将输入文本转换为大写并显示的函数，只进行数据转换和 UI 展示，不影响外部状态</td><td>1. 纯展示型函数，如格式化日期并显示在文本组件中。</td></tr><tr><td>2. 无状态的 UI 组件构建，如固定样式的图标组件</td><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td><td></td></tr><tr><td><code>Immutable</code></td><td>数据类型的不可变性</td><td>用于描述数据类型，被标记的数据类型创建后内部属性不能被修改，是对数据结构本身性质的定义</td><td>一个简单数据类，属性为<code>val</code>且无修改属性方法，整个生命周期内稳定，除非重新创建</td><td>1. 配置数据传递，如应用的主题配置数据类。</td></tr><tr><td>2. 缓存数据和常量数据结构，如预定义的菜单选项列表</td><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td><td></td></tr><tr><td><code>Stable</code></td><td>综合的稳定性</td><td>可用于标记类型（如类）或函数。标记类型时表示在重组过程中的稳定性，包括属性和行为；标记函数时表示副作用和返回值等方面的稳定性</td><td>1. 具有复杂内部状态但对外表现稳定的用户配置对象。</td><td></td></tr><tr><td>2. 根据系统时间和固定时间间隔决定是否显示提示信息的函数，在相关条件不变时行为稳定</td><td></td><td></td><td></td><td></td></tr><tr><td>1. 复杂但稳定的对象，如包含多个属性和内部计算逻辑的用户配置对象。</td><td></td><td></td><td></td><td></td></tr><tr><td>2. 有条件稳定的函数，如上述按特定条件决定显示提示信息的函数</td><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td><td></td></tr></tbody></table><h4 id="1-5-5-性能优化"><a href="#1-5-5-性能优化" class="headerlink" title="1.5.5 性能优化"></a>1.5.5 性能优化</h4><blockquote><p><a href="https://developer.android.com/develop/ui/compose/performance/bestpractices?hl=zh-cn">https://developer.android.com/develop/ui/compose/performance/bestpractices?hl=zh-cn</a><br>原文档写的很清楚了，我直接 Copy</p></blockquote><h5 id="使用-remember-尽可能减少开销高昂的计算"><a href="#使用-remember-尽可能减少开销高昂的计算" class="headerlink" title="使用 remember 尽可能减少开销高昂的计算"></a>使用 <code>remember</code> 尽可能减少开销高昂的计算</h5><p>可组合函数<a href="https://developer.android.com/develop/ui/compose/mental-model?hl=zh-cn#frequent">可能会非常频繁地运行</a>，与每个帧的运行频率一样高 动画效果因此，您应当在可组合函数的主体部分中尽可能减少计算。</p><p>使用 <a href="https://developer.android.com/develop/ui/compose/state?hl=zh-cn#state-in-composables">存储</a>计算结果 <code>[remember](https://developer.android.com/reference/kotlin/androidx/compose/runtime/package-summary?hl=zh-cn#remember(kotlin.Function0))</code>。这样，计算只会运行一次， 结果。</p><p>例如，下面的代码显示了经过排序的名称列表，但 进行大量排序：</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">@Composablefun ContactList(    contacts: List&lt;Contact&gt;,    comparator: Comparator&lt;Contact&gt;,    modifier: Modifier &#x3D; Modifier) &#123;    LazyColumn(modifier) &#123;        &#x2F;&#x2F; DON’T DO THIS        items(contacts.sortedWith(comparator)) &#123; contact -&gt;            &#x2F;&#x2F; ...        &#125;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong><a href="https://github.com/android/snippets/blob/e9e2f2099c03406170d6b72a7974f6d7658ee8e3/compose/snippets/src/main/java/com/example/compose/snippets/performance/PerformanceSnippets.kt#L50-L62">PerformanceSnippets.kt</a></strong></p><p>每次重组 <code>ContactsList</code> 时，都会对整个联系人列表全部排序 即使该列表没有变化如果用户滚动列表 每当出现新行时，可组合函数都会重组。</p><p>如需解决此问题，请在 <code>LazyColumn</code> 外部对列表进行排序，并使用 <code>remember</code> 存储已排序列表：</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">@Composablefun ContactList(    contacts: List&lt;Contact&gt;,    comparator: Comparator&lt;Contact&gt;,    modifier: Modifier &#x3D; Modifier) &#123;    val sortedContacts &#x3D; remember(contacts, comparator) &#123;        contacts.sortedWith(comparator)    &#125;    LazyColumn(modifier) &#123;        items(sortedContacts) &#123;            &#x2F;&#x2F; ...        &#125;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong><a href="https://github.com/android/snippets/blob/e9e2f2099c03406170d6b72a7974f6d7658ee8e3/compose/snippets/src/main/java/com/example/compose/snippets/performance/PerformanceSnippets.kt#L68-L83">PerformanceSnippets.kt</a></strong></p><p>现在，列表只会在 <code>ContactList</code> 首次组合时执行一次排序。如果联系人或比较器发生变化，则系统会重新生成经过排序的列表。否则，可组合函数会继续使用缓存中的已排序列表。</p><p><strong>注意</strong>：请尽可能将计算代码移到可组合函数的外部。在这种情况下，您可能需要在其他位置（如在 <code>**ViewModel**</code> 中）对列表进行排序，并将已排序列表作为输入提供给可组合函数。</p><h5 id="使用延迟布局键"><a href="#使用延迟布局键" class="headerlink" title="使用延迟布局键"></a>使用延迟布局键</h5><p><a href="https://developer.android.com/develop/ui/compose/lists?hl=zh-cn#lazy">延迟布局</a>可高效地重复使用项，只需重新生成或重组项 。不过，您可以帮助优化延迟布局 重组。</p><p>假设某项用户操作会导致项在列表中移动。例如： 假设您显示了按修改时间排序的 上面显示了最近修改过的备注</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">@Composablefun NotesList(notes: List&lt;Note&gt;) &#123;    LazyColumn &#123;        items(            items &#x3D; notes        ) &#123; note -&gt;            NoteRow(note)        &#125;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong><a href="https://github.com/android/snippets/blob/e9e2f2099c03406170d6b72a7974f6d7658ee8e3/compose/snippets/src/main/java/com/example/compose/snippets/performance/PerformanceSnippets.kt#L89-L98">PerformanceSnippets.kt</a></strong></p><p>不过，此代码存在问题。假设底部的备注发生了变化。 它现在是最近修改过的备注，因此会移到列表顶部，而其他备注都会向下移动一个位置。</p><p>如果没有您的帮助，Compose 不会意识到未更改的项 <em>moved</em>。相反，Compose 会认为旧的“第 2 项”已被删除，且 为第 3 项、第 4 项以及最下面的一项创建了新的订单。其结果是 Compose 会重组列表中的<strong>每一项</strong>，即使其中只有一项重组 实际上都发生了变化</p><p>此处的解决方案是<strong>提供</strong>**<a href="https://developer.android.com/develop/ui/compose/lists?hl=zh-cn#item-keys">项键</a>**。为 每一项都可让 Compose 避免不必要的重组。在本例中，Compose 可以确定现在位于位置 3 的物品与以前位于位置 2 的物品相同。 由于该项的数据没有任何变化，因此 Compose 不必 重组。</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">@Composablefun NotesList(notes: List&lt;Note&gt;) &#123;    LazyColumn &#123;        items(            items &#x3D; notes,            key &#x3D; &#123; note -&gt;                &#x2F;&#x2F; Return a stable, unique key for the note                note.id            &#125;        ) &#123; note -&gt;            NoteRow(note)        &#125;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong><a href="https://github.com/android/snippets/blob/e9e2f2099c03406170d6b72a7974f6d7658ee8e3/compose/snippets/src/main/java/com/example/compose/snippets/performance/PerformanceSnippets.kt#L104-L117">PerformanceSnippets.kt</a></strong></p><h5 id="使用-derivedStateOf-限制重组"><a href="#使用-derivedStateOf-限制重组" class="headerlink" title="使用 derivedStateOf 限制重组"></a>使用 <code>derivedStateOf</code> 限制重组</h5><p>在组合中使用状态的一个风险是，如果状态发生变化， 界面的重组次数可能会超出您的实际需求。例如： 假设您要显示一个可滚动列表。您可以检查列表的状态， 哪个项是列表中的第一个可见项：</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">val listState &#x3D; rememberLazyListState()LazyColumn(state &#x3D; listState) &#123;    &#x2F;&#x2F; ...&#125;val showButton &#x3D; listState.firstVisibleItemIndex &gt; 0AnimatedVisibility(visible &#x3D; showButton) &#123;    ScrollToTopButton()&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong><a href="https://github.com/android/snippets/blob/e9e2f2099c03406170d6b72a7974f6d7658ee8e3/compose/snippets/src/main/java/com/example/compose/snippets/performance/PerformanceSnippets.kt#L126-L136">PerformanceSnippets.kt</a></strong></p><p>问题在于，当用户滚动列表时，<code>listState</code> 会随着用户拖动手指而不断变化。这意味着该列表会不断重组。不过，您不需要频繁重组代码，只需 无需重组，直至新项显示在底部为止。因此，这将完成大量的额外计算，从而导致界面性能较差。</p><p>解决方案是使用<a href="https://developer.android.com/develop/ui/compose/side-effects?hl=zh-cn#derivedstateof">派生状态</a>。借助派生状态，您可以告知 Compose 哪些状态更改实际上应触发重组。在此示例中 指明您在第一个可见项发生更改时您关心。如果<em>那</em> 状态值发生变化时，界面需要重组，但如果用户尚未重组 使新项显示在顶部，则无需重组。</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">val listState &#x3D; rememberLazyListState()LazyColumn(state &#x3D; listState) &#123;    &#x2F;&#x2F; ...&#125;val showButton by remember &#123;    derivedStateOf &#123;        listState.firstVisibleItemIndex &gt; 0    &#125;&#125;AnimatedVisibility(visible &#x3D; showButton) &#123;    ScrollToTopButton()&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong><a href="https://github.com/android/snippets/blob/e9e2f2099c03406170d6b72a7974f6d7658ee8e3/compose/snippets/src/main/java/com/example/compose/snippets/performance/PerformanceSnippets.kt#L145-L159">PerformanceSnippets.kt</a></strong></p><h5 id="尽可能延迟读取"><a href="#尽可能延迟读取" class="headerlink" title="尽可能延迟读取"></a>尽可能延迟读取</h5><p>发现性能问题后，延后读取状态会有所帮助。延后读取状态可以确保 Compose 在重组时重新运行尽可能少的代码。例如，如果界面的状态在可组合项树中向上提升，而您在可组合子项中读取状态，则可以将状态封装在 lambda 函数中。这种方式可以确保仅在实际需要时才会执行读取操作。有关参考，请参阅 <a href="https://github.com/android/compose-samples/pull/778">Jetsnack 中的 示例应用</a>。Jetsnack 实现了类似于工具栏的折叠效果 显示详细信息屏幕要了解这种方法起作用的原因，请参阅这篇博文 <a href="https://medium.com/androiddevelopers/jetpack-compose-debugging-recomposition-bfcf4a6f8d37">Jetpack Compose：调试重组</a>。</p><p>为了实现这种效果，<code>Title</code> 可组合项需要滚动偏移 以便使用 <code>Modifier</code> 自行偏移。这是 进行优化之前的 Jetsnack 代码：</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">@Composablefun SnackDetail() &#123;    &#x2F;&#x2F; ...    Box(Modifier.fillMaxSize()) &#123; &#x2F;&#x2F; Recomposition Scope Start        val scroll &#x3D; rememberScrollState(0)        &#x2F;&#x2F; ...        Title(snack, scroll.value)        &#x2F;&#x2F; ...    &#125; &#x2F;&#x2F; Recomposition Scope End&#125;@Composableprivate fun Title(snack: Snack, scroll: Int) &#123;    &#x2F;&#x2F; ...    val offset &#x3D; with(LocalDensity.current) &#123; scroll.toDp() &#125;    Column(        modifier &#x3D; Modifier            .offset(y &#x3D; offset)    ) &#123;        &#x2F;&#x2F; ...    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong><a href="https://github.com/android/snippets/blob/e9e2f2099c03406170d6b72a7974f6d7658ee8e3/compose/snippets/src/main/java/com/example/compose/snippets/performance/PerformanceSnippets.kt#L166-L189">PerformanceSnippets.kt</a></strong></p><p>当滚动状态发生变化时，Compose 会使最近的父项失效 重组作用域。在本例中，最接近的范围是 <code>SnackDetail</code> 可组合项。请注意，<code>Box</code> 是内联函数，因此不是重组 范围。因此 Compose 会重组 <code>SnackDetail</code> 以及其中的所有可组合项 <code>SnackDetail</code>。如果您将代码更改为仅读取 使用它，那么您可以减少需要重组的元素数量。</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">@Composablefun SnackDetail() &#123;    &#x2F;&#x2F; ...    Box(Modifier.fillMaxSize()) &#123; &#x2F;&#x2F; Recomposition Scope Start        val scroll &#x3D; rememberScrollState(0)        &#x2F;&#x2F; ...        Title(snack) &#123; scroll.value &#125;        &#x2F;&#x2F; ...    &#125; &#x2F;&#x2F; Recomposition Scope End&#125;@Composableprivate fun Title(snack: Snack, scrollProvider: () -&gt; Int) &#123;    &#x2F;&#x2F; ...    val offset &#x3D; with(LocalDensity.current) &#123; scrollProvider().toDp() &#125;    Column(        modifier &#x3D; Modifier            .offset(y &#x3D; offset)    ) &#123;        &#x2F;&#x2F; ...    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong><a href="https://github.com/android/snippets/blob/e9e2f2099c03406170d6b72a7974f6d7658ee8e3/compose/snippets/src/main/java/com/example/compose/snippets/performance/PerformanceSnippets.kt#L195-L217">PerformanceSnippets.kt</a></strong></p><p>滚动参数现在是一个 lambda。这意味着 <code>Title</code> 仍然可以引用提升的状态，但该值仅在 <code>Title</code> 内部读取，这也是实际需要的。因此，当滚动值发生更改时，最近的重组范围现在是 <code>Title</code> 可组合项 - Compose 不再需要重组整个 <code>Box</code>。</p><p>这是一项非常重大的改进，但是您还可以做得更好！<strong>如果您触发重组只是为了重新布局或重新绘制可组合项，那么您肯定会充满了疑惑。</strong>在本例中，您只是更改了 <code>Title</code> 可组合项的偏移量，而此操作可以在布局阶段完成。</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">@Composableprivate fun Title(snack: Snack, scrollProvider: () -&gt; Int) &#123;    &#x2F;&#x2F; ...    Column(        modifier &#x3D; Modifier            .offset &#123; IntOffset(x &#x3D; 0, y &#x3D; scrollProvider()) &#125;    ) &#123;        &#x2F;&#x2F; ...    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong><a href="https://github.com/android/snippets/blob/e9e2f2099c03406170d6b72a7974f6d7658ee8e3/compose/snippets/src/main/java/com/example/compose/snippets/performance/PerformanceSnippets.kt#L222-L231">PerformanceSnippets.kt</a></strong></p><p>以前，该代码使用 <code>[Modifier.offset(x: Dp, y: Dp)](https://developer.android.com/reference/kotlin/androidx/compose/foundation/layout/package-summary?hl=zh-cn#(androidx.compose.ui.Modifier).offset(androidx.compose.ui.unit.Dp,androidx.compose.ui.unit.Dp))</code>，它接受 以参数形式指定偏移量通过切换到 <a href="https://developer.android.com/reference/kotlin/androidx/compose/foundation/layout/package-summary?hl=zh-cn#(androidx.compose.ui.Modifier).offset(kotlin.Function1)">lambda 版本的修饰符</a>， 您可以确保该函数在布局阶段读取滚动状态。因此，当滚动状态发生变化时，Compose 可以完全跳过组合阶段，而直接进入布局阶段。<strong>当您将频繁更改的状态变量传递到修饰符中时，应当尽可能使用其 lambda 版本。</strong></p><p>下面给出了此方法的另一个示例。此代码尚未优化：</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">&#x2F;&#x2F; Here, assume animateColorBetween() is a function that swaps between&#x2F;&#x2F; two colorsval color by animateColorBetween(Color.Cyan, Color.Magenta)Box(    Modifier        .fillMaxSize()        .background(color))<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong><a href="https://github.com/android/snippets/blob/e9e2f2099c03406170d6b72a7974f6d7658ee8e3/compose/snippets/src/main/java/com/example/compose/snippets/performance/PerformanceSnippets.kt#L237-L245">PerformanceSnippets.kt</a></strong></p><p>在此代码中，Box 的背景颜色会在两种颜色之间快速切换。因此，其状态也会非常频繁地变化。随后，可组合项会在后台修饰符中读取此状态。因此，该 Box 在每一帧上都需要重组，因为其颜色在每一帧中都会发生变化。</p><p>如需改进这一点，请使用基于 lambda 的修饰符，在本例中为 <code>[drawBehind](https://developer.android.com/reference/kotlin/androidx/compose/ui/draw/package-summary?hl=zh-cn#(androidx.compose.ui.Modifier).drawBehind(kotlin.Function1))</code>。 这将仅在绘制阶段读取颜色状态。因此 Compose 可以完全跳过组合和布局阶段 - Compose 会直接进入绘制阶段。</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">val color by animateColorBetween(Color.Cyan, Color.Magenta)Box(    Modifier        .fillMaxSize()        .drawBehind &#123;            drawRect(color)        &#125;)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong><a href="https://github.com/android/snippets/blob/e9e2f2099c03406170d6b72a7974f6d7658ee8e3/compose/snippets/src/main/java/com/example/compose/snippets/performance/PerformanceSnippets.kt#L252-L259">PerformanceSnippets.kt</a></strong></p><h5 id="避免向后写入"><a href="#避免向后写入" class="headerlink" title="避免向后写入"></a>避免向后写入</h5><p>Compose 有一项核心假设，即您<strong>永远不会向已被读取的状态写入数据</strong>。此操作被称为向后写入，它可能会导致无限次地在每一帧上进行重组。</p><p>以下可组合项展示了此类错误的示例。</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">@Composablefun BadComposable() &#123;    var count by remember &#123; mutableStateOf(0) &#125;    &#x2F;&#x2F; Causes recomposition on click    Button(onClick &#x3D; &#123; count++ &#125;, Modifier.wrapContentSize()) &#123;        Text(&quot;Recompose&quot;)    &#125;    Text(&quot;$count&quot;)    count++ &#x2F;&#x2F; Backwards write, writing to state after it has been read&lt;&#x2F;b&gt;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong><a href="https://github.com/android/snippets/blob/e9e2f2099c03406170d6b72a7974f6d7658ee8e3/compose/snippets/src/main/java/com/example/compose/snippets/performance/PerformanceSnippets.kt#L265-L276">PerformanceSnippets.kt</a></strong></p><p>此代码会在可组合项的 前一行。如果运行此代码，您会看到按钮，这会导致重组，则计数器会快速增加， 无限循环，因为 Compose 重组此可组合项，看到状态读取 已过期，所以我们安排了另一次重组。</p><p><strong>您完全可以避免向后写入数据，只需避免在组合中写入状态即可。</strong>请尽可能在响应事件时写入状态，并采用 lambda 的形式，如上文中的 <code>onClick</code> 示例所示。</p><ul><li>**<a href="https://developer.android.com/topic/performance/overview?hl=zh-cn">应用性能指南</a>**：探索最佳应用 提升应用性能的方法、库和工具。</li><li>**<a href="https://developer.android.com/topic/performance/inspecting-overview?hl=zh-cn">检查性能</a>**： 检查应用性能。</li><li>**<a href="https://developer.android.com/topic/performance/benchmarking/benchmarking-overview?hl=zh-cn">基准化分析</a>**： 对应用性能进行基准测试。</li><li>**<a href="https://developer.android.com/topic/performance/appstartup/analysis-optimization?hl=zh-cn">应用启动</a>**： 优化应用启动。</li><li>**<a href="https://developer.android.com/baseline-profiles?hl=zh-cn">基准配置文件</a>**：了解基准配置文件。</li></ul><p>其他参考资料：<a href="https://juejin.cn/post/7263341982407868472">Compose:从重组谈谈页面性能优化思路，狠狠优化一笔许多刚入手Compose的使用者遇到卡顿的时候，可能是不恰当的访 - 掘金</a></p><h2 id="Activity-和-Fragment"><a href="#Activity-和-Fragment" class="headerlink" title="Activity 和 Fragment"></a>Activity 和 Fragment</h2><h3 id="2-1-基本概念"><a href="#2-1-基本概念" class="headerlink" title="2.1 基本概念"></a>2.1 基本概念</h3><table><thead><tr><th>组件</th><th>使用场景</th><th>优势</th></tr></thead><tbody><tr><td>Activity</td><td>作为应用里最关键的界面展示单元，用于打造完整且独立的用户界面屏幕。像应用的启动界面、主要功能模块展示界面等均通过它实现。</td><td>具备完整生命周期，利于资源管理以及与系统交互；能便捷处理用户操作（如按键按下、屏幕触摸等），也能方便地与其他组件（如服务、广播接收器等）进行交互；Android 系统拥有出色的任务栈管理等针对 Activity 的管理机制，方便应用实现导航和多任务处理。</td></tr><tr><td>Fragment</td><td>在构建可复用的 UI 模块时十分适用，尤其在大屏幕设备（如平板电脑）或复杂多屏应用中表现突出。例如新闻应用里，新闻列表 Fragment 能在不同布局（单栏、双栏布局）中复用，也可在多个相关 Activity 中共享。</td><td>极大提升了 UI 的复用性与灵活性，可依据不同设备配置和屏幕尺寸，灵活组合与替换以达成不同布局效果；Fragment 拥有独立逻辑和视图，便于团队开发与代码维护，不同开发人员可分别负责不同 Fragment 的开发工作 。</td></tr><tr><td>Compose</td><td>适合快速搭建现代化、动态的 UI 界面，对于需要频繁更新 UI 或处理复杂状态管理的应用部分效果显著。比如在实时数据更新（如股票行情应用）或复杂交互（如手势操作驱动 UI 变化）的应用场景中能发挥优势。</td><td>代码更为简洁直观，采用声明式方式构建 UI，降低了传统视图体系中视图操作和状态管理的复杂程度；自动重组机制极大简化 UI 更新流程，提高开发效率；提供丰富的布局和组件库，助力开发者快速实现各类 UI 设计。</td></tr></tbody></table><h3 id="2-2-生命周期"><a href="#2-2-生命周期" class="headerlink" title="2.2 生命周期"></a>2.2 生命周期</h3><table><thead><tr><th>生命周期方法</th><th>调用时机</th><th></th></tr></thead><tbody><tr><td><code>onCreate()</code></td><td>在Activity第一次被创建时调用。通常用于进行初始化操作，如设置布局（通过<code>setContentView</code>或<code>setContent</code>）、初始化视图组件、绑定数据等。</td><td></td></tr><tr><td><code>onStart()</code></td><td>在Activity即将对用户可见时调用。此时Activity已经可见，但还没有获取焦点，用户还不能与之交互。</td><td></td></tr><tr><td><code>onResume()</code></td><td>在Activity获取焦点，用户可以开始与之交互时调用。此时Activity处于活动状态，位于前台。</td><td></td></tr><tr><td><code>onPause()</code></td><td>当系统准备启动或恢复另一个 Activity 时调用。此时当前 Activity 失去焦点，但仍然部分可见。例如，当一个透明或者半透明的 Activity 启动时，原 Activity 就会进入<code>onPause</code>状态。这是一个比较关键的回调，通常用于暂停一些资源消耗大的操作，如暂停动画、停止视频播放等，并且可以保存一些关键数据，防止用户离开该页面后数据丢失或资源浪费。</td><td></td></tr></tbody></table><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">class MainActivity : AppCompatActivity() &#123;    override fun onPause() &#123;        super.onPause()        &#x2F;&#x2F; 暂停视频播放        videoPlayer.pause()        &#x2F;&#x2F; 保存当前页面的编辑状态        val editTextContent &#x3D; editText.text.toString()        savedState.editTextContent &#x3D; editTextContent    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p> |<br>|<code>onStop()</code> |当 Activity 完全不可见时调用。比如用户打开了一个新的 Activity，并且这个新 Activity 完全覆盖了当前 Activity，或者用户按下了 “Home” 键将应用退到后台，当前 Activity 就会进入<code>onStop</code>状态。这个回调可以用于释放一些只有在 Activity 可见时才需要的资源，如停止传感器的监听等。 |</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">class SensorActivity : AppCompatActivity() &#123;    private val sensorManager: SensorManager by lazy &#123;        getSystemService(Context.SENSOR_SERVICE) as SensorManager    &#125;    private val accelerometer: Sensor by lazy &#123;        sensorManager.getDefaultSensor(Sensor.TYPE_ACCELEROMETER)    &#125;    private val sensorEventListener &#x3D; object : SensorEventListener &#123;        &#x2F;&#x2F; 处理传感器事件的方法    &#125;    override fun onStart() &#123;        super.onStart()        sensorManager.registerListener(sensorEventListener, accelerometer, SensorManager.SENSOR_DELAY_NORMAL)    &#125;    override fun onStop() &#123;        super.onStop()        sensorManager.unregisterListener(sensorEventListener)    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p> |<br>|<code>onDestroy()</code> |在Activity被销毁之前调用。用于释放所有占用的资源，如关闭数据库连接、停止服务、注销广播接收器等。 | |<br>|<code>onRestart()</code> |在Activity被停止后，再次启动时调用。它会在<code>onStart()</code>之前被触发，通常用于在Activity重新启动时恢复之前保存的状态。 | |</p><p>Activty 仅关注于自身，如果需要全局的生命周期监听，可能需要使用 ProcessLifecycleOwner。它对于简单地判断应用整体是处于前台还是后台的场景非常方便。例如，在一些需要根据应用前后台状态来调整服务行为的应用中，像应用进入后台时暂停数据同步服务，进入前台时恢复数据同步服务，使用<code>ProcessLifecycleOwner</code>可以快速实现。</p><p>当应用架构基于现代的 Jetpack 组件（如 ViewModel、LiveData 等），并且已经在使用<code>lifecycle - runtime - ktx</code>库来管理组件生命周期时，<code>ProcessLifecycleOwner</code>能够很好地集成到现有的架构中，以一种简洁的方式提供应用生命周期感知。</p><p>首先我们需要先注册（在未注册 <code>lifecycle - runtime - ktx</code> 的情况下）：</p><pre class="line-numbers language-Groovy" data-language="Groovy"><code class="language-Groovy">dependencies &#123;    implementation &#39;androidx.lifecycle:lifecycle-runtime-ktx:2.6.0&#39;&#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>我们对比两者的生命周期：</p><table><thead><tr><th>对比维度</th><th>Activity 生命周期</th><th>ProcessLifecycleOwner 生命周期</th></tr></thead><tbody><tr><td>关注对象</td><td>单个Activity从创建到销毁过程中的不同状态变化，比如是否可见、是否可交互等。</td><td>整个应用进程处于前台还是后台的宏观状态。</td></tr><tr><td>关键状态及回调</td><td><code>onCreate</code>：首次创建时调用，用于初始化操作。<code>onStart</code>：即将对用户可见时调用。<code>onResume</code>：获取焦点，可与用户交互时调用。<code>onPause</code>：失去焦点但可能部分可见时调用。<code>onStop</code>：完全不可见时调用。<code>onDestroy</code>：被销毁前调用，用于释放资源。<code>onRestart</code>：停止后再次启动时调用。</td><td><code>ON_START</code>：当应用中有一个Activity进入<code>onStart</code>状态，意味着应用进入前台，触发此事件。<code>ON_STOP</code>：当应用中的最后一个Activity进入<code>onStop</code>状态，意味着应用进入后台，触发此事件。</td></tr><tr><td>触发条件</td><td>由Activity自身在屏幕上的可见性、交互性变化等因素触发，例如启动、切换、按“Home”键等操作导致相应状态改变时触发对应回调。</td><td>通过监测应用内所有Activity的整体状态来触发，关注是否还有Activity处于可见状态（<code>ON_START</code>）或者所有Activity都不可见了（<code>ON_STOP</code>）。</td></tr><tr><td>使用场景</td><td>用于管理单个Activity内的资源初始化、释放，处理Activity自身相关的UI更新、交互逻辑等。例如在<code>onPause</code>暂停视频播放，在<code>onResume</code>恢复播放。</td><td>用于处理应用整体进入前台或后台时的通用逻辑，比如应用进入后台暂停数据同步、传感器监听等服务，进入前台时恢复这些操作。</td></tr><tr><td>代码示例（Kotlin） - 简单示意</td><td></td><td></td></tr></tbody></table><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">class MyActivity : AppCompatActivity() &#123;    override fun onCreate(savedInstanceState: Bundle?) &#123;        super.onCreate(savedInstanceState)        &#x2F;&#x2F; 初始化布局等操作    &#125;    override fun onStart() &#123;        super.onStart()        &#x2F;&#x2F; 准备显示相关操作    &#125;    override fun onResume() &#123;        super.onResume()        &#x2F;&#x2F; 获取焦点，可交互操作    &#125;    override fun onPause() &#123;        super.onPause()        &#x2F;&#x2F; 失去焦点，暂停相关操作    &#125;    override fun onStop() &#123;        super.onStop()        &#x2F;&#x2F; 完全不可见，释放部分资源    &#125;    override fun onDestroy() &#123;        super.onDestroy()        &#x2F;&#x2F; 释放所有资源    &#125;    override fun onRestart() &#123;        super.onRestart()        &#x2F;&#x2F; 重新启动相关操作    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p> |</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">import android.os.Bundleimport android.util.Logimport androidx.appcompat.app.AppCompatActivityimport androidx.lifecycle.DefaultLifecycleObserverimport androidx.lifecycle.LifecycleOwnerimport androidx.lifecycle.ProcessLifecycleOwnerclass MyActivity : AppCompatActivity() &#123;    override fun onCreate(savedInstanceState: Bundle?) &#123;        super.onCreate(savedInstanceState)        &#x2F;&#x2F; 使用代码块形式添加生命周期观察者        ProcessLifecycleOwner.get().lifecycle.addObserver(object : DefaultLifecycleObserver &#123;            override fun onStop(owner: LifecycleOwner) &#123;                super.onStop(owner)                Log.d(&quot;MyApp&quot;, &quot;App moved to background&quot;)            &#125;            override fun onStart(owner: LifecycleOwner) &#123;                super.onStart(owner)                Log.d(&quot;MyApp&quot;, &quot;App moved to foreground&quot;)            &#125;        &#125;)    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p> |</p><h3 id="2-3-路由与路由数据传递"><a href="#2-3-路由与路由数据传递" class="headerlink" title="2.3 路由与路由数据传递"></a>2.3 路由与路由数据传递</h3><h4 id="2-3-1-Intent-机制与数据传递"><a href="#2-3-1-Intent-机制与数据传递" class="headerlink" title="2.3.1 Intent 机制与数据传递"></a>2.3.1 Intent 机制与数据传递</h4><p><code>Parcel</code> 是 Android 中用于序列化和反序列化对象的一种机制，在传递对象（如通过 <code>Intent</code> 传递）时，对象需要被拆解成可以存储和传输的形式（序列化），<strong>在接收端再重新组装成对象（反序列化）。</strong></p><p>我们创建一个表示用户信息的 <code>User</code> 数据类，并让它实现 <code>Parcelable</code> 接口，以便可以通过 <code>Intent</code> 传递。</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">import android.os.Parcelimport android.os.Parcelabledata class User(    val id: String,    val name: String,    val age: Int) : Parcelable &#123;    &#x2F;&#x2F; 这个构造函数就是在接收端从 Parcel 中读取数据来重新创建 User 对象。    constructor(parcel: Parcel) : this(        parcel.readString()!!,        parcel.readString()!!,        parcel.readInt()    )    override fun writeToParcel(parcel: Parcel, flags: Int) &#123;        parcel.writeString(id)        parcel.writeString(name)        parcel.writeInt(age)    &#125;    override fun describeContents(): Int &#123;        return 0    &#125;    companion object CREATOR : Parcelable.Creator&lt;User&gt; &#123;        override fun createFromParcel(parcel: Parcel): User &#123;            return User(parcel)        &#125;        override fun newArray(size: Int): Array&lt;User?&gt; &#123;            return arrayOfNulls(size)        &#125;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><code>writeToParcel</code> 方法：<ul><li><code>override fun writeToParcel(parcel: Parcel, flags: Int)</code> 负责将 <code>User</code> 对象的各个属性写入到 <code>Parcel</code> 中，以便进行传递。在这个方法里，按照顺序分别调用了 <code>parcel.writeString(id)</code>、<code>parcel.writeString(name)</code> 和 <code>parcel.writeInt(age)</code>，也就是把 <code>id</code>、<code>name</code> 和 <code>age</code> 这三个属性的值依次写入 <code>Parcel</code>，确保在接收端能够按照同样的顺序正确读取并恢复对象。</li></ul></li><li><code>CREATOR</code> 伴生对象及相关方法：<ul><li><code>companion object CREATOR : Parcelable.Creator&lt;User&gt;</code> 是 <code>Parcelable</code> 接口要求实现的一个伴生对象，用于创建 <code>User</code> 类的实例。其中包含两个方法：<ul><li><code>override fun createFromParcel(parcel: Parcel): User</code> 方法会在反序列化时被调用，它的任务就是利用前面提到的从 <code>Parcel</code> 中读取数据的构造函数（<code>constructor(parcel: Parcel)</code>）来创建一个新的 <code>User</code> 对象，也就是返回 <code>User(parcel)</code>。</li><li><code>override fun newArray(size: Int): Array&lt;User?&gt;</code> 方法用于创建一个指定大小的 <code>User</code> 数组，在一些涉及到数组形式的 <code>Parcelable</code> 对象传递场景下会用到，这里简单地返回了一个包含 <code>null</code> 值的指定大小的数组，即 <code>arrayOfNulls(size)</code>。</li></ul></li></ul></li></ul><p>定义两个 Activity，一个是主页面，另一个是用户详情页。主页面包含一个按钮，点击按钮后通过路由导航到用户详情页面，并传递用户数据。</p><p>主页面 Activity 使用 Compose 来构建 UI。</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">class MainActivity : androidx.activity.ComponentActivity() &#123;    override fun onCreate(savedInstanceState: Bundle?) &#123;        super.onCreate(savedInstanceState)        setContent &#123;            MyApplicationTheme &#123;                Surface(                    &#x2F;&#x2F; 省略                ) &#123;&lt;mark style&#x3D;&quot;background-color: #FFE928&quot;&gt;                    &#x2F;&#x2F; 创建路由 Controller&lt;&#x2F;mark&gt;&lt;mark style&#x3D;&quot;background-color: #FFE928&quot;&gt;                    val navController &#x3D; rememberNavController()&lt;&#x2F;mark&gt;&lt;mark style&#x3D;&quot;background-color: #FFE928&quot;&gt;                    &#x2F;&#x2F; 创建 User 对象，在 MainScreen 中跳转时传入 Navigator&lt;&#x2F;mark&gt;&lt;mark style&#x3D;&quot;background-color: #FFE928&quot;&gt;                    val user &#x3D; User(&quot;1&quot;, &quot;John Doe&quot;, 30)&lt;&#x2F;mark&gt;&lt;mark style&#x3D;&quot;background-color: #FFE928&quot;&gt;                    MainScreen(navController, user)&lt;&#x2F;mark&gt;&lt;mark style&#x3D;&quot;background-color: #FFE928&quot;&gt;                    SetupNavigation(navController)&lt;&#x2F;mark&gt;                &#125;            &#125;        &#125;    &#125;&#125;@Composablefun MainScreen(navController: NavController, user: User) &#123;    Column &#123;        Text(text &#x3D; &quot;主页面&quot;)        Button(onClick &#x3D; &#123;&lt;mark style&#x3D;&quot;background-color: #FFE928&quot;&gt;            &#x2F;&#x2F; 跳转其它页面&lt;&#x2F;mark&gt;&lt;mark style&#x3D;&quot;background-color: #FFE928&quot;&gt;            navController.navigate(&quot;user_detail&#x2F;$user&quot;)&lt;&#x2F;mark&gt;        &#125;) &#123;            Text(text &#x3D; &quot;查看用户详情&quot;)        &#125;    &#125;&#125;@Composablefun SetupNavigation(navController: NavController) &#123;    NavHost(        navController &#x3D; navController,        startDestination &#x3D; &quot;main&quot;    ) &#123;        composable(&quot;main&quot;) &#123;            val navBackStackEntry &#x3D; it.currentBackStackEntryAsState().value            val context &#x3D; LocalContext.current            val user &#x3D; navBackStackEntry?.arguments?.getParcelable&lt;User&gt;(&quot;user&quot;)            MainScreen(navController, user?: User(&quot;default&quot;, &quot;Default User&quot;, 0))        &#125;        composable(            route &#x3D; &quot;user_detail&#x2F;&#123;user&#125;&quot;,            arguments &#x3D; listOf(navArgument(&quot;user&quot;) &#123; type &#x3D; NavType.ParcelableType(User::class.java) &#125;)        ) &#123; backStackEntry -&gt;            val receivedUser &#x3D; backStackEntry.arguments?.getParcelable&lt;User&gt;(&quot;user&quot;)            UserDetailScreen(receivedUser)        &#125;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>在 <code>MainActivity</code> 的 <code>SetupNavigation</code> 这个可组合函数中，通过 <code>NavHost</code> 来定义整个应用的导航结构。</p><ul><li><code>NavHost</code> 函数接受 <code>navController</code>（用于控制导航操作）和 <code>startDestination</code>（指定起始的导航页面）作为参数。这里起始页面设置为 <code>&quot;main&quot;</code>。</li><li>在 <code>NavHost</code> 内部，通过 <code>composable</code> 函数来定义各个具体的可导航页面。<ul><li>对于 <code>&quot;main&quot;</code> 页面：<ul><li>首先通过 <code>it.currentBackStackEntryAsState().value</code> 获取当前导航栈的状态信息，进而可以获取传递过来的参数（在这个例子中可能是 <code>User</code> 对象）。</li><li>然后将获取到的 <code>User</code> 对象（或者默认的用户对象，如果没有传递过来有效的对象）传递给 <code>MainScreen</code> 可组合函数来展示主页面的 UI 内容。</li></ul></li><li>对于 <code>&quot;user_detail/&#123;user&#125;&quot;</code> 页面：<ul><li>定义了路由参数 <code>&quot;user&quot;</code>，并且指定其类型为 <code>NavType.ParcelableType(User::class.java)</code>，这样就能接收通过路由传递过来的 <code>User</code> 类型的对象。</li><li>在页面的可组合函数内（通过 <code>backStackEntry</code> 获取参数），将接收到的 <code>User</code> 对象传递给 <code>UserDetailScreen</code> 可组合函数来展示用户详情页面的 UI 内容。</li></ul></li></ul></li></ul><p>之后我们再定义一个用户详情 Activity，同样使用 Compose 构建 UI，用于展示接收到的用户信息，并在页面重建（如屏幕旋转等情况）时恢复数据展示。</p><pre class="line-numbers language-Kotlin" data-language="Kotlin"><code class="language-Kotlin">class UserDetailActivity : androidx.activity.ComponentActivity() &#123;    override fun onCreate(savedInstanceState: Bundle?) &#123;        super.onCreate(savedInstanceState)        setContent &#123;            MyApplicationTheme &#123;                Surface(                    &#x2F;&#x2F; 省略                ) &#123;&lt;mark style&#x3D;&quot;background-color: #FAF390&quot;&gt;                    &#x2F;&#x2F; 从 savedInstanceState  或者 Intent 中获取 User，并加载 UI&lt;&#x2F;mark&gt;&lt;mark style&#x3D;&quot;background-color: #FAF390&quot;&gt;                    val user &#x3D; if (savedInstanceState &#x3D;&#x3D; null) &#123;&lt;&#x2F;mark&gt;&lt;mark style&#x3D;&quot;background-color: #FAF390&quot;&gt;                        intent.getParcelableExtra(&quot;user&quot;)&lt;&#x2F;mark&gt;&lt;mark style&#x3D;&quot;background-color: #FAF390&quot;&gt;                    &#125; else &#123;&lt;&#x2F;mark&gt;&lt;mark style&#x3D;&quot;background-color: #FAF390&quot;&gt;                        savedInstanceState.getParcelable(&quot;user&quot;)&lt;&#x2F;mark&gt;&lt;mark style&#x3D;&quot;background-color: #FAF390&quot;&gt;                    &#125;&lt;&#x2F;mark&gt;&lt;mark style&#x3D;&quot;background-color: #FAF390&quot;&gt;                    UserDetailScreen(user)&lt;&#x2F;mark&gt;                &#125;            &#125;        &#125;    &#125;    &#x2F;&#x2F; 使用 onSaveInstanceState 进行数据恢复    override fun onSaveInstanceState(outState: Bundle) &#123;        super.onSaveInstanceState(outState)        val user &#x3D; intent.getParcelableExtra(&quot;user&quot;)        outState.putParcelable(&quot;user&quot;, user)    &#125;&#125;@Composablefun UserDetailScreen(user: User?) &#123;    var currentUser by remember &#123; mutableStateOf(user) &#125;    LaunchedEffect(key1 &#x3D; user) &#123;        currentUser &#x3D; user    &#125;    Column &#123;        Text(text &#x3D; &quot;用户详情页面&quot;)        currentUser?.let &#123;            Text(text &#x3D; &quot;姓名: $&#123;it.name&#125;&quot;)            Text(text &#x3D; &quot;年龄: $&#123;it.age&#125;&quot;)        &#125;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>给到的例子中充分体现了「数据传递」和「数据恢复」两大功能：</p><ul><li>数据传递：从主页面传递 <code>User</code> 对象到用户详情页面时，在 <code>MainScreen</code> 中通过 <code>navController.navigate</code> 把对象放在路由路径里传递，在 <code>SetupNavigation</code> 中针对 <code>&quot;user_detail/&#123;user&#125;&quot;</code> 路由定义的地方，正确地解析并获取传递过来的 <code>User</code> 对象，然后传递给 <code>UserDetailScreen</code> 用于展示。</li><li>数据恢复：在 <code>UserDetailActivity</code> 的 <code>onSaveInstanceState</code> 方法中，依然将接收到的 <code>User</code> 对象保存到 <code>outState</code> 中，以便在页面重建（如屏幕旋转等情况）时能恢复数据。在 <code>UserDetailScreen</code> 可组合函数里，使用 <code>LaunchedEffect</code> 和 <code>remember</code> 等 Compose 特性来处理数据变化，确保当接收到新的用户数据（比如页面重建后恢复的数据）时能正确更新 UI 展示，以此提供良好的用户体验。</li></ul><h4 id="2-3-2-XML、Compose-Navigation-DSL-管理路由"><a href="#2-3-2-XML、Compose-Navigation-DSL-管理路由" class="headerlink" title="2.3.2 XML、Compose Navigation DSL 管理路由"></a>2.3.2 XML、Compose Navigation DSL 管理路由</h4><p>部分老旧项目中仍然使用 XML 管理路由。例如上个 case 就可以像这样使用路由：</p><pre class="line-numbers language-XML" data-language="XML"><code class="language-XML">&lt;navigation xmlns:android&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res&#x2F;android&quot;    xmlns:app&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res&#x2F;app&quot;    xmlns:tools&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res&#x2F;tools&quot;    app:startDestination&#x3D;&quot;main&quot;&gt;    &lt;composable        android:id&#x3D;&quot;main&quot;        android:name&#x3D;&quot;com.example.myapplication.MainScreen&quot;        app:route&#x3D;&quot;main&quot;&gt;    &lt;&#x2F;composable&gt;    &lt;composable        android:id&#x3D;&quot;user_detail&quot;        android:name&#x3D;&quot;com.example.myapplication.UserDetailScreen&quot;        app:route&#x3D;&quot;user_detail&#x2F;&#123;user&#125;&quot;        app:arguments&#x3D;&quot;@array&#x2F;user_detail_arguments&quot;&gt;    &lt;&#x2F;composable&gt;    &lt;action        android:id&#x3D;&quot;action_main_to_user_detail&quot;        app:destination&#x3D;&quot;@id&#x2F;user_detail&quot;        app:popUpTo&#x3D;&quot;@id&#x2F;main&quot;        app:popUpToInclusive&#x3D;&quot;false&quot;&gt;    &lt;&#x2F;action&gt;    &lt;!-- 其他相关配置 --&gt;&lt;&#x2F;navigation&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><strong>传统项目和大型团队协作场景</strong>：在一些已经存在的大型Android项目中，XML路由管理仍然被广泛使用。这些项目可能有较长的开发周期和复杂的团队协作结构。XML提供了一种清晰、易于理解的方式来定义整个应用的导航架构，不同的开发人员可以通过查看XML文件快速了解页面之间的跳转关系。例如，一个拥有多个模块和众多Activity的金融类应用，使用XML来定义路由可以使得模块之间的导航逻辑一目了然。</li><li><strong>与 Android 原生组件集成场景</strong>：当应用需要深度集成Android原生的组件（如通知栏跳转、系统快捷方式跳转等）时，XML路由管理可以更好地与系统原生的Intent机制相结合。例如，通过在XML中定义好的路由路径，当用户点击通知栏中的消息时，系统可以根据XML中的配置准确地跳转到应用内对应的页面。</li></ul><p><strong>Compose Navigation DSL 是逐渐兴起的替代方案或补充方式。</strong></p><ul><li><strong>代码驱动的路由管理（如Compose Navigation DSL）</strong>：在使用Jetpack Compose构建UI的项目中，Compose Navigation DSL提供了一种代码驱动的路由管理方式。开发者可以通过编写Kotlin代码来定义导航图，这种方式更加灵活，并且与Compose的编程风格紧密结合。例如，在一个完全基于Compose构建的小型工具类应用中，通过代码定义路由可以使导航逻辑与UI组件的构建更加紧密地集成在一起。</li><li><strong>动态路由管理（基于运行时条件）</strong>：有些应用需要根据用户权限、设备状态或者业务逻辑动态地生成路由路径。在这种情况下，代码中动态构建路由的方式就显得更加合适。比如，一个具有用户角色权限系统的企业级应用，不同角色的用户登录后，根据其权限动态生成不同的导航菜单和路由路径，这种情况下通过代码动态控制路由比固定的XML路由更加灵活。</li></ul>]]></content>
      
      
      <categories>
          
          <category> Android </category>
          
          <category> UI </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android </tag>
            
            <tag> Kotlin </tag>
            
            <tag> Jetpack Compose </tag>
            
            <tag> Activity </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>N2 日语部分语法点归总（1）</title>
      <link href="/2024/09/17/japanese-grammar-3/"/>
      <url>/2024/09/17/japanese-grammar-3/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p><button class="btn-small waves-effect waves-light" id="toggleButton">变更测试模式</button></p><script>  let usingHeimu = true;  document.getElementById('toggleButton').addEventListener('click', () => {    usingHeimu = !usingHeimu;    const spans = document.querySelectorAll('span.heimu, span.no-heimu');    spans.forEach(span => {      if (usingHeimu) {        span.classList.remove('no-heimu');        span.classList.add('heimu');      } else {        span.classList.remove('heimu');        span.classList.add('no-heimu');      }    });  });</script><blockquote><p>本文来自于 bilibili UP 主 <a href="https://space.bilibili.com/548121510">当当_suzu</a> 的 <a href="https://www.bilibili.com/video/BV1yY411b7zY">N2 系列视频</a>，这套视频是我见过 N2 系列语法视频中讲的最全的版本，如果有可能大家请尽可能支持原作者！</p><p>本文内容来自于该系列视频讲义。如有侵犯著作权的行为请联系我及时删除。</p></blockquote><h2 id="知识点快速过"><a href="#知识点快速过" class="headerlink" title="知识点快速过"></a>知识点快速过</h2><h3 id="表示评价、判断"><a href="#表示评价、判断" class="headerlink" title="表示评价、判断"></a>表示评价、判断</h3><table><thead><tr><th>含义&#x2F;假名类</th><th>はず</th><th>わけ</th><th>もの</th><th>べき&#x2F;こと</th><th>包含汉字词</th><th>其它</th></tr></thead><tbody><tr><td>应该</td><td>はずだ（有把握的推测）</td><td>わけだ（自然而然的）</td><td>ものだ（道理，常识）</td><td>べきだ（主张）、ことだ（劝告，要求）</td><td>と見える（可见，看来）</td><td>でなくてなんだろう（不是..又是什么呢？）</td></tr><tr><td>一定，表肯定</td><td></td><td></td><td>というものだ “才真是”，表肯定强调</td><td></td><td>に相違ない、に決まっている、に違いない</td><td>にほかならない（正是、不外乎）</td></tr><tr><td>确实是</td><td></td><td></td><td>ものがある 确实是（有这样的特性）</td><td></td><td></td><td></td></tr><tr><td>不应该</td><td>はずがない</td><td>わけがない（没有可能）</td><td>ものではない 不该（违反常识）</td><td></td><td></td><td></td></tr><tr><td>不可能</td><td></td><td></td><td>ものか 表强烈否定，“怎么可能”</td><td></td><td></td><td></td></tr><tr><td>并不是，并非</td><td></td><td>わけではない・わけでもない（并不是、并非）</td><td>というものではない 并不是</td><td></td><td></td><td></td></tr><tr><td></td><td></td><td>というわけではない</td><td></td><td></td><td></td><td></td></tr><tr><td>不能</td><td></td><td>わけにはいかない 不能（受到约束和限制）</td><td></td><td></td><td></td><td></td></tr><tr><td>令人…的是</td><td></td><td></td><td></td><td>ことに</td><td></td><td></td></tr><tr><td>不必</td><td></td><td></td><td></td><td>ことはない</td><td></td><td></td></tr><tr><td>只不过</td><td></td><td></td><td></td><td></td><td></td><td>にすぎない（只不过，强调程度低）</td></tr></tbody></table><p>表示语气：</p><ul><li>～ものだ 表示感叹；</li><li>～たいものだ 表示强烈的愿望；「真想」</li><li>～たものだ 表回忆，过去经常，「总是」</li><li>～のではない（だろか）か &#x3D;&#x3D;否定+疑问（表肯定）&#x3D;&#x3D; …吧（委婉语气）</li></ul><p>表示比较：</p><ul><li>～ほど～ない 没那么…</li><li>～ほど～はない 没有比…更…</li></ul><h3 id="表示时间"><a href="#表示时间" class="headerlink" title="表示时间"></a>表示时间</h3><table><thead><tr><th><strong>正好要</strong></th><th><strong>正在做</strong></th><th><strong>刚做完</strong></th><th><strong>同时做（一件事情在做时）</strong></th><th><strong>一…就</strong></th><th><strong>…之后</strong></th><th><strong>…的时候（值此之际）</strong></th><th><strong>每次（表示频率）</strong></th></tr></thead><tbody><tr><td>～ところだ</td><td>～（ている）ところだ</td><td>～（た）ところ</td><td>～ついでに<br>顺便做某事</td><td>～か～ないかのうちに<br>刚一…就（要完未完之时）</td><td>～うえで</td><td>～にあたって<br>～にあたり</td><td>～たびに</td></tr><tr><td>～ところだ（に、へ）</td><td>～最中<br>正在…的时候（鼎盛期）</td><td></td><td>～うちに<br>趁着（不用于未来）<br>在…的过程中</td><td>～かと思うと<br>～かと思うったら<br>一…就（出乎意料）<br>原以为…（出乎意料）</td><td>～て以来</td><td>～際、～に際し<br>に際して</td><td>（N3）～ごとに</td></tr><tr><td>～ところを<br>即将（表示不利状况）<br>表示尊敬</td><td></td><td></td><td></td><td>～た途端（に）</td><td>～てはじめて</td><td>～をきっかけにして</td><td>（N3）～おきに</td></tr><tr><td></td><td></td><td></td><td></td><td>～次第<br>一…就、取决于…</td><td></td><td>～を契機として<br>～を機に</td><td></td></tr></tbody></table><h2 id="前置知识：活用接续概念"><a href="#前置知识：活用接续概念" class="headerlink" title="前置知识：活用接续概念"></a>前置知识：活用接续概念</h2><h3 id="体言VS用言"><a href="#体言VS用言" class="headerlink" title="体言VS用言"></a>体言VS用言</h3><p>日语中，用言和体言的区别，最根本的区别就是两者内容和用法不同，</p><p>体言：名词、代名词、数词</p><p>用言：动词，形容词，形容动词</p><p>体言的特点：</p><p>1、体言是没有活用（即词尾变化）的独立词。</p><p>2、体言可以后接助词が（は、も等）构成主语，这是体言最大的特点。</p><p>3、体言可以后接助词构成连体修饰语、连用修饰语等，还可以后接断定助动词だ（です）等构成谓语。</p><p>4、体言前面可以加连体修饰语。</p><p>用言的特点：</p><p>1、用言是 有活用（即词尾变化）的独立词。</p><p>2、用言 可以单独构成谓语，这是用言最大的特点。</p><p>3、用言 可以通过自身的词尾变化构成连体修饰语、连用修饰语。</p><p>4、用言前面可以加连用修饰语。</p><h3 id="活用形简述"><a href="#活用形简述" class="headerlink" title="活用形简述"></a>活用形简述</h3><p>简体形、终止形、连体形、连用形、中顿形指的并非某种具体的形式，而是根据接续功能的不同，把一系列活用形式汇总到一起的总称。他们的接续功能如下：</p><ul><li><p>简体形，是用来体现词的核心部分。</p></li><li><p>终止形，是用来放到句末来结句。</p></li><li><p>连体形，是用来修饰名词。</p></li><li><p>连用形，是用来连接其他用言（具体包括动词、形容词、形容动词）。</p></li><li><p>中顿形，是用来连接后半句话。</p></li></ul><p>对于动词而言，“简体形”具体包括：表非过去肯定的辞书形、表过去肯定的た形、表非过去否定的ない形、以及表过去否定的なかった形，共四种。因为这四种形式均可以放在句末结句，也可以直接放在名词前做定语，所以“终止形”即“简体形”，“连体形”也为“简体形”。而动词的“连用形”和“中顿形”一致，ます形去ます和て形均可使用。</p><p>对于形容词而言，简体形同样是四种。因为这四种形式均可以放在句末结句，也可以直接放在名词前做定语，所以“终止形”即“简体形”，“连体形”也为“简体形”。连用形和中顿形是く或くて。</p><p>对于形容动词而言，简体形是词干本身，终止形是词干+だ・である，以及引申出的过去和否定。而连体形是词干+な，连用形和中顿形是で、であり。</p><p>对于名词而言，简体形是词干本身，终止形是词干+だ・である，以及由此引申出的过去和否定。而连体形最常用的是词干+の，也会遇到词干+だった或である的情况，连用形和中顿形是词干+で・であり。</p><h2 id="第一部分：判断、評価"><a href="#第一部分：判断、評価" class="headerlink" title="第一部分：判断、評価"></a>第一部分：判断、評価</h2><h3 id="1-～はずだ"><a href="#1-～はずだ" class="headerlink" title="1. ～はずだ"></a>1. ～はずだ</h3><p>接続：連体形、名詞＋の</p><p>意味：<span class="heimu">应该（有把握的推测）</span></p><p>例文：</p><p>会議は2時に始まるはずです。<span class="heimu">会议应该2点开始。</span></p><p>妹は今年卒業のはずです。<span class="heimu">妹妹应该今年毕业了。</span></p><p><span class="heimu">そのこともう彼に話しましたから、彼は知っているはずだ。</span>那件事情已经跟他说过了，他应该知道。</p><h3 id="2-～はずがない"><a href="#2-～はずがない" class="headerlink" title="2. ～はずがない"></a>2. ～はずがない</h3><p>接続：連体形</p><p>意味：<span class="heimu">不应该</span></p><p>例文：</p><p>夏休み中だから、彼女は忙しいはずがない。<span class="heimu">现在放暑假，她不应该很忙。</span></p><p><span class="heimu">あの人は日本に10年も住んでいるから、日本語が分からないはずがない。</span>那个人在日本住了10年，不可能不懂日语。</p><h3 id="3-～わけだ"><a href="#3-～わけだ" class="headerlink" title="3. ～わけだ"></a>3. ～わけだ</h3><p>接続：連体形</p><p>意味：<span class="heimu">应该（自然而然的应该）；难怪</span></p><p>例文：</p><p>10年もう日本にいたから、日本語が上手なわけだ。<span class="heimu">在日本也10年了，日语应该很熟练了。</span></p><p><span class="heimu">子供さえわかるような問題だったので、自然にすぐ答えられたわけです。</span>是个连孩子都明白的问题，自然立刻就回答上来了。</p><h3 id="4-～わけがない"><a href="#4-～わけがない" class="headerlink" title="4. ～わけがない"></a>4. ～わけがない</h3><p>&#x3D;&#x3D;わけない</p><p>接続：連体形</p><p>意味：<span class="heimu">没有可能这样</span></p><p>例文：</p><p>そんなやさしい彼がそんなことをするわけがない。<span class="heimu">他那么温柔，没有可能做这种事。</span></p><p><span class="heimu">とても難し問題ので、誰にも答えられるわけがない。</span>是个非常难的问题，所以谁都不可能答得出来。</p><h3 id="5-～わけではない・わけでもない"><a href="#5-～わけではない・わけでもない" class="headerlink" title="5. ～わけではない・わけでもない"></a>5. ～わけではない・わけでもない</h3><p>接続：連体形</p><p>意味：<span class="heimu">并不是、并非</span></p><p>例文：</p><p>お酒が嫌いなわけでもないが、医者に注意されたので飲まないことにしている。<span class="heimu">并不是不喜欢酒，只是医生要求注意不能喝。</span></p><p><span class="heimu">このクラスの学生は全員まじめに勉強するわけではない。</span>这个班的学生并非都好好学习。</p><h3 id="6-～というわけではない"><a href="#6-～というわけではない" class="headerlink" title="6. ～というわけではない"></a>6. ～というわけではない</h3><p>接続：用言辞書型、体言</p><p>意味：<span class="heimu">并不是</span></p><p>例文：</p><p>n+次第：取决于</p><p>必ずしも：并非，不一定；后面会经常搭配表示「未必」的固定搭配。</p><p>能力次第に。必ずしも大学卒というわけではない。<span class="heimu">根据能力，而未必是（根据）大学毕业。</span></p><p><span class="heimu">参加したくないというわけでわないが、時間がないです。</span>并不是不想参加，只是没有时间。</p><h3 id="7-～わけにはいかない"><a href="#7-～わけにはいかない" class="headerlink" title="7. ～わけにはいかない"></a>7. ～わけにはいかない</h3><p>～ないわけにはいかない 不得不…</p><p>接続：連体形</p><p>意味：<span class="heimu">不能（受到约束和限制）</span></p><p>例文：</p><p>風邪ひいたが、最近仕事忙しいので、会社を休むわけにはいかない。<span class="heimu">虽然感冒了，但是最近工作很忙，所以不能向公司请假。</span></p><p><span class="heimu">約束したので、行かないわけにはいかない。</span>因为已经约定好了，所以不能不去。</p><h3 id="8-～ものだ"><a href="#8-～ものだ" class="headerlink" title="8. ～ものだ"></a>8. ～ものだ</h3><p>接続：連体形</p><p>（1）意味：<span class="heimu">应该（道理，常识，习惯）</span></p><p>例文：</p><p>良薬は口に苦しいものだ。<span class="heimu">好的药应该就是苦的。良药苦口。</span></p><p><span class="heimu">人のお宅へ伺う時は、電話をしてからいくものだ。</span>到别人家拜访的时候，就应该先打电话。</p><p>（2）意味：<span class="heimu">表示感叹</span></p><p>例文：</p><p>時間の経つは速いものだ。<span class="heimu">时间过得真快啊！</span></p><p><span class="heimu">すごいものだ。</span>真厉害啊！</p><p>（3）意味：<span class="heimu">表示强烈的愿望，「真想」</span></p><p>接続：～たいものだ</p><p>例文：</p><p>子供の頃から、大きくなったら宇宙旅行をしたいものだと思っていた。<span class="heimu">小孩子的时候，想着长大之后去宇宙旅行啊！</span></p><p><span class="heimu">早く国へ帰って家族に会いたいものだ。</span>真想早点回国跟家人见面啊！</p><p>（4）意味：<span class="heimu">表回忆，「总是」</span></p><p>接続：～たものだ</p><p>例文：</p><p>おばあさんは昔よくこう言ったものです。<span class="heimu">奶奶过去经常这样说。</span></p><p><span class="heimu">昔はよくあの公園へ散歩に行ったものだ。</span>过去经常在那个公园散步。</p><h3 id="9-～ものではない"><a href="#9-～ものではない" class="headerlink" title="9. ～ものではない"></a>9. ～ものではない</h3><p>接続：連体形</p><p>意味：<span class="heimu">不该（违反常识）</span></p><p>例文：</p><p>人の悪口をいうもんじゃない。<span class="heimu">我们不该说别人的坏话。</span></p><p><span class="heimu">先生に対してそんなことを言うものではない。</span>不要对老师说那种话。</p><h3 id="10-～というものだ"><a href="#10-～というものだ" class="headerlink" title="10. ～というものだ"></a>10. ～というものだ</h3><p>接続：用言辞書型、体言</p><p>意味：<span class="heimu">「才真是」，表肯定强调</span></p><p>例文：</p><p>自分のことだけでなく、他人のことも考えてやることのできる人、それが大人というものです。<span class="heimu">不仅是自己的事情，能够考虑其他人做的事情的人，才真的是一个大人了。</span></p><p>てやる&#x3D;てあげる</p><p><span class="heimu">成績のいい学生にいろいろチャンス、不公平というものだ。</span>只给成绩好的学生各种机会，就是不公平。</p><h3 id="11-～というものではない"><a href="#11-～というものではない" class="headerlink" title="11. ～というものではない"></a>11. ～というものではない</h3><p>接続：用言辞書型、体言</p><p>意味：<span class="heimu">并不是</span></p><p>例文：</p><p>言葉の勉強は、文法がわかればいいというものではない。<span class="heimu">学习语言并不是学习文法就够了</span></p><p><span class="heimu">お金があれば、何でも買えるというものではない。</span>有钱并不是什么都能买到。</p><h3 id="12-～ものか"><a href="#12-～ものか" class="headerlink" title="12. ～ものか"></a>12. ～ものか</h3><p>PK：ものの（虽然）・ものだ・ものを</p><p>接続：用言辞書型</p><p>意味：<span class="heimu">表强烈否定，「怎么可能」</span></p><p>例文：</p><p>あんなまずい店には二度といくものか。<span class="heimu">那种难吃的店怎么能去吃第二次？</span></p><p><span class="heimu">あんなひとは恋人ができるものか。</span>那种人怎么会有对象？</p><h3 id="13-～ものがある"><a href="#13-～ものがある" class="headerlink" title="13. ～ものがある"></a>13. ～ものがある</h3><p>接続：連体形</p><p>意味：<span class="heimu">确实是（有这样的特性）</span></p><p>例文：</p><p>昨日見た映画はとても感動するものがあります。<span class="heimu">昨天看的电影确实很感动啊。</span></p><p><span class="heimu">さすがに大作家で、どの作品もすばらしいものがある。</span>不愧是大作家，每部作品都很出色。</p><h3 id="14-～べきだ"><a href="#14-～べきだ" class="headerlink" title="14. ～べきだ"></a>14. ～べきだ</h3><p>接続：用言辞書型、する＋べき（だ）&#x3D;すべき（だ）</p><p>意味：<span class="heimu">应该（说话人的主张建议）</span></p><p>例文：&#x3D;&#x3D;やるべきこと&#x3D;&#x3D;</p><p>学生はまず勉強すべきだ。<span class="heimu">学生应该好好学习。</span></p><p><span class="heimu">親に対して、こんな失礼なことを言うべきではない。</span>不能对父母说这种无礼的话。</p><h3 id="15-～ことだ"><a href="#15-～ことだ" class="headerlink" title="15. ～ことだ"></a>15. ～ことだ</h3><p>接続：連体形（可以省略だ）</p><p>意味：<span class="heimu">应该（劝告，要求）</span></p><p>例文：</p><p>合格したければ、よく勉強することだ。<span class="heimu">如果想合格，就要好好学习。</span></p><p><span class="heimu">上手になりたければ、しかり練習することだ。</span>想变得出色的话，就要认真练习了。</p><h3 id="16-～ことに"><a href="#16-～ことに" class="headerlink" title="16. ～ことに"></a>16. ～ことに</h3><p>接続：形容詞・形容詞連体形、動詞た形</p><p>意味：<span class="heimu">令人…的是</span></p><p>例文：</p><p>困ったことに、あの人の名前がどうしても思い出せなかった。<span class="heimu">无论如何都想不起来那个人的名字了。</span></p><p><span class="heimu">不思議なことに、会社をやめたら、よく眠れるようになった。</span>令人不可思议的是，辞职后睡眠变好了。</p><h3 id="17-～ことはない"><a href="#17-～ことはない" class="headerlink" title="17. ～ことはない"></a>17. ～ことはない</h3><p>接続：連体形</p><p>意味：<span class="heimu">不必</span></p><p>例文：</p><p>何も心配することはありません。<span class="heimu">什么也不必担心。</span></p><p><span class="heimu">そのぐらいことで怒ることはないでしょう。</span>什么程度的事情也不必发火呀！（那么点小事情也不必发火呀！）</p><h3 id="18-～ほど～ない"><a href="#18-～ほど～ない" class="headerlink" title="18. ～ほど～ない"></a>18. ～ほど～ない</h3><p>接続：連体形、体言</p><p>意味：<span class="heimu">没那么…</span></p><p>例文：&#x3D;&#x3D;AほどＢない&#x3D;&#x3D;   &#x3D;&#x3D;没A那么B&#x3D;&#x3D;</p><p>今年の夏は暑いが、去年ほどではない。<span class="heimu">今年的夏天好热，没去年那么热。</span></p><p><span class="heimu">想像したほどおもしろくない。</span>没有想象中有趣。</p><h3 id="19-～ほど～はない"><a href="#19-～ほど～はない" class="headerlink" title="19. ～ほど～はない"></a>19. ～ほど～はない</h3><p>接続：体言</p><p>意味：<span class="heimu">没有比…更…</span></p><p>例文：</p><p>健康ほど大切なものはない。<span class="heimu">没有比健康更重要的了。</span></p><p><span class="heimu">彼女ほど綺麗な人はいない。</span>没有比她更漂亮的人了。</p><h3 id="20-～と見える"><a href="#20-～と見える" class="headerlink" title="20. ～と見える"></a>20. ～と見える</h3><p>接続：用言辞書型、体言</p><p>意味：<span class="heimu">可见，看来</span></p><p>例文：</p><p>彼は赤い顔をしていて、相当怒っていると見える。<span class="heimu">他的脸变得红起来了，看起来像是非常生气了。</span></p><p><span class="heimu">雨が降ったと見える。</span>看得出来下雨了。</p><h3 id="21-～にすぎない"><a href="#21-～にすぎない" class="headerlink" title="21. ～にすぎない"></a>21. ～にすぎない</h3><p>（重要）</p><p>接続：用言辞書型、体言</p><p>意味：<span class="heimu">只不过 &#x3D;&#x3D;强调程度低&#x3D;&#x3D;</span></p><p>例文：</p><p>収入は二万円にすぎない。<span class="heimu">收入只不过就两万日元而已。</span></p><p><span class="heimu">ピアノは趣味として練習しているにすぎない。</span>只不过在作为兴趣练习钢琴。</p><h3 id="22-～にほかならない"><a href="#22-～にほかならない" class="headerlink" title="22. ～にほかならない"></a>22. ～にほかならない</h3><p>含义&#x3D;&#x3D;ほかない</p><p>ＰＳ：&#x3D;&#x3D;～（より）ほかはない&#x3D;&#x3D; &#x3D;&#x3D;只好&#x3D;&#x3D;</p><p>接続：体言</p><p>意味：<span class="heimu">正是，不外乎</span></p><p>例文：</p><p>彼に成功をもたらしたものは、今までの努力にほかならない。<span class="heimu">为他带来成功的，正是迄今为止的努力。</span><br><span class="heimu">彼が子供に厳しいのは、子供を深く愛しているにほかならない。</span>他对孩子严厉，正是因为他深深地爱着孩子。</p><h3 id="23-～でなくてなんだろう"><a href="#23-～でなくてなんだろう" class="headerlink" title="23. ～でなくてなんだろう"></a>23. ～でなくてなんだろう</h3><p>接続：体言</p><p>意味：<span class="heimu">不是…又是什么呢？</span></p><p>例文：</p><p>これが愛でなくてなんだろう。<span class="heimu">这不是爱又是什么呢。</span></p><p><span class="heimu">これは命ではなんだろう。</span>这不是命又是什么呢。</p><h3 id="24-～に相違ない"><a href="#24-～に相違ない" class="headerlink" title="24. ～に相違ない"></a>24. ～に相違ない</h3><p>接続：用言辞書型、体言</p><p>意味：<span class="heimu">一定（书面语）</span></p><p>例文：</p><p>私が見たのはこの人に相違ありません。<span class="heimu">我一定要见到那个人。</span></p><h3 id="25-～に決まっている"><a href="#25-～に決まっている" class="headerlink" title="25. ～に決まっている"></a>25. ～に決まっている</h3><p>接続：用言辞書型、体言</p><p>意味：<span class="heimu">一定（语气更强）</span></p><p>例文：</p><p>あの人のいうことは噓に決まっている。<span class="heimu">他说的话肯定是骗人的。</span></p><h3 id="26-～に違いない"><a href="#26-～に違いない" class="headerlink" title="26. ～に違いない"></a>26. ～に違いない</h3><p>接続：用言辞書型、体言</p><p>意味：<span class="heimu">一定（语气略弱且主观）</span></p><p>例文：</p><p>あの男は人の話になんでも「はいはい」と言っている。日本人に違いない。<span class="heimu">那个男人对别人的话什么都说“是是”。一定是日本人。</span></p><p>&#x3D;&#x3D;PS：24～26意思相近且考得多&#x3D;&#x3D;</p><h3 id="27-～のではない（だろか）か"><a href="#27-～のではない（だろか）か" class="headerlink" title="27. ～のではない（だろか）か"></a>27. ～のではない（だろか）か</h3><p>&#x3D;&#x3D;否定+疑问（表肯定）&#x3D;&#x3D;</p><p>接続：連体形</p><p>意味：<span class="heimu">…吧（委婉语气）</span></p><p>例文：</p><p>いったん失敗をしたら、また失敗をするのではないかと考えになる。<span class="heimu">一旦失败了，就会担心说会不会再失败。</span></p><p><span class="heimu">田中さんは昨日来たかな？ 来たんじゃないかと思うけど。</span>昨晚田中来了吗？我是觉得来了的。</p><h2 id="第二部分：時間"><a href="#第二部分：時間" class="headerlink" title="第二部分：時間"></a>第二部分：時間</h2><h3 id="1-～ところだ"><a href="#1-～ところだ" class="headerlink" title="1. ～ところだ"></a>1. ～ところだ</h3><p>接続：動詞辞書型</p><p>意味：<span class="heimu">正好要… 日语没有将来时，这里全部都用原型。</span></p><p>例文：</p><p>いま行くところだ。<span class="heimu">现在就要走了。</span></p><p><span class="heimu">これから食事にするところだ。</span>现在就要开饭。</p><h3 id="2-～（ている）ところだ"><a href="#2-～（ている）ところだ" class="headerlink" title="2. ～（ている）ところだ"></a>2. ～（ている）ところだ</h3><p>接続：て型</p><p>意味：<span class="heimu">正在…</span></p><p>例文：</p><p>今読んでいるところだ。<span class="heimu">现在正在读呢。</span></p><p><span class="heimu">娘は餃子を作っているところだ。</span>女儿正在做饺子。</p><h3 id="3-～（た）ところ"><a href="#3-～（た）ところ" class="headerlink" title="3. ～（た）ところ"></a>3. ～（た）ところ</h3><p>表示强调动作、事实上的刚刚</p><p>&#x3D;&#x3D;～たばかり（区别：心理上认为的刚刚）</p><p>接続：た型</p><p>意味：<span class="heimu">（1）刚刚（2）顺接（对应于转折、让步），自然而然的过渡</span></p><p> 例文：</p><p>今帰ってきたところです。<span class="heimu">现在刚回来。</span></p><p><span class="heimu">おわったところです。</span>现在刚结束。</p><h3 id="4-～ところに"><a href="#4-～ところに" class="headerlink" title="4. ～ところに"></a>4. ～ところに</h3><p>接続：連体形</p><p>意味：<span class="heimu">正要…时，…（在做什么事的时候，被打断了）</span></p><p>例文：</p><p>新聞を読もうとしたところに、電話がかかってきた。<span class="heimu">我正要读新闻的时候，电话来了。</span></p><p>もうとした：た的「将来时」用法。</p><p><span class="heimu">私が出かけるところに、彼が来た。</span>我正要出门的时候，他来了。</p><h3 id="5-～ところへ"><a href="#5-～ところへ" class="headerlink" title="5. ～ところへ"></a>5. ～ところへ</h3><p>接続：ている型・連体形</p><p>意味：<span class="heimu">正要…时，…（被打断）</span></p><p>PS：4、5（～ところに、～ところへ）意思一致。</p><p>例文：</p><p>どうしたらいいかと迷っているところへ、彼がやってきました。<span class="heimu">正当我不知道要怎么做的时候，他来了。</span></p><p><span class="heimu">出かけようとしているところへ、友達が来た。</span>正当我要出门的时候，朋友们来了。</p><h3 id="6-～ところを"><a href="#6-～ところを" class="headerlink" title="6. ～ところを"></a>6. ～ところを</h3><p>（1）接続：連体形</p><p>意味：<span class="heimu">正要…时，…（表示不利的情况）</span></p><p>例文：</p><p>授業でスマホを使っているところを先生に見られてしまった。<span class="heimu">上课的时候使用手机被老师发现了。</span></p><p><span class="heimu">こっそりお酒を飲んでいたところを、彼女に見つかった。</span>正在偷偷喝酒的时候被她发现了。</p><p>（2）接続：連体形、名詞＋の</p><p>意味：<span class="heimu">在…时（表恭敬）</span></p><p>例文：</p><p>お忙しいところを邪魔します。<span class="heimu">在您百忙之中。</span></p><p><span class="heimu">お休みのところを、わざわざおいでくださいまして、ありがとうございました。</span>您休息的时候还特意来一趟，非常感谢。</p><h3 id="7-～最中"><a href="#7-～最中" class="headerlink" title="7. ～最中"></a>7. ～最中</h3><p>接続：連体形、名詞＋の</p><p>意味：<span class="heimu">正在…的时候（鼎盛期）</span></p><p>例文：</p><p>今は暑い最中だ。<span class="heimu">现在是最热的时候。</span></p><p><span class="heimu">相談している最中だ。</span>现在正在商量。</p><h3 id="8-～たびに"><a href="#8-～たびに" class="headerlink" title="8. ～たびに"></a>8. ～たびに</h3><p>接続：連体形、名詞＋の</p><p>意味：<span class="heimu">每当、每次</span></p><p>例文：</p><p>この写真を見るたびに、大学時代を思い出す。<span class="heimu">每当看到这张照片，就会想起大学时光。</span></p><p><span class="heimu">あの人は來るたびに、文句を言う。</span>那个人每次来都要抱怨。</p><h3 id="9-～ついでに"><a href="#9-～ついでに" class="headerlink" title="9. ～ついでに"></a>9. ～ついでに</h3><p>接続：連体形、名詞＋の</p><p>意味：<span class="heimu">…的时候，顺便…</span></p><p>一般来说会有两件事情，ついでに之前，相连的事件不是「顺便做的事情」而是决定了发生的时间节点。ついでに后面接入的才是「顺便」的意思。</p><p>例文：</p><p>散歩のついでに、買い物をしてきた。<span class="heimu">散步的时候，顺便去买点东西。</span></p><p><span class="heimu">銀行に行くついでに、手紙を出す。</span>去银行的时候，顺便寄出了一封信。</p><h3 id="10-～うちに"><a href="#10-～うちに" class="headerlink" title="10. ～うちに"></a>10. ～うちに</h3><p>（1）接続：連体形、名詞＋の</p><p>意味：<span class="heimu">趁着（不用于未来）</span></p><p>例文：</p><p>温かいうちに食べてください。<span class="heimu">趁着东西温暖的时候赶紧吃了。</span></p><p><span class="heimu">若いうちにしっかり勉強しなさい。</span>趁着年轻的时候好好学习。</p><p>（2）接続：連体形、名詞＋の</p><p>意味：<span class="heimu">在…的过程中（发生自然而然的变化）</span></p><p>与中に（なかに）的区别是：中に表示「结果」，而うちに表示过程。都能翻译成…中。</p><p>例文：</p><p>話しているうちに外は暗くなりました。<span class="heimu">在说话的时候外面天暗下来了。</span></p><p><span class="heimu">本を読んでいるうちに、眠くなった。</span>看着看着书睡着了。</p><h3 id="11-～か～ないかのうちに"><a href="#11-～か～ないかのうちに" class="headerlink" title="11. ～か～ないかのうちに"></a>11. ～か～ないかのうちに</h3><p>接続：動詞辞書型</p><p>意味：<span class="heimu">刚一…就（要完未完之时）</span></p><p>例文：</p><p>一つの仕事が終わるか終わらないかのうちに、次の仕事がきた。<span class="heimu">一件工作刚做完的时候，下一件工作就来了。</span></p><p><span class="heimu">終わるか終わらないかのうちに、雨が降り出した。</span>比赛刚一结束就下起了雨。</p><h3 id="12-と思うと"><a href="#12-と思うと" class="headerlink" title="12. と思うと"></a>12. と思うと</h3><p>～かと思うと・～かと思うったら</p><p>（1）接続：た型</p><p>意味：<span class="heimu">一…就（出乎意料）</span></p><p>例文：</p><p>雨が降ったかと思うと、すぐ止んだ。<span class="heimu">雨刚一下，就停止了。</span></p><p><span class="heimu">花は咲いたと思うと、もう散ってしまた。</span>花刚一开，就凋谢了。</p><p>（2）接続：連体形、名詞</p><p>意味：<span class="heimu">原以为…（出乎意料）</span></p><p>例文：</p><p>彼はもう北京へ行ったかと思ったら、まだいかないでいた。<span class="heimu">原以为他也去北京了，没想到他还没去。</span></p><p><span class="heimu">京都は静かなところかと思ったら、東京と同じだ。</span>原来以为京都很安静，没想到和东京一样。</p><h3 id="13-～た途端（に）"><a href="#13-～た途端（に）" class="headerlink" title="13. ～た途端（に）"></a>13. ～た途端（に）</h3><p>接続：た型</p><p>意味：<span class="heimu">一…就</span></p><p>例文：</p><p>部屋に入った途端、電話が鳴りました。<span class="heimu">一进入房间，电话声就响起来了。</span></p><p><span class="heimu">教室に着いた途端、忘れ物にきづいた。</span>一到教室的时候，就发现自己忘带东西了。</p><h3 id="14-～うえで"><a href="#14-～うえで" class="headerlink" title="14. ～うえで"></a>14. ～うえで</h3><p>&#x3D;&#x3D;上で</p><p>接続：た型、名詞＋の</p><p>意味：<span class="heimu">…之后 &#x3D;&#x3D; …基础上</span></p><p>例文：</p><p>両親と話し合った上で決める。<span class="heimu">结合父母的话，在此基础上考虑。</span></p><p><span class="heimu">調査した上で、レポートを書き始めた。</span>取决于调查结果，开始写报告。</p><h3 id="15-～次第"><a href="#15-～次第" class="headerlink" title="15. ～次第"></a>15. ～次第</h3><p>（1）接続：&#x3D;&#x3D;ます型去ます&#x3D;&#x3D;</p><p>意味：<span class="heimu">一…就 &#x3D;&#x3D;强调将来&#x3D;&#x3D;</span></p><p>例文：</p><p>スケジュールを決まり次第、すぐ連絡いたします。<span class="heimu">我一决定这个日程表，就立刻联系你。</span></p><p><span class="heimu">手紙が届き次第、すぐに来てください。</span>收到信之后，就请赶紧过来。</p><p>（2）接続：体言</p><p>意味：<span class="heimu">取决于…</span></p><p>例文：</p><p>天気次第だ。<span class="heimu">取决于天气。</span></p><p><span class="heimu">できるかどうかはきみの努力次第だ。</span>是否能做，取决于你的努力。</p><h3 id="16-～て以来"><a href="#16-～て以来" class="headerlink" title="16. ～て以来"></a>16. ～て以来</h3><p>接続：て型</p><p>意味：<span class="heimu">自…以来（以前项为起点一直持续）</span></p><p>例文：</p><p>別れて以来、五年も経ってしまった。<span class="heimu">分别以来，都已经过了五年了。</span></p><p><span class="heimu">入学して以来、一度も休んだことはない。</span>入学以后一次都没请过假。</p><h3 id="17-～てはじめて"><a href="#17-～てはじめて" class="headerlink" title="17. ～てはじめて"></a>17. ～てはじめて</h3><p>（重要）</p><p>接続：て型</p><p>意味：<span class="heimu">…以后，才（前项是后项的条件）隐含了一个变化的意义。</span></p><p>例文：</p><p>別れてはじめて、君のありがたみがわかる。<span class="heimu">自从分开之后，才知道你的可贵。</span></p><p><span class="heimu">病気になってはいじめて、体が大切であることを知った。</span>生病之后，才知道健康的可贵。</p><h3 id="18-～にあたって・～にあたり"><a href="#18-～にあたって・～にあたり" class="headerlink" title="18. ～にあたって・～にあたり"></a>18. ～にあたって・～にあたり</h3><p>接続：動詞辞書型、名詞</p><p>意味：<span class="heimu">值此之际（书面）</span></p><p>例文：</p><p>新年にあたり、心からの祝いを表します。<span class="heimu">值此新年，表达发自内心的祝福。</span></p><p><span class="heimu">卒業にあたって、先生は私たちにいろいろ話してくれた。</span>毕业的时候，老师向我们说了很多。</p><h3 id="19-～際"><a href="#19-～際" class="headerlink" title="19. ～際"></a>19. ～際</h3><p>接続：連体形、名詞＋の</p><p>意味：<span class="heimu">…的时候</span></p><p>例文：</p><p>ご使用の際に、説明書よく読んでください。<span class="heimu">使用的时候，请读说明书。</span></p><p><span class="heimu">会った際に渡します。</span>见面的时候交给你。</p><h3 id="20-～に際し、に際して"><a href="#20-～に際し、に際して" class="headerlink" title="20. ～に際し、に際して"></a>20. ～に際し、に際して</h3><p>接続：連体形、名詞</p><p>意味：<span class="heimu">当…之际（直面）</span></p><p>例文：</p><p>卒業に際して、先生に心からお礼を申し上げます。<span class="heimu">毕业的时候，对老师发自内心的表示感谢。</span></p><p><span class="heimu">出発に際して、考えを変えました。</span>临出发前改变了自己的想法。</p><h3 id="21-きっかけ、契機"><a href="#21-きっかけ、契機" class="headerlink" title="21. きっかけ、契機"></a>21. きっかけ、契機</h3><p>～をきっかけにして・～を契機として・～を機に</p><p>機、契機（けいき）、きっかけ都有中文中「契机」的意思。</p><p>接続：体言</p><p>意味：<span class="heimu">以…为契机，借…机</span></p><p>例文：</p><p>あの事件をきっかけに戦争が始まった。<span class="heimu">借着那件事件，战争开始了。</span></p><p><span class="heimu">このチャンスを契機として、彼と知り合った。</span>借此机会认识了他。</p><h2 id="第三部分：逆接"><a href="#第三部分：逆接" class="headerlink" title="第三部分：逆接"></a>第三部分：逆接</h2><p>什么是逆接：</p><p>顺接：て、たら等表示「前一件事情结束，后一件事情顺其自然的开始」。</p><p>逆接则刚好相反。比如说「转折」：か，此时后面一个句子表达的意思和前一个句子完全不一样。</p><p>通过逆接「关键词」，可以有效帮我们猜测出前后句子的含义。</p><h3 id="1-～といっても"><a href="#1-～といっても" class="headerlink" title="1. ～といっても"></a>1. ～といっても</h3><p>接続：普通形</p><p>意味：<span class="heimu">虽说</span></p><p>例文：</p><p>安いといっても、10万円はかかるでしょう。<span class="heimu">虽然说很便宜，但是还是花了10万日元啊。</span></p><p><span class="heimu">成績がよくなったといっても、読解の成績だけだ。</span>虽然说成绩提高了，但也只是阅读成绩。</p><h3 id="2-～からといって"><a href="#2-～からといって" class="headerlink" title="2. ～からといって"></a>2. ～からといって</h3><p>接続：連体形</p><p>意味：<span class="heimu">虽说（后项和とは限らない等否定词呼应）</span></p><p>例文：</p><p>とは限らない：未必</p><p>先生だからといって、なんでも知っているとは限らない。<span class="heimu">虽然说是老师，但是知道的知识还是有限的。（未必什么都知道）</span></p><p><span class="heimu">お酒はあまり飲まないからといって、嫌いだというわけではない。</span>虽然说不怎么喝酒，但也并不是讨厌。</p><h3 id="3-～ながら"><a href="#3-～ながら" class="headerlink" title="3. ～ながら"></a>3. ～ながら</h3><p>（1）一边…一边（2）虽然但是（3）n+ながら</p><p>接続：ます型去ます</p><p>意味：<span class="heimu">虽然…但是…</span></p><p>例文：</p><p>やるやると言いながら、結局何もしない。<span class="heimu">虽然说着要做，最后却也什么都没做。</span></p><p>なかなか：轻易、颇，很，非常相当。</p><p><span class="heimu">あの人は小さいながら、なかなか力がある。</span>那个人虽然身材瘦小，但也却很有力气。</p><h3 id="4-～つつ（も）"><a href="#4-～つつ（も）" class="headerlink" title="4. ～つつ（も）"></a>4. ～つつ（も）</h3><p>PS：3和4，意思用法一致。</p><p>接続：ます型去ます</p><p>意味：<span class="heimu">虽然…但是…</span></p><p>例文：</p><p>そう言いつつも、彼女は決して行かないのだ。<span class="heimu">虽然这样说了，但是她却决定不去了。</span></p><p><span class="heimu">タバコをやめようとおもいつつ、いまだに成功していない。</span>虽然想着早点戒烟，但到现在也没有成功。</p><h3 id="5-～ものの"><a href="#5-～ものの" class="headerlink" title="5. ～ものの"></a>5. ～ものの</h3><p>接続：連体形</p><p>意味：<span class="heimu">虽然…但是…（消极）</span></p><p>例文：</p><p>大学は出たものの、就職先が見つからない。<span class="heimu">虽然说上了大学，但是也找不到工作。</span></p><p><span class="heimu">日本に来たものの、日本語が分からなくて、困っている。</span>尽管来日本了，但是还是不懂日语，感觉很困扰。</p><p>からには：既然。</p><h3 id="6-～にもかかわらず"><a href="#6-～にもかかわらず" class="headerlink" title="6. ～にもかかわらず"></a>6. ～にもかかわらず</h3><p>接続：動詞連体形、形容動詞＋てある・形容動詞＋なの</p><p>意味：<span class="heimu">尽管</span></p><p>例文：</p><p>周りは静かなのにもかかわらず、全然眠れなかった。<span class="heimu">尽管周围很安静，但还是完全睡不着。</span></p><p><span class="heimu">大雨にもかかわらず、試合は続いている。</span>尽管下大雨，比赛还是持续进行。</p><h3 id="7-～たところが"><a href="#7-～たところが" class="headerlink" title="7. ～たところが"></a>7. ～たところが</h3><p>（重要）</p><p>接続：た型</p><p>意味：<span class="heimu">可是、但是（表示意外的转折）</span></p><p>例文：</p><p>ブロポーズに行ったところが、彼女は留守だった。<span class="heimu">去求婚，但是她不在。</span></p><p><span class="heimu">財布をあけたところが、お金は入っていなかった。</span>打开了钱包，但是没有钱。</p><h3 id="8-～たところで"><a href="#8-～たところで" class="headerlink" title="8. ～たところで"></a>8. ～たところで</h3><p>接続：た型</p><p>意味：<span class="heimu">即使…也（不）&#x2F;（不过）</span></p><p>例文：</p><p>今更＝今までに</p><p>今更謝ったところで、許さないだろう。<span class="heimu">即使是现在道歉，也不会被原谅了吧。</span></p><p>前面经常加表示「程度」的副词，增强「即使」的意思。例如：たとえ、どんなに、いくら、どれだけ</p><p><span class="heimu">いくら待ったところで、彼は来ないでしょう。</span>即便怎么等，他也不会来了。</p><h3 id="9-～くせに"><a href="#9-～くせに" class="headerlink" title="9. ～くせに"></a>9. ～くせに</h3><p>のに</p><p>需要前后为同一个主语。</p><p>接続：連体形、名詞＋の</p><p>意味：<span class="heimu">明明…却…（抱怨语气类似のに）</span></p><p>例文：</p><p>自分で何もやらないくせに、人のやり方に文句ばかり言う。<span class="heimu">自己明明什么都没有干，但是却抱怨其他人做的不好。</span></p><p>装作：ふりをする</p><p><span class="heimu">知っているくせに、知らないふりをする。</span>明明什么都知道，却装作不知道。</p><h3 id="10-～わりに（は）"><a href="#10-～わりに（は）" class="headerlink" title="10. ～わりに（は）"></a>10. ～わりに（は）</h3><p>（重要）</p><p>&#x3D;割に</p><p>接続：連体形、名詞＋の</p><p>意味：<span class="heimu">前后项相比不相匹配，「但…」</span></p><p>例文：</p><p>日本は狭いわりには、人口が多い。<span class="heimu">日本的领土很小，但是人却很多。</span></p><p><span class="heimu">たくさん食べたわりには、太らない。</span>吃了很多，但是却不饱。</p><h3 id="11-～にしては"><a href="#11-～にしては" class="headerlink" title="11. ～にしては"></a>11. ～にしては</h3><p>接続：連体形、体言</p><p>意味：<span class="heimu">作为…而言，就…来说（与前项标准不太匹配）</span></p><p>例句：</p><p>うまい：除开「美味的；可口的」，还有「进展顺利的；幸运的」的含义。</p><p>彼は日本に来てただ半年にしては、日本語が非常にうまいです。<span class="heimu">他作为「来日本就半年的一个人」，就这个而言日语已经非常好了「进展很顺利」。</span></p><p><span class="heimu">博士にしては、あまりものが知らない人だ。</span>作为博士而言，知道的太少了。</p><h3 id="12-～反面・半面"><a href="#12-～反面・半面" class="headerlink" title="12. ～反面・半面"></a>12. ～反面・半面</h3><p>接続：連体形</p><p>意味：<span class="heimu">叙述同一事物两个不同的侧面</span></p><p>例文：</p><p>輸送に便利な反面、時間がかかる。<span class="heimu">输送便利的方面，花费了（过多的）时间。</span></p><p><span class="heimu">あの先生は学生に厳しい反面、やさしいところもある。</span>那个老师在学生面前严厉的反面，在某些地方也非常温柔。</p><h2 id="随机二次元（可能含NSFW）"><a href="#随机二次元（可能含NSFW）" class="headerlink" title="随机二次元（可能含NSFW）?"></a>随机二次元（可能含NSFW）?</h2><div align="center"><img src="../../../../loading2.svg" data-original="https://moe.starfishdl.site/api/setu/v1"></div>]]></content>
      
      
      <categories>
          
          <category> 日语学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 日本語 </tag>
            
            <tag> 语法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>N2 日语部分语法点归总（2）</title>
      <link href="/2024/09/17/japanese-grammar-4/"/>
      <url>/2024/09/17/japanese-grammar-4/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p><button class="btn-small waves-effect waves-light" id="toggleButton">变更测试模式</button></p><script>  let usingHeimu = true;  document.getElementById('toggleButton').addEventListener('click', () => {    usingHeimu = !usingHeimu;    const spans = document.querySelectorAll('span.heimu, span.no-heimu');    spans.forEach(span => {      if (usingHeimu) {        span.classList.remove('no-heimu');        span.classList.add('heimu');      } else {        span.classList.remove('heimu');        span.classList.add('no-heimu');      }    });  });</script><blockquote><p>本文来自于 bilibili UP 主 <a href="https://space.bilibili.com/548121510">当当_suzu</a> 的 <a href="https://www.bilibili.com/video/BV1yY411b7zY">N2 系列视频</a>，这套视频是我见过 N2 系列语法视频中讲的最全的版本，如果有可能大家请尽可能支持原作者！</p><p>本文内容来自于该系列视频讲义。如有侵犯著作权的行为请联系我及时删除。</p></blockquote><h2 id="第四部分：状態"><a href="#第四部分：状態" class="headerlink" title="第四部分：状態"></a>第四部分：状態</h2><h3 id="1-～てならない"><a href="#1-～てならない" class="headerlink" title="1. ～てならない"></a>1. ～てならない</h3><p>（意义差距大）てはならない &#x3D;&#x3D; 禁止 &#x3D;&#x3D;</p><p>接続：て型</p><p>意味：<span class="heimu">…得不得了</span></p><p>例文：</p><p>お腹が痛くてならない。<span class="heimu">肚子非常痛。</span></p><p><span class="heimu">両親に会いたくてならない。</span>非常想见父母。</p><h3 id="2-～てたまらない"><a href="#2-～てたまらない" class="headerlink" title="2. ～てたまらない"></a>2. ～てたまらない</h3><p>接続：て型</p><p>意味：<span class="heimu">…得不得了</span></p><p>例文：</p><p>一人で日本に来て、今は寂しくてたまらない。<span class="heimu">一个人来到日本，现在非常寂寞。</span></p><p><span class="heimu">試合に勝って、嬉しくてたまらない。</span>比赛胜利了，开心的不得了。</p><h3 id="3-～てしかたがない・てしょうがない"><a href="#3-～てしかたがない・てしょうがない" class="headerlink" title="3. ～てしかたがない・てしょうがない"></a>3. ～てしかたがない・てしょうがない</h3><p>接続：て型</p><p>意味：<span class="heimu">…得不得了</span></p><p>例文：</p><p>北京の夏は暑くてしかたがない。<span class="heimu">北京的夏天热的不得了。</span></p><p><span class="heimu">私の家は学校に遠く、不便でしかたがない。</span>我家到学校很远，非常不方便。</p><p>PS：1～3意思一致，用法相近</p><p>しかたがない（仕方がない）&#x3D;&#x3D; しようがない（仕様がない）均为「没办法」的含义。</p><p>动词的ます型去ます+よう，表示「方法」。しようがない可以这么记忆。</p><h3 id="4-～てはいられない"><a href="#4-～てはいられない" class="headerlink" title="4. ～てはいられない"></a>4. ～てはいられない</h3><p>接続：て型</p><p>可以这么记忆：ている的可能型：ていられる⇒ていられない</p><p>意味：<span class="heimu">不能（暗示要做另外一件事）</span></p><p>例文：</p><p>子供の不行儀に対して、黙ってはいられない。<span class="heimu">对小孩子不礼貌的行为，不能沉默。</span></p><p><span class="heimu">もうすぐＮ2試験だから、のんびり遊んではいられない。</span>马上就要N2考试了，不能自由自在的玩耍了。</p><p>のんびり：无忧无虑，自由自在。</p><h3 id="5-～てばかりいる"><a href="#5-～てばかりいる" class="headerlink" title="5. ～てばかりいる"></a>5. ～てばかりいる</h3><p>接続：て型</p><p>ばかり：一味地… 这个相当于ている中间插入ばかり。</p><p>意味：<span class="heimu">一个劲儿的做…</span></p><p>例文：</p><p>あの人はいつも怒ってばかりいる。<span class="heimu">那个人一个劲的在生气。</span></p><p><span class="heimu">もうすぐＮ2試験だから、遊んでばかりいられない。</span>马上就要N2考试了，不能一个劲的玩耍了。</p><h3 id="6-～ばかりだ"><a href="#6-～ばかりだ" class="headerlink" title="6. ～ばかりだ"></a>6. ～ばかりだ</h3><p>接続：連体形</p><p>意味：<span class="heimu">光是；不断（消极）；只要</span></p><p>例文：</p><p>彼女はなにも言わず、泣くばかりだ。<span class="heimu">她什么也不说，就一个劲的哭。</span></p><p>祖母の病状は悪化するばかりだ。<span class="heimu">祖母的病情在不断恶化。</span></p><p>今はただ祈るばかりだ。<span class="heimu">现在只能一个劲的祈祷了。</span></p><p><span class="heimu">ここの景色の美しさをただ褒めるばかりだ。</span>对于这里的景色我只有赞叹了。</p><h3 id="7-～ずにはいられない"><a href="#7-～ずにはいられない" class="headerlink" title="7. ～ずにはいられない"></a>7. ～ずにはいられない</h3><p>接続：ない型</p><p>双重否定：ずに为否定。いられない：不能。表示为不能不。</p><p>&#x3D;&#x3D; ないではいられません</p><p>意味：<span class="heimu">不能不…（情感油然而生、情不自禁）</span></p><p>例文：</p><p>この映画を見て、誰も感動せずにはいられないでしょう。<span class="heimu">看完这部电影后，无论是谁都不得不感动吧。</span></p><p><span class="heimu">こんなひどいことをされて、怒らないではいられません。</span>遇到如此过分的事情，怎能不生气。</p><p>怒る：おこる</p><p>する的被动形される再变て形「被做了」翻译成遇到大概。</p><h3 id="8-～一方だ"><a href="#8-～一方だ" class="headerlink" title="8. ～一方だ"></a>8. ～一方だ</h3><p>接続：連体形</p><p>意味：<span class="heimu">一直，越来越</span></p><p>例文：</p><p>最近家賃が増える一方だ。<span class="heimu">最近房租一个劲地增长。</span></p><p><span class="heimu">どういうわけか、最近私が太る一方だ。</span>不知道什么原因，最近我一个劲的发胖。</p><h3 id="9-～つもりだ"><a href="#9-～つもりだ" class="headerlink" title="9. ～つもりだ"></a>9. ～つもりだ</h3><p>重要！</p><p>接続：連体形、名詞+の&#x3D;&#x3D;ている、た接続時&#x3D;&#x3D;&#x3D;&#x3D;翻译为：自以为；就当作&#x3D;&#x3D;</p><p>意味：<span class="heimu">自以为；就当作，（N4N5）打算</span></p><p>例文：</p><p>本人はおもしろいつもりだろうが、他の人にはその冗談はわからなかった。<span class="heimu">虽然本人自以为很有趣，但是大家对这个玩笑并不是很理解。</span></p><p>旅行したつもりで、お金を銀行に入れた。<span class="heimu">就当作自己去旅游了，把钱存银行了吧。</span></p><p><span class="heimu">先生になったつもりで、この教科書をもう一度読みなおしなさい。</span>就把自己当老师，把这本教科书重新读一遍吧！</p><p>読み直す：よむおす，重读。</p><h3 id="10-～ようとする"><a href="#10-～ようとする" class="headerlink" title="10. ～ようとする"></a>10. ～ようとする</h3><p>接続：意向形</p><p>意味：<span class="heimu">打算做将要做</span></p><p>例文：</p><p>彼女笑顔は忘れようとしても忘れられません。<span class="heimu">当我打算要忘掉她的笑颜的时候却怎么也忘不掉。</span></p><p><span class="heimu">出かけようとしたところに、電話がかかって来た。</span>准备出门的时候，电话响了。</p><h3 id="11-～ながら"><a href="#11-～ながら" class="headerlink" title="11. ～ながら"></a>11. ～ながら</h3><p>接続：ます型去ます；名詞</p><p>意味：<span class="heimu">一边一边；原封不动</span></p><p>例文：</p><p>お茶を飲みながら話しましょう。<span class="heimu">一边喝茶一边说话。</span></p><p>皮ながら食べる。<span class="heimu">连着皮一起吃。</span></p><p><span class="heimu">テレビを見ながら、食事をしてはいけない。</span>不要一边吃饭一边看电视。</p><h3 id="12-～つつ"><a href="#12-～つつ" class="headerlink" title="12. ～つつ"></a>12. ～つつ</h3><p>接続：ます型去ます</p><p>意味：<span class="heimu">一边一边</span></p><p>例文：</p><p>お酒を飲みつつ、月見をする。<span class="heimu">一边喝酒，一边赏月。</span></p><p><span class="heimu">アルバイトをしつつ、大学に通っている。</span>一边打工一边上大学。</p><h3 id="13-～つつある"><a href="#13-～つつある" class="headerlink" title="13. ～つつある"></a>13. ～つつある</h3><p>接続：ます型去ます</p><p>意味：<span class="heimu">ている（宏观）</span></p><p>例文：</p><p>あの都市の様子は変わりつつある。<span class="heimu">那个城市的样子一直在变。</span></p><p><span class="heimu">自然が破壊されたつつある。</span>自然环境一直遭到破坏。</p><h3 id="14-～ば～ほど"><a href="#14-～ば～ほど" class="headerlink" title="14. ～ば～ほど"></a>14. ～ば～ほど</h3><p>接続：ば型～辞書形</p><p>意味：<span class="heimu">越…越</span></p><p>例文：</p><p>煮れば煮るほど、柔らかくなる。<span class="heimu">越煮就会变得越柔软。</span></p><p><span class="heimu">外国語は練習すればするほど、うまくなる。</span>外语越练习就会变得越熟练。</p><h3 id="15-～中を"><a href="#15-～中を" class="headerlink" title="15. ～中を"></a>15. ～中を</h3><p>接続：連体形、名詞+の</p><p>意味：<span class="heimu">…之中</span></p><p>例文：</p><p>お忙しい中をよくいらっしゃいました。<span class="heimu">感谢您百忙之中欢迎光临。</span></p><p><span class="heimu">雨の中を帰ってきた。</span>冒着雨归来了。</p><h3 id="16-～きり"><a href="#16-～きり" class="headerlink" title="16. ～きり"></a>16. ～きり</h3><p>重要！</p><p>接続：た型</p><p>意味：<span class="heimu">…以后（再没做过）&#x3D;&#x3D;还有接续的话，表以后&#x3D;&#x3D;</span></p><p>例文：</p><p>彼はアメリカへいったきり、帰ってこない。<span class="heimu">他去美国后，就再也没回来了。</span></p><p>作为（语义上的）句尾结束，表再没做过：</p><p>三年前に会ったきりだ。<span class="heimu">三年前见过后再也没见过。</span></p><p><span class="heimu">去年東京に行ったきり、まだ電話をしてくれない。</span>去年去过东京后，还没有来过电话。</p><p>末に：经过…最后，深思熟虑后得出来的结果。</p><h3 id="17-～かのようだ"><a href="#17-～かのようだ" class="headerlink" title="17. ～かのようだ"></a>17. ～かのようだ</h3><p>接続：名詞+てある、辞書形（形容動詞語幹）</p><p>意味：<span class="heimu">仿佛…似的</span></p><p>まるで：简直…好像。和かのようだ结合用的比较多。</p><p>例文：</p><p>深刻な顔をして、まるで世界の終わりがくるかのようだ。<span class="heimu">一脸严肃，仿佛世界末日就要来临。</span></p><p>もてなし：持て成し，接待，宽待的意思。</p><p><span class="heimu">自分の子供が帰ってきたかのようだ、母は友達を親切にもてなしてくれた。</span>仿佛自己的儿子回来一样，母亲亲切的招待了朋友。</p><h3 id="18-～ふりをする"><a href="#18-～ふりをする" class="headerlink" title="18. ～ふりをする"></a>18. ～ふりをする</h3><p>接続：連体形</p><p>ふりをする：振りをする。振り：<span class="heimu">装做，假装</span></p><p>意味：<span class="heimu">装作； 振动，摆动；（外表的）样子，打扮；（舞蹈、戏剧的）动作，姿势；陌生</span></p><p>例文：</p><p>寝たふりをしないで、速く起きて。<span class="heimu">别装作睡觉了，快速爬起来！了。</span></p><p><span class="heimu">彼はいつも忙しいそうなふりをしています。</span>他总是装出一副很忙的样子。</p><h3 id="19-～ところだった"><a href="#19-～ところだった" class="headerlink" title="19. ～ところだった"></a>19. ～ところだった</h3><p>重要！</p><p>接続：辞書形</p><p>意味：<span class="heimu">险些，差点</span></p><p>もう少しで、もうちょっとで：表示「差一点」的意思，经常在前面加这个作为表示。</p><p>例文：</p><p>トラック： truck 卡车、track 田径运动</p><p>ぶつかる：撞上，正当，赶上，适逢</p><p>もう少しで走ったトラックとぶつかるところだった。<span class="heimu">我差点撞上了一辆行驶的卡车。</span></p><p><span class="heimu">もうちょっとでけがをするところだった。</span>差一点就受伤了。</p><h3 id="20-～ことになっている・～こととなっている"><a href="#20-～ことになっている・～こととなっている" class="headerlink" title="20. ～ことになっている・～こととなっている"></a>20. ～ことになっている・～こととなっている</h3><p>接続：連体形</p><p>意味：<span class="heimu">规定（客观）</span></p><p>同：ことにする 表示「决定，主观上的」</p><p>例文：</p><p>両国の首脳会議は来月四日に開くことになっている。<span class="heimu">两国的首脑会议规定在下个月四日召开。</span></p><p><span class="heimu">鈴木さんとの約束では9時までに東京駅に行くことになっている。</span>和铃木先生约定了9点前去东京车站。</p><h3 id="21-～ようになっている"><a href="#21-～ようになっている" class="headerlink" title="21. ～ようになっている"></a>21. ～ようになっている</h3><p>接続：連体形</p><p>意味：<span class="heimu">对机器？结构进行客观描述。感觉翻译的时候，等同于不需要进行翻译。</span></p><p>例文：</p><p>ひとりで：自然的</p><p>この人工衛星はひとりでに速度を緩め、軌道を離れて、地上に降下するようになっている。<span class="heimu">这个人工卫星自然的速度降下来，偏离轨道，降落到地上来。</span></p><p><span class="heimu">何か故障があった場合、その機械はひとりでに電源が切れるようになっている。</span>如果出现了什么故障，那个机械会自动切断电源。</p><h2 id="第五部分：原因、結果"><a href="#第五部分：原因、結果" class="headerlink" title="第五部分：原因、結果"></a>第五部分：原因、結果</h2><p>原因有好的，有不好的；结果也有好的，也有不好的。</p><h3 id="1-～おかげて"><a href="#1-～おかげて" class="headerlink" title="1. ～おかげて"></a>1. ～おかげて</h3><p>接続：連体形、名詞+の</p><p>意味：<span class="heimu">多亏（积极原因）</span></p><p>例文：</p><p>あの人のおかげて、私たちは幸せに暮らせるのだ。<span class="heimu">多亏了那个人，我们才能幸福的生活。</span></p><p><span class="heimu">毎日練習したおかげて、上手になりました。</span>多亏了每天练习，进步很快。</p><h3 id="2-～せいで"><a href="#2-～せいで" class="headerlink" title="2. ～せいで"></a>2. ～せいで</h3><p>接続：連体形、名詞+の</p><p>意味：<span class="heimu">都怪（消极原因）</span></p><p>例文：</p><p>あなたのせいで、私は先生に𠮟られました。<span class="heimu">因为你，我被老师批评了。</span></p><p><span class="heimu">雨のせいで、試合は中止になった。</span>因为下雨，比赛中止了。</p><h3 id="3-～せいか"><a href="#3-～せいか" class="headerlink" title="3. ～せいか"></a>3. ～せいか</h3><p>重要！</p><p>接続：連体形、名詞+の</p><p>意味：<span class="heimu">也许是因为</span></p><p>例文：</p><p>熱のせいか、頭がフラフラしている。<span class="heimu">也许是因为发烧，头摇摇晃晃的。</span></p><p><span class="heimu">暑さのせいか、ぜんぜん食欲がない。</span>也许是因为热，完全没有食欲。</p><h3 id="4-～ために"><a href="#4-～ために" class="headerlink" title="4. ～ために"></a>4. ～ために</h3><p>接続：連体形、名詞+の</p><p>意味：<span class="heimu">由于，原因</span></p><p>例文：</p><p>病気のために、学校を休んだ。<span class="heimu">因为生病，向学校请假了。</span></p><p><span class="heimu">無理をして授業に出席したために、風邪がもっと悪くなってしまた。</span>由于勉强出席上课，感冒变得更严重了。</p><h3 id="5-～だけに"><a href="#5-～だけに" class="headerlink" title="5. ～だけに"></a>5. ～だけに</h3><p>接続：連体形、体言</p><p>意味：<span class="heimu">正因为，结果与原因相匹配（积极，也可消极）</span></p><p>例文：</p><p>重大な事柄だけに、もう一度検討する必要がある。<span class="heimu">正因为是重大的事情，所以有必要再研究一下。</span></p><p><span class="heimu">頑張っただけに、今回の満点はさぞ嬉しいでしょう。</span>正因为努力了，这次考试满分一定很开心吧。</p><h3 id="6-～だけあって、だけのことはある"><a href="#6-～だけあって、だけのことはある" class="headerlink" title="6. ～だけあって、だけのことはある"></a>6. ～だけあって、だけのことはある</h3><p>接続：連体形、体言</p><p>意味：<span class="heimu">不愧是，值得（积极）</span></p><p>例文：</p><p>さうがに彼だけあって、テレビも修理できる。<span class="heimu">不愧是他，还会修电视。</span></p><p><span class="heimu">故宮は世界でも有名なところで、行ってみるだけのことはある。</span>故宫是世界闻名的地方，值得一去。</p><h3 id="7-～ばかりに"><a href="#7-～ばかりに" class="headerlink" title="7. ～ばかりに"></a>7. ～ばかりに</h3><p>接続：連体形</p><p>意味：<span class="heimu">都是因为…才（消极）</span></p><p>例文：</p><p>油断したばかりに、事故を起こしてしまった。<span class="heimu">正因为疏忽大意，才引起了事故。</span></p><p>油断：漫不经心，粗心大意</p><p><span class="heimu">学歴がないばかりに、大手会社に入れないのだ。</span>因为没有学历，所以进不了大公司。</p><h3 id="8-～ことから"><a href="#8-～ことから" class="headerlink" title="8. ～ことから"></a>8. ～ことから</h3><p>接続：連体形</p><p>意味：<span class="heimu">因为（前项是判断依据）</span></p><p>例文：</p><p>二人の顔が似ていることから、親子ではないかと思った。<span class="heimu">因为两个人长得很像，所以我想应该是父子吧？</span></p><p><span class="heimu">この通りは政府機関が多いことから、官庁街と呼ばれている。</span>这条街因为政府机关多，所以被称为官厅街。</p><h3 id="9-～ところから"><a href="#9-～ところから" class="headerlink" title="9. ～ところから"></a>9. ～ところから</h3><p>接続：連体形</p><p>意味：<span class="heimu">因为（前项是判断依据）</span></p><p>例文：</p><p>あまり頭を使いすぎたことから、こんな病気になってしまった。<span class="heimu">由于过度使用脑力，才得了这样的病。</span></p><p><span class="heimu">彼は何でも知っているところから、「百科辞書」というあだ名で呼ばれている。</span>因为他什么都知道，所以被称为「百科词典」。</p><h3 id="10-～ことだから"><a href="#10-～ことだから" class="headerlink" title="10. ～ことだから"></a>10. ～ことだから</h3><p>接続：名詞+の</p><p>意味：<span class="heimu">既然是（他）（表达该名词具有的特点）</span></p><p>例文：</p><p>真面目な田中さんのことだから、きっと試験に合格しますよ。<span class="heimu">既然是认真的田中，考试一定会合格的。</span></p><p><span class="heimu">彼のことだから、どうせ時間通りに来ないだろう。</span>既然是他的话，反正不会按时来的。</p><p>どうせ： 终归，归根到底、反正，横竖</p><p>時間通り（に）：按时，准时</p><h3 id="11-～もの（もん）"><a href="#11-～もの（もん）" class="headerlink" title="11. ～もの（もん）"></a>11. ～もの（もん）</h3><p>接続：だ、です</p><p>整个句子的句尾…</p><p>意味：<span class="heimu">因为（撒娇抱怨语气）</span></p><p>例文：</p><p>だって：句中でも、句首なぜなら（何故なら）、句尾という</p><p>なぜなら放在句首，后面接续表示「原因」，通常前面半句表示「之所以」，表原因所产生的结论。</p><p>だって、先生がそうおっしゃたんだもの。<span class="heimu">是因为是老师这么说的呀。</span></p><p><span class="heimu">だって、重いんだもの。</span>所以说太重了嘛。</p><h3 id="12-～ものだから"><a href="#12-～ものだから" class="headerlink" title="12. ～ものだから"></a>12. ～ものだから</h3><p>&#x3D;&#x3D;ものですから</p><p>接続：連体形</p><p>意味：<span class="heimu">因为（主观强调原因理由）</span></p><p>经常带有「辩解」的语气。</p><p>例文：</p><p>この小説の主人公が大好きものですから、もう何度も読みました。<span class="heimu">因为很喜欢这部小说的主人公，所以已经看了好几遍了。</span></p><p><span class="heimu">眠い、夕べ遅くまで仕事をしていたものですから。</span>好困啊，因为昨晚工作到很晚。</p><h3 id="13-～につき"><a href="#13-～につき" class="headerlink" title="13. ～につき"></a>13. ～につき</h3><p>接続：体言</p><p>意味：<span class="heimu">因为（用于书面语，公文等）</span></p><p>例文：</p><p>工事中につき、立ち入り禁止。<span class="heimu">正在施工，禁止入内。</span></p><p><span class="heimu">大雨につき、今日の試合は中止になった。</span>由于下大雨，今天的比赛中止了。</p><h3 id="14-～以上は"><a href="#14-～以上は" class="headerlink" title="14. ～以上は"></a>14. ～以上は</h3><p>接続：連体形</p><p>意味：<span class="heimu">既然</span></p><p>例文：</p><p>諦める：断念，死心。</p><p>お金がない以上、諦めるしかない。<span class="heimu">既然没钱，就只好作罢。</span></p><p><span class="heimu">約束した以上は、守らなければならない。</span>既然约定好了，就不得不守约。</p><h3 id="15-～うえは"><a href="#15-～うえは" class="headerlink" title="15. ～うえは"></a>15. ～うえは</h3><p>上は。由于うえ有其他意思，需要做区分（仅表示うえ读音）：</p><p>上で：1. 在…之后 2. 在什么领域</p><p>上に：1. 加之</p><p>接続：連体形</p><p>意味：<span class="heimu">既然（语气更重）</span></p><p>例文：</p><p>引き受ける：对付、承担，负责、保证、照料、继承</p><p>引き受けた上は、全力を尽くさなければいけない。<span class="heimu">既然保证下来了，就不得不全力以赴。</span></p><h3 id="16-～からには、からは"><a href="#16-～からには、からは" class="headerlink" title="16. ～からには、からは"></a>16. ～からには、からは</h3><p>接続：連体形</p><p>意味：<span class="heimu">既然</span></p><p>例文：</p><p>試合にでる：参加比赛</p><p>試合にでるからには、勝ってほしい。<span class="heimu">既然要参加比赛，就要赢。</span></p><p>PS：14～16 意思和用法一致</p><h3 id="17-～あまり"><a href="#17-～あまり" class="headerlink" title="17. ～あまり"></a>17. ～あまり</h3><p>N5 语法：あまり…ない：表示不太…</p><p>还有一个表示「多余」的意思。</p><p>接続：連体形、名詞+の</p><p>意味：<span class="heimu">由于过于…（前接有感情色彩的词）</span></p><p>例文：</p><p>心配のあまり、眠れなかった。<span class="heimu">由于过于担心，睡不着。</span></p><p><span class="heimu">働きすぎたあまり、とうとう倒れてしまった。</span>由于过度劳作，终于倒下了。</p><h3 id="18-～あまりの～に、あまりの～で"><a href="#18-～あまりの～に、あまりの～で" class="headerlink" title="18. ～あまりの～に、あまりの～で"></a>18. ～あまりの～に、あまりの～で</h3><p>和上面的区别是，这个放在句首。</p><p>接続：名詞</p><p>意味：<span class="heimu">由于过于…</span></p><p>例文：</p><p>あまりの悲しさに、病気になってしまった。<span class="heimu">由于过于悲伤，生病了。</span></p><p><span class="heimu">あまりの人出で、諦めた。</span>由于太多人，所以放弃了。</p><h3 id="19-～あげく"><a href="#19-～あげく" class="headerlink" title="19. ～あげく"></a>19. ～あげく</h3><p>接続：た型、名詞+の</p><p>意味：<span class="heimu">…的结果（消极结果）</span></p><p>例文：</p><p>散々：厉害；严重（程度副词用于加深程度）、狼狈，凄惨，七零八落</p><p>散々迷ったあげく、結局Ｂ大学にした。<span class="heimu">犹豫了很长时间，最后去了B大学。</span></p><p>考えに考えた：思来想去，想来想去。</p><p><span class="heimu">考えに考えたあげく、会社を辞めることにした。</span>想来想去，最后决定辞职了。</p><h3 id="20-～末"><a href="#20-～末" class="headerlink" title="20. ～末"></a>20. ～末</h3><p>接続：た型、名詞+の</p><p>意味：<span class="heimu">结果（消极，积极）</span></p><p>例文：</p><p>相談の末、一緒にやることにした。<span class="heimu">谈完之后，决定要一起做。</span></p><p><span class="heimu">いろいろ考えた末、行くことにした。</span>考虑了很多，最后决定去。</p><h2 id="第六部分：対象、関係"><a href="#第六部分：対象、関係" class="headerlink" title="第六部分：対象、関係"></a>第六部分：対象、関係</h2><p>特点：大部分为名词接续。经常成组出现。</p><h3 id="1-～において"><a href="#1-～において" class="headerlink" title="1. ～において"></a>1. ～において</h3><p>接続：体言</p><p>意味：<span class="heimu">相当于で（表示「在」的情况下）</span></p><p>例文：</p><p>卒業式は学生センターにおいて行われます。<span class="heimu">毕业典礼在学生中心举行。</span></p><p><span class="heimu">2020年オリンピック大会は東京において、開催されました。</span>2020年奥运会在东京举行。</p><h3 id="2-～における"><a href="#2-～における" class="headerlink" title="2. ～における"></a>2. ～における</h3><p>～における+ｎ</p><p>接続：体言</p><p>意味：<span class="heimu">相当于で、作定语</span></p><p>例文：</p><p>学校における教育は子どもにとっていかに大切であるか？<span class="heimu">在学校的教育对孩子来说有多重要？</span></p><p>いかに：如何，怎样。</p><p><span class="heimu">各分野における発展を期待している。</span>期待在各个领域的发展。</p><h3 id="3-～に関して"><a href="#3-～に関して" class="headerlink" title="3. ～に関して"></a>3. ～に関して</h3><p>接続：体言</p><p>意味：<span class="heimu">关于…</span></p><p>例文：</p><p>両方は国際問題に関して意見を交換した。<span class="heimu">交换了关于两方的国际问题的意见。</span></p><p><span class="heimu">教育改革に関して論文を発表した。</span>发表了关于教育改革的论文。</p><h3 id="4-～について"><a href="#4-～について" class="headerlink" title="4. ～について"></a>4. ～について</h3><p>接続：体言&#x3D;&#x3D;结尾时+の+ｎ&#x3D;&#x3D;</p><p>意味：<span class="heimu">关于…</span></p><p>例文：</p><p>この問題について詳しく説明していただきたいです。<span class="heimu">我想得到您关于这个问题详细说明。</span></p><p>ていただく、てもらう：别人对我做某事。</p><p><span class="heimu">田中先生は日本のことについていろいろ話してくれました。</span>田中先生给我们讲了很多关于日本的事情。</p><h3 id="5-～に対して・に対する"><a href="#5-～に対して・に対する" class="headerlink" title="5. ～に対して・に対する"></a>5. ～に対して・に対する</h3><p>接続：体言</p><p>意味：<span class="heimu">对于；与…相对</span></p><p>vs にはんして：与…相反</p><p>例文：</p><p>客に対してこのような言葉使いをしてはいけない。<span class="heimu">对客人使用这样的话语是不行的。</span></p><p>父は厳しいに対して、母は優しい。<span class="heimu">相比于父亲的严厉，母亲是温柔的。</span></p><p>对于某个方面：対する+n</p><p><span class="heimu">学校は教師に対する要求は厳しい。</span>学校对于老师的要求很严格。</p><h3 id="6-～に比べて"><a href="#6-～に比べて" class="headerlink" title="6. ～に比べて"></a>6. ～に比べて</h3><p>接続：体言</p><p>意味：<span class="heimu">与…相比</span></p><p>PS：に対して有两个主语，に比べて只有一个主语</p><p>和に対して・に対する的区别在于：主语不同。に比べて强调主语，に対して・に対する的「前后」都是完整的。</p><p>例文：</p><p>今年の夏は去年に比べて、少し涼しいようです。<span class="heimu">今年的夏天对比去年，稍微凉快一些。</span></p><h3 id="7-～にとって"><a href="#7-～にとって" class="headerlink" title="7. ～にとって"></a>7. ～にとって</h3><p>接続：体言&#x3D;&#x3D;结尾时+の+ｎ&#x3D;&#x3D;</p><p>意味：<span class="heimu">对…来说</span></p><p>例文：</p><p>これは子どもにとって貴重な経験だ。<span class="heimu">这对孩子来说是宝贵的经验。</span></p><p><span class="heimu">私にとっての第一印象は町の狭いことです。</span>日本给我的第一印象是街道窄。</p><h3 id="8-～によって"><a href="#8-～によって" class="headerlink" title="8. ～によって"></a>8. ～によって</h3><p>接続：体言</p><p>意味：<span class="heimu">因…而（原因）；表依据；表示施加动作的人</span></p><p>例文：</p><p>因…而（原因）：<br>先生によって、教え方が違います。<span class="heimu">由于老师不同，教学方法也不同。</span></p><p>表依据：<br>成績によって、クラスを分ける。<span class="heimu">依据成绩不同，分到不同的班。</span></p><p>表示施加动作的人：<br>この小説は魯迅先生によって書かれたのだ。<span class="heimu">这个小说是鲁迅先生写的。</span></p><p><span class="heimu">地方によって、風俗習慣を違う。</span>依据地区不同，风俗习惯也不同。</p><h3 id="9-～によっては"><a href="#9-～によっては" class="headerlink" title="9. ～によっては"></a>9. ～によっては</h3><p>接続：体言</p><p>意味：<span class="heimu">根据前项也会出现后项的情况，「根据…有时」</span></p><p>例文：</p><p>場合によっては、スケジュールは変更するかもしれない。<span class="heimu">根据场合，计划可能也会有变更。</span></p><p><span class="heimu">人によっては、だまされるかもしれない。</span>有的人可能会上当。</p><h3 id="10-～に基づいて"><a href="#10-～に基づいて" class="headerlink" title="10. ～に基づいて"></a>10. ～に基づいて</h3><p>もと：基</p><p>接続：体言</p><p>意味：<span class="heimu">根据…（在此基础上）</span></p><p>例文：</p><p>今までの経験に基づいて判断する。<span class="heimu">基于迄今为止的禁言进行判断。</span></p><p><span class="heimu">これは実話に基づいて書かれた小説だ。</span>这是一本基于真实的故事写成的小说。</p><h3 id="11-～を基にして"><a href="#11-～を基にして" class="headerlink" title="11. ～を基にして"></a>11. ～を基にして</h3><p>接続：体言</p><p>意味：<span class="heimu">根据…</span></p><p>例文：</p><p>これまでのデーターを基にして研究を行う。<span class="heimu">根据以往的数据进行研究。</span></p><p><span class="heimu">このテレビドラマは伝説を基にして作った。</span>这部电视剧是根据传说进行创作的。</p><h3 id="12-～のもとで・に"><a href="#12-～のもとで・に" class="headerlink" title="12. ～のもとで・に"></a>12. ～のもとで・に</h3><p>もと：下。一般の+もと结合，这个下并不是读した。</p><p>接続：体言</p><p>意味：<span class="heimu">在…下</span></p><p>例文：</p><p>先生の指導のもとで研究を行う。<span class="heimu">在先生的指导下进行研究。</span></p><p><span class="heimu">専門家の指導のもとで創作する。</span>在专家的指导下创作。</p><h3 id="13-～上で"><a href="#13-～上で" class="headerlink" title="13. ～上で"></a>13. ～上で</h3><p>接続：体言+の、連体形</p><p>意味：<span class="heimu">在…的前提下；在…方面上；在…之后</span></p><p>例文：</p><p>在…的前提下：<br>双方の合意の上で結婚した。<span class="heimu">双方都同意的情况下结婚了。</span></p><p>在…方面上：<br>ビザの申請をする上で注意しなければならない。<span class="heimu">在申请签证这一方面需要注意。</span></p><p>在…的前提下：<br>いろいろ考えた上で、会社をやめることにした。<span class="heimu">考虑了很多之后，从会社辞职了。</span></p><p>在…之后：<br><span class="heimu">父と相談した上で、ご返事をします。</span>和父亲商量之后，再给您答复。</p><h3 id="14-～上"><a href="#14-～上" class="headerlink" title="14. ～上"></a>14. ～上</h3><p>接続：体言</p><p>意味：<span class="heimu">…上</span></p><p>表达这个意思的时候需要读じょう。</p><p>例文：</p><p>これは法律上の問題です。<span class="heimu">这是法律上的问题。</span></p><p><span class="heimu">健康上の理由で、会社を休んだ。</span>因为健康的理由没有上班。</p><h3 id="15-～をめぐって、をめぐる"><a href="#15-～をめぐって、をめぐる" class="headerlink" title="15. ～をめぐって、をめぐる"></a>15. ～をめぐって、をめぐる</h3><p>めぐ：巡。Ciallo～(∠・ω&lt; )⌒☆</p><p>接続：体言</p><p>意味：<span class="heimu">围绕着…（可以从「巡」这个字的意思来看）&#x3D;&#x3D;抽象：围绕…问题&#x3D;&#x3D; &#x3D;&#x3D;具体：围绕护城河&#x3D;&#x3D;</span></p><p>例文：</p><p>教育問題をめぐって、話し合います。<span class="heimu">围绕着教育问题，进行讨论。</span></p><p><span class="heimu">環境問題をめぐって、対策を検討する。</span>围绕着环境问题展开对策。</p><h3 id="16-～にわたって"><a href="#16-～にわたって" class="headerlink" title="16. ～にわたって"></a>16. ～にわたって</h3><p>重要！</p><p>わた：渡</p><p>接続：体言</p><p>意味：<span class="heimu">长达（在时间，空间范围内一直）；涉及到（各个方面）</span></p><p>例文：</p><p>长达（在时间，空间范围内一直）：<br>手術は14時間にわたって行われていた。<span class="heimu">手术进行了长达14小时。</span></p><p>涉及到（各个方面）：<br>この研究には多分野にわたって広い知識が必要である。<span class="heimu">这个研究涉及到了多领域，广阔的知识是必要的。</span></p><p>长达（在时间，空间范围内一直）：<br><span class="heimu">彼は3時間にわたって演説していた。</span>他进行了长达3小时的演说。</p><h3 id="17-～を通じて・を通して"><a href="#17-～を通じて・を通して" class="headerlink" title="17. ～を通じて・を通して"></a>17. ～を通じて・を通して</h3><p>接続：体言</p><p>意味：<span class="heimu">通过；整个…（时间范围内一直）</span></p><p>例文：</p><p>テレビを通して広告をする。<span class="heimu">通过电视做广告。</span></p><p>南極は一年を通して寒さが厳しく。<span class="heimu">南极一年到头都很冷。</span></p><p><span class="heimu">これは彼の一生を通して、もっとも苦しい時期だ。</span>这是他一生中最艰难的时刻。</p><p>もっとも：最。</p><h3 id="18-～から～にかけて"><a href="#18-～から～にかけて" class="headerlink" title="18. ～から～にかけて"></a>18. ～から～にかけて</h3><p>接続：体言</p><p>意味：<span class="heimu">从…到…范围内一直</span></p><p>例文：</p><p>東京は5月から8月にかけてよく雨が降る。<span class="heimu">东京从五月到八月经常下雨。</span></p><p><span class="heimu">九州から四国にかけて、大雨が降る。</span>从九州到四国，大雨倾盆。</p><h3 id="19-～かわりに"><a href="#19-～かわりに" class="headerlink" title="19. ～かわりに"></a>19. ～かわりに</h3><p>代：かわ</p><p>（1）接続：体言+の</p><p>意味：<span class="heimu">代替（前面的角色不做，而后面的事情做为代替）</span></p><p>例文：</p><p>BさんはAさんの代わりに主役を演じる。<span class="heimu">B代替A出演了主角。</span></p><p>今日は映画を見に行く代わりに、家で小説でも読もう。<span class="heimu">今天我们不去看电影，（作为代替），在家看小说。</span></p><p><span class="heimu">部長の代わりに、会議に出席した。</span>我代替部长出席了会议。</p><p>（2）接続：連体形</p><p>意味：<span class="heimu">交换；与…相反；不…而… &#x3D;&#x3D;都强调代价&#x3D;&#x3D;</span></p><p>例文：</p><p>日本語を教えてもらう代わりに、中国語を教えてあげよう。<span class="heimu">作为你教我日语的交换，我可以教你中文哟。</span></p><p>このマンションは駅に近い代わりに、家賃が高い。<span class="heimu">这间公寓离车站很近，但代价是租金很高。</span></p><h3 id="20-～にかわって"><a href="#20-～にかわって" class="headerlink" title="20. ～にかわって"></a>20. ～にかわって</h3><p>接続：体言</p><p>意味：<span class="heimu">代替</span></p><p>例文：</p><p>母にかわって挨拶をする。<span class="heimu">代替母亲打招呼。</span></p><p><span class="heimu">部長にかわって、挨拶をする。</span>代替部长打招呼。</p><h3 id="21-～を始め（として）"><a href="#21-～を始め（として）" class="headerlink" title="21. ～を始め（として）"></a>21. ～を始め（として）</h3><p>～を～として：以A为B</p><p>接続：体言</p><p>意味：<span class="heimu">以…为代表（还有其他的）</span></p><p>例文：</p><p>この映画は北京を始め、全国の大都市で上映される。<span class="heimu">这个电影以北京为首，在全国的大城市上映。</span></p><p><span class="heimu">中国を始めとするいろいろなアジアの国がこの会議に出席した。</span>以中国为首，许多亚洲国家出现了这个会议。</p><h3 id="22-～とおり"><a href="#22-～とおり" class="headerlink" title="22. ～とおり"></a>22. ～とおり</h3><p>重要！</p><p>とおり&#x3D;通り</p><p>接続：体言+の；ｎ+どおり；ｖ+とおり</p><p>意味：<span class="heimu">按照…</span></p><p>例文：</p><p>成績表は次のとおりです。<span class="heimu">成绩单如下。</span></p><p>先生の教えどおりにする。<span class="heimu">按照老师的指示去做。</span></p><p>先生が教えたとおり。<span class="heimu">按照老师的指示去做。</span></p><p>ご覧の通り、私の家です。<span class="heimu">如您所见，这是我家。</span></p><h3 id="23-～に応じて"><a href="#23-～に応じて" class="headerlink" title="23. ～に応じて"></a>23. ～に応じて</h3><p>接続：体言</p><p>意味：<span class="heimu">顺应（与前项事实相适应）</span></p><p>例文：</p><p>個人の希望に応じて、個別指導を行う。<span class="heimu">根据个人的希望，进行个别指导。</span></p><p>収入に応じて生活する。<span class="heimu">根据收入生活。</span></p><p><span class="heimu">お客さんの注文に応じて作る。</span>根据客户的订单制作。</p><h3 id="24-～にこたえて"><a href="#24-～にこたえて" class="headerlink" title="24. ～にこたえて"></a>24. ～にこたえて</h3><p>接続：体言</p><p>意味：<span class="heimu">回应（对期待要求等作出回应）</span></p><p>例文：</p><p>みんなの期待にこたえて、彼は新しい記録を立てた。<span class="heimu">为了回应大家的期待，他创立了新的记录。</span></p><p><span class="heimu">アンコールにこたえて、もう一回演じた。</span>应观众的要求，重新演了一次。</p><h3 id="25-～に反して"><a href="#25-～に反して" class="headerlink" title="25. ～に反して"></a>25. ～に反して</h3><p>接続：体言</p><p>意味：<span class="heimu">与…相反；违反</span></p><p>例文：</p><p>予想に反して、出席者が多かった。<span class="heimu">与预想相反，出席的人很多。</span></p><p><span class="heimu">交通規則に反することをしてはいけない。</span>不能做违反交通规则的事。</p><h3 id="26-～に加えて"><a href="#26-～に加えて" class="headerlink" title="26. ～に加えて"></a>26. ～に加えて</h3><p>接続：体言</p><p>意味：<span class="heimu">加之</span></p><p>例文：</p><p>大雪に加えて風まで吹いてきた。<span class="heimu">大雪加上刮风来了。</span></p><p>とうとう：终于。</p><p><span class="heimu">過労に加えて、病気になってとうとう倒れてしまった。</span>加之过劳，他最终生病倒下了。</p><h3 id="27-～に沿って"><a href="#27-～に沿って" class="headerlink" title="27. ～に沿って"></a>27. ～に沿って</h3><p>接続：体言</p><p>&#x3D;そって</p><p>意味：<span class="heimu">沿着（道路，方针，政策）</span></p><p>例文：</p><p>政府の方針に沿って、都市建設の計画を実施する。<span class="heimu">按照政府的方针，实施城市建设的计划。</span></p><p><span class="heimu">カリキュラムに沿って授業をする。</span>按照教学计划授课。</p><h3 id="28-～に従って"><a href="#28-～に従って" class="headerlink" title="28. ～に従って"></a>28. ～に従って</h3><p>接続：体言、辞書形</p><p>&#x3D;したがって</p><p>意味：<span class="heimu">随着；按照，根据</span></p><p>例文：</p><p>経済の発展に従って、人々の生活がよくなった。<span class="heimu">随着经济的发展，人们的生活提高了。</span></p><p>政府の方針に従って、建設の仕事に力を入れた。<span class="heimu">按照政府的方针，加大了建设工作力度。</span></p><p><span class="heimu">登るにしたがって、だんだん寒くなってきた。</span>随着登山，温度越低。</p><h3 id="29-～につれて"><a href="#29-～につれて" class="headerlink" title="29. ～につれて"></a>29. ～につれて</h3><p>接続：体言、辞書形</p><p>意味：<span class="heimu">随着&#x3D;&#x3D;自然变化&#x3D;&#x3D;</span></p><p>時間につれて、愛情が深まった。<span class="heimu">随着时间的变化，爱情越来越深了。</span></p><p><span class="heimu">物価の高騰につれて、生活も苦しくなった。</span>随着物价上涨，生活变得辛苦了。</p><h3 id="30-～に伴って"><a href="#30-～に伴って" class="headerlink" title="30. ～に伴って"></a>30. ～に伴って</h3><p>接続：体言</p><p>意味：<span class="heimu">随着</span></p><p>例文：</p><p>経済発展に伴って環境汚染もひどくなった。<span class="heimu">随着时间的变化，爱情越来越深了。</span></p><p><span class="heimu">人の考え方は環境と年齢に伴ってなった。</span>人的想法会随着环境和年龄而变化。</p><h3 id="31-～とともに"><a href="#31-～とともに" class="headerlink" title="31. ～とともに"></a>31. ～とともに</h3><p>接続：体言、辞書形</p><p>意味：<span class="heimu">与…同时；等于一緒に</span></p><p>例文：</p><p>地震が起こると共に、火災もあちこちで発生した。<span class="heimu">地震的时候，到处也发生了火灾。</span></p><p>あちこち：到处。</p><p>みんなと共に一緒に頑張りましょう。<span class="heimu">大家同时一起加油吧！</span></p><p><span class="heimu">卒業と共に、直ちに結婚する。</span>一毕业就马上结婚。</p><p>直ちに：ただちに、马上…</p><p>PS：27～31有相近的意思，容易出题在一块，注意区分</p><h3 id="32-～にかかわらず"><a href="#32-～にかかわらず" class="headerlink" title="32. ～にかかわらず"></a>32. ～にかかわらず</h3><p>接続：体言</p><p>意味：<span class="heimu">无论…，不管…</span></p><p>例文：</p><p>男女にかかわらず、誰でも申請できます。<span class="heimu">不管男生女生，无论是谁都能申请。</span></p><p><span class="heimu">経験のあるなしにかかわらず、誰でも参加できる。</span>不管有没有经验，谁都能参加。</p><p>PS：にもかかわらず意味：<span class="heimu">尽管</span></p><h3 id="33-～を問わず"><a href="#33-～を問わず" class="headerlink" title="33. ～を問わず"></a>33. ～を問わず</h3><p>接続：体言</p><p>意味：<span class="heimu">无论…，不管…</span></p><p>例文：</p><p>国籍を問わず、誰でも参加することができる。<span class="heimu">不管国籍，无论是谁都能参加。</span></p><p><span class="heimu">距離を問わず、バス代は210円です。</span>不论距离，车票都是210日元。</p><h3 id="34-～抜きで"><a href="#34-～抜きで" class="headerlink" title="34. ～抜きで"></a>34. ～抜きで</h3><p>接続：体言</p><p>抜き：ぬき</p><p>意味：<span class="heimu">取消，略去</span></p><p>例文：</p><p>冗談抜きで、真剣にこの問題を考えなさい。<span class="heimu">不开玩笑了，请认真地思考这个问题。</span></p><p>真剣に：认真地；</p><p><span class="heimu">晩ご飯抜きで、授業に来る学生が多い。</span>不吃晚饭，来上课的学生很多。</p><h3 id="35-～抜きにして"><a href="#35-～抜きにして" class="headerlink" title="35. ～抜きにして"></a>35. ～抜きにして</h3><p>接続：体言</p><p>意味：<span class="heimu">略去</span></p><p>例文：</p><p>冗談抜きにして、真面目に考えてください。<span class="heimu">不开玩笑了，请认真地思考这个问题。</span></p><p><span class="heimu">礼儀を抜きにして、思う存分に飲もう。</span>不用客气，尽情地喝吧。</p><p>思う存分：尽情地，痛痛快快地。</p><h2 id="第七部分：強調、限定"><a href="#第七部分：強調、限定" class="headerlink" title="第七部分：強調、限定"></a>第七部分：強調、限定</h2><h3 id="1-～限りでは"><a href="#1-～限りでは" class="headerlink" title="1. ～限りでは"></a>1. ～限りでは</h3><p>限りでは：かぎりでは</p><p>重要！</p><p>接続：认知类动词</p><p>意味：<span class="heimu">据…所…</span></p><p>例文：</p><p>私の知る限りでは、彼は悪い人ではありません。<span class="heimu">据我所知他不是一个坏人。</span></p><p><span class="heimu">私の調べた限りでは、彼は悪人ではない。</span>据我的调查，他不是一个坏人。</p><h3 id="2-～に限って"><a href="#2-～に限って" class="headerlink" title="2. ～に限って"></a>2. ～に限って</h3><p>2-4 都是 限る 的变形。所以都会有「仅限于」的意思。</p><p>接続：体言</p><p>意味：<span class="heimu">偏偏，只有（这是除了「仅限于」以外，多出来的意思，需要重点记，下同）</span></p><p>例文：</p><p>買いたい時に限って、売り切れだ。<span class="heimu">偏偏在我想买的时候，卖完了。</span></p><p><span class="heimu">出かけようとする日に限って、天気が悪くなる、どうしようかな。</span>偏偏在要外出的日子里天气变化，怎么办呢？</p><h3 id="3-～に限り"><a href="#3-～に限り" class="headerlink" title="3. ～に限り"></a>3. ～に限り</h3><p>（句中）</p><p>接続：体言</p><p>意味：<span class="heimu">只限于…只是…</span></p><p>例文：</p><p>今回に限り、許してやる。<span class="heimu">仅限于这次，原谅你了。</span></p><p><span class="heimu">毎月の最初の日曜日に限り、午前中は休む。</span>每个月只有第一个周日的上午休息。</p><h3 id="4-～に限る"><a href="#4-～に限る" class="headerlink" title="4. ～に限る"></a>4. ～に限る</h3><p>（1）接続：体言</p><p>意味：<span class="heimu">限于</span></p><p>例文：</p><p>今度の活動は女子に限る。<span class="heimu">这次的活动仅限女生。</span></p><p><span class="heimu">発表者は30人もいるから、一人15分に限ります。</span>发表者有30多人，所以每个人只限15分钟。</p><p>&#x3D;&#x3D;（2）接続：辞書形、体言&#x3D;&#x3D;</p><p>意味：<span class="heimu">最好，最佳（普遍认可）</span></p><p>例文：</p><p>疲れた時は寝るに限る。<span class="heimu">在累的时候睡觉最好了。</span></p><p><span class="heimu">夏は冷たいビルに限る。</span>夏天的冰啤酒最好了。</p><h3 id="5-～に限らず"><a href="#5-～に限らず" class="headerlink" title="5. ～に限らず"></a>5. ～に限らず</h3><p>接続：体言</p><p>由限る的否定，变更而来。限于的否定，<span class="heimu">不仅而且</span></p><p>意味：<span class="heimu">不仅而且</span></p><p>例文：</p><p>学部生に限らず、院生の就職も難しくなった。<span class="heimu">不仅是学部生，大学院的学生就职也变得困难了。</span></p><p><span class="heimu">選手たちに限らず、一般人も使える。</span>这个体育馆不仅仅是运动员可以用，一般人也可以使用。</p><h3 id="6-～とは限らない"><a href="#6-～とは限らない" class="headerlink" title="6. ～とは限らない"></a>6. ～とは限らない</h3><p>接続：辞書形、体言</p><p>意味：<span class="heimu">未必…（必ずしも等连用）</span></p><p>必ずしも+…とは限らない&#x2F;わけではない，为前后呼应。都表达原来<span class="heimu">未必</span>的意思，而不是做双重否定。</p><p>例文：</p><p>高いものは必ずしもいいとは限らない。<span class="heimu">贵的东西不一定好。</span></p><p><span class="heimu">中国人だからといって、中国文化を全部知っているとは限らない。</span>虽然说是中国人，也未必对中国文化都了解。</p><h3 id="6-5-～限り"><a href="#6-5-～限り" class="headerlink" title="6.5. ～限り"></a>6.5. ～限り</h3><p>v+限り：意味：<span class="heimu">只要</span></p><p>例文：</p><p>私たちが立ち留まらない限り、道は続く。<span class="heimu">只要我们不停留，就会一直有路。</span></p><h3 id="7-～にとどまらない"><a href="#7-～にとどまらない" class="headerlink" title="7. ～にとどまらない"></a>7. ～にとどまらない</h3><p>接続：体言</p><p>意味：<span class="heimu">不限于，不止于（暗示还波及其他范围）</span></p><p>例文：</p><p>言いたいことはこれだけにとどまらない。<span class="heimu">想说的东西不仅仅限于这些。</span></p><p><span class="heimu">コロナは都市にとどまらず、農村にも広がっている。</span>新冠病毒不仅仅在城市，也在农村扩散开了。</p><h3 id="8-～のみならず"><a href="#8-～のみならず" class="headerlink" title="8. ～のみならず"></a>8. ～のみならず</h3><p>接続：連体形、体言</p><p>意味：<span class="heimu">不仅</span></p><p>例文：</p><p>この漫画は子供のみならず大人にも読んでいる。<span class="heimu">这些漫画不仅仅孩子（能读），大人也能读。</span></p><p><span class="heimu">父のみならず、母までも反対している。</span>不仅仅是父亲，母亲也反对。</p><p>PS：表示「仅仅只」含义：だけ、のみ、ばかり</p><p>在表示否定的情形：</p><p>だけ –&gt; だけでなく　のみ –&gt; のみならず　ばかり –&gt; ばかりでなく、ばかりか</p><h3 id="9-～ばかりでなく"><a href="#9-～ばかりでなく" class="headerlink" title="9. ～ばかりでなく"></a>9. ～ばかりでなく</h3><p>接続：連体形、体言</p><p>意味：<span class="heimu">不仅</span></p><p>例文：</p><p>あの人は英語ばかりでなく、日本語も話せる。<span class="heimu">那个人不仅会说英语，也会说日语。</span></p><p><span class="heimu">この店は価格が高いばかりでなく、サービスも悪い。</span>这家店不仅价格昂贵，服务质量也很差。</p><h3 id="10-～ばかりか"><a href="#10-～ばかりか" class="headerlink" title="10. ～ばかりか"></a>10. ～ばかりか</h3><p>接続：連体形、体言</p><p>意味：<span class="heimu">不但（后项语气更重）</span></p><p>例文：</p><p>私ばかりか、先生でも知らないだろう。<span class="heimu">不仅仅是我，老师也不知道吧。</span></p><p><span class="heimu">自分を反省しないばかりか、責任を他人に押しつける。</span>他不但不反省自己，还把责任推给别人。</p><h3 id="11-～どころか"><a href="#11-～どころか" class="headerlink" title="11. ～どころか"></a>11. ～どころか</h3><p>重要！</p><p>接続：連体形、体言&#x3D;&#x3D;后接程度更甚&#x3D;&#x3D;</p><p>意味：<span class="heimu">不但不…反而（哪里谈得上…）</span></p><p>例文：</p><p><span class="heimu">成績はよくなるどころか、どんどん悪くなった。</span>成绩非但没有变好，还越来越差了。</p><p><span class="heimu">外国語どころか、母国語の文章さえ書けない大学生がいる。</span>别说外语，也有就连母语文章都写不好的大学生。</p><p>それどころか：<span class="heimu">岂止如此。</span></p><h3 id="12-～どころではない"><a href="#12-～どころではない" class="headerlink" title="12. ～どころではない"></a>12. ～どころではない</h3><p>接続：連体形、体言</p><p>意味：<span class="heimu">不是做某事的时候（哪里谈得上…）</span></p><p>例文：</p><p>宿題が多いので、テレビを見るどころではない。<span class="heimu">作业太多了，哪里谈得上看电视呢？</span></p><p><span class="heimu">忙しくて、映画を見るどころではない。</span>太忙了，哪里谈得上看电影。</p><h3 id="13-～上に"><a href="#13-～上に" class="headerlink" title="13. ～上に"></a>13. ～上に</h3><p>接続：連体形、名詞+の</p><p>意味：<span class="heimu">而且，又</span></p><p>例文：</p><p>あの店は料理がまずい上に、値段も高い。<span class="heimu">那个店的料理不仅难吃价格还很高。</span></p><p><span class="heimu">あそこの果物は新鮮な上に、値段も安い。</span>那里的水果不但新鲜，价格还很便宜。</p><h3 id="14-～さえ・でさえ"><a href="#14-～さえ・でさえ" class="headerlink" title="14. ～さえ・でさえ"></a>14. ～さえ・でさえ</h3><p>接続：連体形、体言</p><p>同：すら、でも</p><p>意味：<span class="heimu">甚至，就连</span></p><p>例文：</p><p>これは子どもさえわかることだ。<span class="heimu">连孩子都能理解。</span></p><p><span class="heimu">日本人の苗字は難しい、日本人でさえ困ることはあります。</span>日本人的姓读法很难，连日本人有时都感到很为难。</p><h3 id="15-～ことか"><a href="#15-～ことか" class="headerlink" title="15. ～ことか"></a>15. ～ことか</h3><p>接続：情感言葉連体形</p><p>意味：<span class="heimu">多么（感叹）</span>常和どんなに、どれほど、なんと连用</p><p>例句：</p><p>どんなに便利なことか。<span class="heimu">多么方便啊。</span></p><p><span class="heimu">昨日はあなたに会えてどれほど嬉しかったことか。</span>昨天能见到你不知道有多高兴。</p><h3 id="16-～はもちろん・はもちろんのこと"><a href="#16-～はもちろん・はもちろんのこと" class="headerlink" title="16. ～はもちろん・はもちろんのこと"></a>16. ～はもちろん・はもちろんのこと</h3><p>&#x3D;はもとより（N1）</p><p>接続：名詞</p><p>意味：<span class="heimu">自不必说</span></p><p>例文：</p><p>彼は英語はもちろん、日本語お話せる。<span class="heimu">他英语自不必说，连日语都能说。</span></p><p><span class="heimu">このことに、ちちはもちろん、母まではんたいする。</span>这件事情，爸爸就不用说了，连妈妈都反对。</p><h3 id="17-～はしない"><a href="#17-～はしない" class="headerlink" title="17. ～はしない"></a>17. ～はしない</h3><p>重要！</p><p>&#x3D;&#x3D;接続：ます型去ます&#x3D;&#x3D;</p><p>意味：<span class="heimu">不…（加强否定语气）</span></p><p>例文：</p><p>決して約束を忘れはしないから、心配しないでください。<span class="heimu">绝对不会忘记约定，请不要担心。</span></p><p><span class="heimu">噓なんかつきはしませんよ。</span>绝对不会撒谎的哦。</p><p>嘘を付く：撒谎。</p><h3 id="18-～っこない"><a href="#18-～っこない" class="headerlink" title="18. ～っこない"></a>18. ～っこない</h3><p>重要！</p><p>&#x3D;&#x3D;接続：ます型去ます&#x3D;&#x3D;</p><p>意味：<span class="heimu">不会（可能性不存在）</span></p><p>例文：</p><p>女の心なんて、わかりっこないよ。<span class="heimu">女人的心是不可能知道的。</span></p><p><span class="heimu">こんな難しい問題は解けっこない。</span>这么难的问题解决不了。</p><h3 id="19-～からして"><a href="#19-～からして" class="headerlink" title="19. ～からして"></a>19. ～からして</h3><p>接続：体言</p><p>意味：<span class="heimu">从…来看，单就…而言</span></p><p>例文：</p><p>表情からして、彼は失恋したようだ。<span class="heimu">从表情看来，他失恋了。</span></p><p><span class="heimu">外見からして、金持ちらしい。</span>从外表看，他似乎很富有。</p><p>金持ち：富人。</p><h3 id="20-～こそ"><a href="#20-～こそ" class="headerlink" title="20. ～こそ"></a>20. ～こそ</h3><p>接続：体言</p><p>意味：<span class="heimu">正是，才是 &#x3D;&#x3D;强调&#x3D;&#x3D;</span></p><p>例文：</p><p>努力してこそ、成功できるのだ。<span class="heimu">正是通过努力，才能成功。</span></p><p><span class="heimu">これこそ私が探しているものだ。</span>这正是我要找的。</p><h2 id="随机二次元（可能含NSFW）"><a href="#随机二次元（可能含NSFW）" class="headerlink" title="随机二次元（可能含NSFW）?"></a>随机二次元（可能含NSFW）?</h2><div align="center"><img src="../../../../loading2.svg" data-original="https://moe.starfishdl.site/api/setu/v1"></div>]]></content>
      
      
      <categories>
          
          <category> 日语学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 日本語 </tag>
            
            <tag> 语法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>N2 日语部分语法点归总（3）</title>
      <link href="/2024/09/17/japanese-grammar-5/"/>
      <url>/2024/09/17/japanese-grammar-5/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p><button class="btn-small waves-effect waves-light" id="toggleButton">变更测试模式</button></p><script>  let usingHeimu = true;  document.getElementById('toggleButton').addEventListener('click'， () => {    usingHeimu = !usingHeimu;    const spans = document.querySelectorAll('span.heimu， span.no-heimu');    spans.forEach(span => {      if (usingHeimu) {        span.classList.remove('no-heimu');        span.classList.add('heimu');      } else {        span.classList.remove('heimu');        span.classList.add('no-heimu');      }    });  });</script><blockquote><p>本文来自于 bilibili UP 主 <a href="https://space.bilibili.com/548121510">当当_suzu</a> 的 <a href="https://www.bilibili.com/video/BV1yY411b7zY">N2 系列视频</a>，这套视频是我见过 N2 系列语法视频中讲的最全的版本，如果有可能大家请尽可能支持原作者！</p><p>本文内容来自于该系列视频讲义。如有侵犯著作权的行为请联系我及时删除。</p></blockquote><h2 id="知识点快速记"><a href="#知识点快速记" class="headerlink" title="知识点快速记"></a>知识点快速记</h2><h3 id="可能"><a href="#可能" class="headerlink" title="可能"></a>可能</h3><p>ます型去ます（15&#x2F;19）：</p><ul><li>～かねる、～かねない</li><li>～ようがない</li><li>～得る</li><li>～かけ・～かける</li><li>～がち</li><li>～がる</li><li>～気味</li><li>～きる</li><li>～げ</li><li>～だらけ</li><li>～っぽい</li><li>～抜く</li><li>～向き、～向け</li></ul><p>其余四个：</p><ul><li>～ざるをえない（不得不）</li><li>～恐れがある（恐怕会）</li><li>～にも～ない（想做但是做不到）</li><li>～（より）ほか（は）ない（因为…只好）</li></ul><h3 id="仮定、条件"><a href="#仮定、条件" class="headerlink" title="仮定、条件"></a>仮定、条件</h3><table><thead><tr><th>即使</th><th>作为</th><th>如果</th><th>在…看来</th><th>如果不；没有</th><th>只要…就</th></tr></thead><tbody><tr><td>～たとえ～ても・でも</td><td>～としても</td><td>～としたら・とすると・とすれば</td><td>～にしたら・にすれば</td><td>～てからでないと</td><td>さえ～ば</td></tr><tr><td>～としても</td><td>～にしても</td><td>一旦…的话</td><td></td><td>～ないことには</td><td>～限り</td></tr><tr><td>～にしても</td><td></td><td>～ようものなら</td><td></td><td>～なしには・なくしては</td><td></td></tr><tr><td>～にしろ&#x2F;～にせよ</td><td></td><td></td><td></td><td></td><td></td></tr></tbody></table><h2 id="第八部分：列挙、話題提出"><a href="#第八部分：列挙、話題提出" class="headerlink" title="第八部分：列挙、話題提出"></a>第八部分：列挙、話題提出</h2><h3 id="1-～やら～やら"><a href="#1-～やら～やら" class="headerlink" title="1. ～やら～やら"></a>1. ～やら～やら</h3><p>接続：名詞、辞書形</p><p>意味：<span class="heimu">…啦…啦（列举代表性的事物）</span></p><p>例文：</p><p>家に帰って料理やら洗濯やら何もしなければならない。<span class="heimu">我得回家做饭，洗衣服什么的</span></p><p><span class="heimu">帰国前、買い物やら荷造りやらで、大変忙しかった。</span>回国之前，买东西收拾行李，忙得不可开交。</p><h3 id="2-～も～ば～も"><a href="#2-～も～ば～も" class="headerlink" title="2. ～も～ば～も"></a>2. ～も～ば～も</h3><p>重要！</p><p>接続：ば型</p><p>意味：<span class="heimu">既…又…</span></p><p>例文：</p><p>あの人は給料も高ければ能力もある。<span class="heimu">他工资又高又有能力。</span></p><p><span class="heimu">彼氏はお酒も飲めば、タバコも吸う。</span>我男朋友既喝酒又抽烟。</p><h3 id="3-～につけ～につけ"><a href="#3-～につけ～につけ" class="headerlink" title="3. ～につけ～につけ"></a>3. ～につけ～につけ</h3><p>接続：名詞、辞書形</p><p>意味：<span class="heimu">无论…还是</span></p><p>例文：</p><p>いいにつけ悪いにつけ、成績を先生に伝えるべきだ。<span class="heimu">不管是好是坏，都应该把成绩告诉老师。</span></p><p><span class="heimu">嬉しいにつけ、悲しいにつけ、彼と話したい。</span>无论高兴还是悲伤，我都想和他谈谈。</p><h3 id="4-～にしても～にしても"><a href="#4-～にしても～にしても" class="headerlink" title="4. ～にしても～にしても"></a>4. ～にしても～にしても</h3><p>接続：名詞、辞書形</p><p>意味：<span class="heimu">无论…还是…</span></p><p>例文：</p><p>高いにしても安いにしても、品物さえようければ買う。<span class="heimu">不管贵还是便宜，只要东西好就买。</span></p><p>…さえようければ：只要…好，就…</p><p><span class="heimu">進学にしても、就職にしても、自分で決めなければならない。</span>无论是升学还是就业，都必须由自己决定。</p><h3 id="5-～というと"><a href="#5-～というと" class="headerlink" title="5. ～というと"></a>5. ～というと</h3><p>PS：5-7 可以联合记忆。</p><p>接続：体言</p><p>意味：<span class="heimu">谈起，说到</span></p><p>例文：</p><p>川端康成というと、「雪国」という小説が心に浮かぶ人が多いでしょう。<span class="heimu">一提到川端康成，很多人脑海里就会浮现出《雪国》这部小说。</span></p><p>心に浮かぶ：从心里「浮现」，&#x3D;&#x3D;想起</p><p><span class="heimu">映画というと、「ハリウッド」を思い出す。</span>一提到电影，就想起《好莱坞》。</p><h3 id="6-～といえば"><a href="#6-～といえば" class="headerlink" title="6. ～といえば"></a>6. ～といえば</h3><p>（1）接続：体言</p><p>意味：<span class="heimu">说起</span></p><p>例文：</p><p>日本といえば、すぐ富士山を思い出します。<span class="heimu">说起日本，马上就会想起富士山。</span></p><p><span class="heimu">田中さんといえば、最近仕事を辞めてそうです。</span>说到田中，他最近辞职了。</p><p>（2）接続：体言</p><p>意味：<span class="heimu">要说…的确是…</span></p><p>例文：</p><p>不便といえば不便だが、なんとかやるよ。<span class="heimu">说不方便也确实不方便，但我会想办法的。</span></p><p><span class="heimu">高いといえば高いですが、必需品ですから、買っておいたほうがいいよ。</span>要说贵也确实是贵，但毕竟是必需品，还是买下来比较好。</p><h3 id="7-～といったら"><a href="#7-～といったら" class="headerlink" title="7. ～といったら"></a>7. ～といったら</h3><p>接続：体言</p><p>意味：<span class="heimu">提起，说到（提出话题）</span></p><p>例文：</p><p>その話を聞いたとき彼女の顔といったら、本当に悲しそうだった。<span class="heimu">听到那件事的时候，说起她的脸，真的很悲伤。</span></p><p><span class="heimu">紅葉といったら高尾山、あの景色のうつくしさといったら、言葉で言い表せないほどだ。</span>说到红叶就是高尾山，说起那个景色，简直无法用语言来形容。</p><h3 id="8-～かというと・かといえば・かといったら"><a href="#8-～かというと・かといえば・かといったら" class="headerlink" title="8. ～かというと・かといえば・かといったら"></a>8. ～かというと・かといえば・かといったら</h3><p>接続：体言</p><p>意味：<span class="heimu">从…来讲（以事实为依据谈论自己的看法）</span></p><p>なぜ成績が悪いかというと、普段の勉強が足りないからです。<span class="heimu">为什么成绩不好，是因为平时学习不够。</span></p><p><span class="heimu">大学を卒業したらとうするかといえば、まだ何も決めてないだ。</span>说到大学毕业后怎么办，我什么都还没决定呢。</p><h3 id="9-～からいうと・からいえば・からいって"><a href="#9-～からいうと・からいえば・からいって" class="headerlink" title="9. ～からいうと・からいえば・からいって"></a>9. ～からいうと・からいえば・からいって</h3><p>接続：体言</p><p>意味：<span class="heimu">从…来讲（以事实为依据谈论自己的看法）</span></p><p>例文：</p><p>彼は実力からいうと、大学に入るのは大丈夫だ。<span class="heimu">就他的能力而言，进入大学是没问题的。</span></p><p><span class="heimu">彼女は妹だけど、性格からいうと、私と全然違っている。</span>她是我妹妹，但她的性格和我完全不同。</p><p>だけど：表示转折。</p><h3 id="10-～からすると・からすれば"><a href="#10-～からすると・からすれば" class="headerlink" title="10. ～からすると・からすれば"></a>10. ～からすると・からすれば</h3><p>接続：体言</p><p>意味：<span class="heimu">从…来看（从事物的某个角度衡量）</span></p><p>例文：</p><p>話し方からすると、彼は東京の人ではないようだ。<span class="heimu">从说话的方式来看，他好像不是东京人。</span></p><p><span class="heimu">収入からすると、そんな高いかばんはとても買えない。</span>从我的收入来看，我买不起这么贵的包。</p><h3 id="11-～から見ると・から見れば・から見て"><a href="#11-～から見ると・から見れば・から見て" class="headerlink" title="11. ～から見ると・から見れば・から見て"></a>11. ～から見ると・から見れば・から見て</h3><p>接続：体言</p><p>意味：<span class="heimu">从…看来（角度，看法）</span></p><p>例文：</p><p>親の立場から見ると、子供はいくつになっても子供です。<span class="heimu">从父母的角度来看，孩子不管多大都是孩子。</span></p><p><span class="heimu">服装から見れば、彼は金持ちのようだ。</span>从他的衣服来看，他似乎很富有。</p><h3 id="12-～にしてみれば"><a href="#12-～にしてみれば" class="headerlink" title="12. ～にしてみれば"></a>12. ～にしてみれば</h3><p>重要！</p><p>接続：体言</p><p>意味：<span class="heimu">前接人物，从…视点来看</span></p><p>例文：</p><p>初心者にしてみれば、もっとわかりやすく話してもらいたいだろう。<span class="heimu">在初学者看来，希望能说得更通俗易懂吧。</span></p><p><span class="heimu">私にしてみれば、どうでもいいことだ。</span>在我看来，这是无关紧要的事。</p><p>どうでもいい：怎么都行，无所谓。</p><h3 id="13-～はともかく"><a href="#13-～はともかく" class="headerlink" title="13. ～はともかく"></a>13. ～はともかく</h3><p>ともかく：暂且。类似于一応（いちおう）</p><p>接続：体言、連体形</p><p>意味：<span class="heimu">…暂且不论</span></p><p>例文：</p><p>この店はサービスはともかく、味がわるくない。<span class="heimu">这家店的服务暂且不说，味道是不差的。</span></p><p><span class="heimu">他人のことはともかく、まず自分がどうするかを決めるべきだ。</span>别人的事暂且不论，你应该先决定自己该怎么做。</p><h3 id="14-～ならともく"><a href="#14-～ならともく" class="headerlink" title="14. ～ならともく"></a>14. ～ならともく</h3><p>接続：体言、連体形</p><p>意味：<span class="heimu">如果…另当别论，但是…（情有可原）</span></p><p>勉強しているならともかく、遊んでばかりいては成績がよくなるはずがない。<span class="heimu">学习的话姑且不论，光玩的话成绩不可能变好。</span></p><p><span class="heimu">遅刻ならともかく、欠席はだめだ。</span>迟到还好，不能缺席。</p><h2 id="第九部分：可能"><a href="#第九部分：可能" class="headerlink" title="第九部分：可能"></a>第九部分：可能</h2><h3 id="1-～ざるをえない"><a href="#1-～ざるをえない" class="headerlink" title="1. ～ざるをえない"></a>1. ～ざるをえない</h3><p>ざる：古典语法中的ない。ない型去ない：未然形接续。</p><p>&#x3D;&#x3D;接続：ない型&#x3D;&#x3D;</p><p>意味：<span class="heimu">不得不（违反本意）</span></p><p>例文：</p><p>今回の失敗はこちらにも責任があると言わざるをえない。<span class="heimu">不得不说，这次的失败我们也有责任。</span></p><p><span class="heimu">事故を起こしたのだから、仕事を辞めざるをえない。</span>既然发生了事故，就不得不辞去工作。</p><p>えない：得る。可以看第 8 个语法。</p><h3 id="2-～かねる"><a href="#2-～かねる" class="headerlink" title="2. ～かねる"></a>2. ～かねる</h3><p>かねる＝兼ねる</p><p>&#x3D;&#x3D;接続：ます型去ます&#x3D;&#x3D;</p><p>意味：<span class="heimu">难以，表达否定含义。</span></p><p>例文：</p><p>私一人では決めかねます。<span class="heimu">我一个人难以决定</span></p><p><span class="heimu">せっかく作ってくれた料理なので、まずいと言いかねる。</span>好不容易给我做的饭，不好说难吃。</p><h3 id="3-～かねない"><a href="#3-～かねない" class="headerlink" title="3. ～かねない"></a>3. ～かねない</h3><p>&#x3D;&#x3D;接続：ます型去ます&#x3D;&#x3D;</p><p>意味：<span class="heimu">有可能（消极）表达肯定含义。</span></p><p>例文：</p><p>あの人は金のためにはそんなことをやりかねない。<span class="heimu">为了钱，他会做这样的事。</span></p><p><span class="heimu">早く行かないと、7時の列車に遅れかねない。</span>如果不快点走，就赶不上七点钟的火车了。</p><h3 id="4-～恐れがある"><a href="#4-～恐れがある" class="headerlink" title="4. ～恐れがある"></a>4. ～恐れがある</h3><p>接続：連体形</p><p>意味：<span class="heimu">恐怕会（消极）</span></p><p>例文：</p><p>このまま森を切り続けば、ここは砂漠になる恐れがある。<span class="heimu">如果我们继续砍伐森林，这里可能会变成沙漠。</span></p><p><span class="heimu">台風は5日に沖縄地区に上陸する恐れがある。</span>台风有可能于5日登陆冲绳地区。</p><h3 id="5-～ようがない"><a href="#5-～ようがない" class="headerlink" title="5. ～ようがない"></a>5. ～ようがない</h3><p>&#x3D;&#x3D;接続：ます型去ます&#x3D;&#x3D;</p><p>意味：<span class="heimu">无法…</span></p><p>例文：</p><p>これ以上悩んでもどうしようもない、あきらめよう。<span class="heimu">再烦恼也无济于事，还是放弃吧。</span></p><p>これ以上：再，更加。</p><p>どうしようもない：无济于事。どうしよう：怎么办。</p><p><span class="heimu">その時の寂しさは言いようがない。</span>那时的寂寞是无法形容的。</p><p>言いようがない：无法用言语表达。</p><h3 id="6-～にも～ない"><a href="#6-～にも～ない" class="headerlink" title="6. ～にも～ない"></a>6. ～にも～ない</h3><p>接続：意向形（よう）～（ない）可能形&#x3D;&#x3D;中间一般是同一个动词&#x3D;&#x3D;</p><p>意味：<span class="heimu">想要做…也做不到</span></p><p>例文：</p><p>心配事があるので、寝ようにも寝られない。<span class="heimu">因为有担心的事情，想要睡也睡不了。</span></p><p><span class="heimu">お金がなくて、留学しようにもできない。</span>没有钱，想留学也去不了。</p><h3 id="7-～（より）ほか（は）ない"><a href="#7-～（より）ほか（は）ない" class="headerlink" title="7. ～（より）ほか（は）ない"></a>7. ～（より）ほか（は）ない</h3><p>接続：辞書形</p><p>意味：<span class="heimu">（没有别的办法）只好</span></p><p>例文：</p><p>N2試験に合格するためには、今から真面目に勉強するよりほかはない。<span class="heimu">为了通过 N2 考试，只能从现在开始认真学习。</span></p><p><span class="heimu">いくら焦ってもどうしようもない、このまま待つほかない。</span>再怎么着急也无济于事，只能这样等下去。</p><p>にほかならない：不外乎，正是。</p><h3 id="8-～得る"><a href="#8-～得る" class="headerlink" title="8. ～得る"></a>8. ～得る</h3><p>8-19 为接尾语，需要特别关注接续。</p><p>&#x3D;&#x3D;接続：ます型去ます&#x3D;&#x3D;</p><p>意味：<span class="heimu">能</span></p><p>そんなこと、ありえないよ。<span class="heimu">这样的事情，是不可能的。</span></p><p><span class="heimu">この問題を解きえた人はまだ一人もいない。</span>还没有人能解决这个问题。</p><h3 id="9-～かけ・～かける"><a href="#9-～かけ・～かける" class="headerlink" title="9. ～かけ・～かける"></a>9. ～かけ・～かける</h3><p>&#x3D;&#x3D;接続：ます型去ます&#x3D;&#x3D;</p><p>意味：<span class="heimu">刚刚开始，做了一半（没做完）</span></p><p>例文：</p><p>机には食べかけのパンが残されている。<span class="heimu">桌子上还有吃了一半的面包。</span></p><p><span class="heimu">読みかけた本を返した。</span>把没有读完的书还回去了。</p><h3 id="10-～がち"><a href="#10-～がち" class="headerlink" title="10. ～がち"></a>10. ～がち</h3><p>&#x3D;&#x3D;接続：ます型去ます&#x3D;&#x3D;、体言（后面接续同形容动词）</p><p>意味：<span class="heimu">容易、常常、往往会（消极）</span></p><p>例文：</p><p>これはありがちな間違いだ。<span class="heimu">这是常有的错误。</span></p><p><span class="heimu">彼女は小さいころ病気がちで、あまり外で遊ばなかった。</span>她小时候经常生病，很少在外面玩。</p><h3 id="11-～がる"><a href="#11-～がる" class="headerlink" title="11. ～がる"></a>11. ～がる</h3><p>&#x3D;&#x3D;接続：ます型去ます、形容詞語幹&#x3D;&#x3D;</p><p>日语中描述第三人称的时候，使用たがる。</p><p>本义：1. 想，觉得；うれしがる。感觉快乐；2. 故作；強がる。逞强。</p><p>意味：<span class="heimu">第三人称的感觉，表达「这样」的想法或感受。</span></p><p>例文：</p><p>弟は新しいものを見ると、すぐ欲しがる。<span class="heimu">弟弟一看到新的东西就想要。</span></p><p><span class="heimu">人の嫌がる事はなるべくやめたほうがいい。</span>你最好停止做别人不喜欢的事。</p><h3 id="12-～気味"><a href="#12-～気味" class="headerlink" title="12. ～気味"></a>12. ～気味</h3><p>&#x3D;&#x3D;接続：ます型去ます&#x3D;&#x3D;</p><p>意味：<span class="heimu">有点…倾向</span></p><p>例文：</p><p>今日は少し風邪気味で、頭が痛い。<span class="heimu">今天有点感冒的倾向，头疼。</span></p><p><span class="heimu">初めての演説なので、彼女は少し緊張気味だった。</span>因为是第一次演讲，她显得有些紧张。</p><h3 id="13-～きる"><a href="#13-～きる" class="headerlink" title="13. ～きる"></a>13. ～きる</h3><p>きる＝切る</p><p>きれる＝<span class="heimu">能做完</span>　きれない＝<span class="heimu">不能做完。</span></p><p>&#x3D;&#x3D;接続：ます型去ます&#x3D;&#x3D;</p><p>意味：<span class="heimu">做完</span></p><p>例文：</p><p>この本は一週間で読み切れる。<span class="heimu">这本书一星期读完。</span></p><p><span class="heimu">辞書に頼って、やっとこの小説を読み切った。</span>靠着词典，好不容易读完了这本小说。</p><h3 id="14-～げ"><a href="#14-～げ" class="headerlink" title="14. ～げ"></a>14. ～げ</h3><p>&#x3D;&#x3D;接続：ます型去ます、い形容詞去い、な形容詞去な&#x3D;&#x3D;</p><p>变完后相当于形容动词去用。</p><p>意味：<span class="heimu">…的样子</span></p><p>例文：</p><p>家の外で子猫が悲しげにほえている。<span class="heimu">家外面小猫伤心地叫着。</span></p><p><span class="heimu">このぐないのことで怒るのは、大人げがない。</span>为这件事生气，没有大人风度。</p><h3 id="15-～だらけ"><a href="#15-～だらけ" class="headerlink" title="15. ～だらけ"></a>15. ～だらけ</h3><p>接続：体言</p><p>意味：<span class="heimu">满是（抽象，具体）</span></p><p>例文：</p><p>彼は借金だらけ、何度も自殺を図った。<span class="heimu">他负债累累，多次企图自杀。</span></p><p><span class="heimu">この文章は間違いだらけ、直しようがない。</span>这篇文章错误百出，无从修改。</p><p>まみれ：<span class="heimu">だらけ表示「具体」的用法。「表面」的东西。</span></p><h3 id="16-～っぽい"><a href="#16-～っぽい" class="headerlink" title="16. ～っぽい"></a>16. ～っぽい</h3><p>&#x3D;&#x3D;接続：ます型去ます&#x3D;&#x3D; &#x3D;&#x3D;名词&#x3D;&#x3D;</p><p>意味：<span class="heimu">有前项的特性（可以翻译为像…一样）（接名词），状态；容易变得…样。（ます型去ます）</span></p><p>例文：</p><p>彼女はもう大学を卒業したが、子供っぽいところがまだある。<span class="heimu">她已经大学毕业了，但她仍然有孩子气。</span></p><p>子供っぽい：像孩子一样。不用于描述小孩子（类比的，不能描述对象）。不过らしい是可以这么用的。</p><p><span class="heimu">田中さんは忘れっぽくなりました。</span>田中先生最近变得健忘了。</p><h3 id="17-～抜く"><a href="#17-～抜く" class="headerlink" title="17. ～抜く"></a>17. ～抜く</h3><p>接続：ます型去ます</p><p>意味：<span class="heimu">（通过努力）做到最后</span></p><p>例文：</p><p>ついに2000メートルを走りぬいた。<span class="heimu">终于跑了2000米。</span></p><p><span class="heimu">決めた以上、最後までやり抜くべきだ。</span>既然已经决定了，就该干到底。</p><h3 id="18-～向き"><a href="#18-～向き" class="headerlink" title="18. ～向き"></a>18. ～向き</h3><p>接続：体言</p><p>意味：<span class="heimu">适合于（性质适合某类人或事物）；朝向</span></p><p>例文：</p><p>子供向きの料理もあれば、大人向きの料理もある。<span class="heimu">既有面向孩子的菜，也有面向大人的菜。</span></p><p><span class="heimu">あの酒は女性向きで、あまり強くない。</span>那种酒适合女人喝，不是很烈。</p><h3 id="19-～向け"><a href="#19-～向け" class="headerlink" title="19. ～向け"></a>19. ～向け</h3><p>接続：体言</p><p>意味：<span class="heimu">以…为对象（目的）</span></p><p>例文：</p><p>輸出向けの製品はみんな厳しい品質検査を受けている。<span class="heimu">以出口为目的的产品都经过严格的质量检验。</span></p><p><span class="heimu">これは中国の日本語学習者向けに作られた教材で、すごく面白い。</span>这是面向中国的日语学习者制作的教材，非常有趣。</p><h2 id="第十部分：仮定、条件"><a href="#第十部分：仮定、条件" class="headerlink" title="第十部分：仮定、条件"></a>第十部分：仮定、条件</h2><h3 id="1-～たとえ～ても・でも"><a href="#1-～たとえ～ても・でも" class="headerlink" title="1. ～たとえ～ても・でも"></a>1. ～たとえ～ても・でも</h3><p>接続：て型</p><p>除开たとえ，どんなに、どれだけ也能作为前面的接续。</p><p>意味：<span class="heimu">即使，就算</span></p><p>例文：</p><p>たとえ負けても、気を落としてはいけない。<span class="heimu">即使输了也不能沮丧。</span></p><p><span class="heimu">たとえ高くても、買わなければならない。</span>即使贵也得买。</p><h3 id="2-～としても"><a href="#2-～としても" class="headerlink" title="2. ～としても"></a>2. ～としても</h3><p>（1）接続：連体形、体言</p><p>意味：<span class="heimu">即使，就算</span></p><p>例文：</p><p>大地震が起こったとしても、このビルは大丈夫でしょう。<span class="heimu">即使发生了大地震，这栋楼也是没问题的吧。</span></p><p>（2）接続：身份地位的名词</p><p>意味：<span class="heimu">就算作为…</span></p><p>例文：</p><p>田中先生は詩人としても有名だ。<span class="heimu">田中先生就算作为诗人也很有名。</span></p><p><span class="heimu">校長としても規則を守るべきだ。</span>就算作为校长也不能违反规定。</p><h3 id="3-～にしても"><a href="#3-～にしても" class="headerlink" title="3. ～にしても"></a>3. ～にしても</h3><p>接続：連体形、体言</p><p>意味：<span class="heimu">即使…；无论…都（连接疑问词）；作为…也</span></p><p>接疑问词的时候，一般都是用にしても。</p><p>例文：</p><p>だれにしても、同じでしょう。<span class="heimu">无论是谁都是一样的。</span></p><p><span class="heimu">忙しいにしても、電話ぐらいはくれればいいのに。</span>即使再忙，至少给我打个电话吧。</p><h3 id="4-～にしろ-～にせよ"><a href="#4-～にしろ-～にせよ" class="headerlink" title="4. ～にしろ&#x2F;～にせよ"></a>4. ～にしろ&#x2F;～にせよ</h3><p>接続：連体形、体言</p><p>意味：<span class="heimu">即使（约等于にしても，略正式）</span></p><p>例文：</p><p>冗談にせよ、そんな話をすべきではない。<span class="heimu">即使（约等于にしても，略正式）</span></p><p><span class="heimu">どんなに辛いにしろ、最後まで頑張らなければならない。</span>就算再辛苦，也要坚持到最后。</p><p>3、4 符合起来也很常用。～にせよ～にせよ：无论…还是…。</p><h3 id="5-～としたら・とすると・とすれば"><a href="#5-～としたら・とすると・とすれば" class="headerlink" title="5. ～としたら・とすると・とすれば"></a>5. ～としたら・とすると・とすれば</h3><p>重要！</p><p>接続：辞書型</p><p>意味：<span class="heimu">如果</span></p><p>例文：</p><p>Ｘは3だとすれば、Ｙは5になる。<span class="heimu">如果X是3，Y就是5。</span></p><p><span class="heimu">証言は正しいとすれば、彼は無罪だ。</span>如果证词无误，他就无罪。</p><p>前面有可能会有仮に（かりに），后面接入的表示「假设」可以用这样的副词。也可以用とする＝当作。</p><h3 id="6-～にしたら・にすれば"><a href="#6-～にしたら・にすれば" class="headerlink" title="6. ～にしたら・にすれば"></a>6. ～にしたら・にすれば</h3><p>接続：体言</p><p>意味：<span class="heimu">在…看来</span></p><p>例文：</p><p>いくら大きくなっても、親にしたらまだ子供なのだ。<span class="heimu">即使年龄变大，在父母看来还是个孩子。</span></p><p><span class="heimu">生活が苦しくても、彼と一緒にいられることは、彼女にしたら最大の幸福だ。</span>即使生活艰苦，能和他在一起生活，从她来看就是最大的幸福了。</p><h3 id="7-～ようものなら"><a href="#7-～ようものなら" class="headerlink" title="7. ～ようものなら"></a>7. ～ようものなら</h3><p>接続：意向形</p><p>意味：<span class="heimu">一旦…的话</span></p><p>例文：</p><p>ちょっとミスしようものなら、命が危ない。<span class="heimu">稍有差错，就有生命危险。</span></p><p><span class="heimu">本当のことを話そうものなら、大変になる。</span>一旦要说真话，可不得了。</p><h3 id="8-～てからでないと"><a href="#8-～てからでないと" class="headerlink" title="8. ～てからでないと"></a>8. ～てからでないと</h3><p>接続：て型</p><p>てから：<span class="heimu">在…之后。</span>，这个相当于てから的否定+と。</p><p>意味：<span class="heimu">不在…之后的话，就无法…</span></p><p>例文：</p><p>みんなと相談してからでないと、一人で決められない。<span class="heimu">不和大家商量之后，就不能一个人做决定。</span></p><p><span class="heimu">親になってからでないと、親としての苦しさが分からない。</span>不成为父母，就不知道作为父母的痛苦。</p><h3 id="9-～ないことには"><a href="#9-～ないことには" class="headerlink" title="9. ～ないことには"></a>9. ～ないことには</h3><p>接続：否定型</p><p>意味：<span class="heimu">如果不…（就不能）…</span></p><p>例文：</p><p>やってみないことには、その面白さがわからないでしょう。<span class="heimu">如果不尝试一下的话，就不知道它的有趣之处吧。</span></p><p>やってみないことには：<span class="heimu">如果不尝试一下的话</span></p><p>面白さ：有趣之处。</p><p><span class="heimu">N2に合格しないことには、この大学に入れない。</span>考上 n2就进不了这所大学。</p><p>PS：8～9 一个意思</p><h3 id="10-～なしには・なくしては"><a href="#10-～なしには・なくしては" class="headerlink" title="10. ～なしには・なくしては"></a>10. ～なしには・なくしては</h3><p>接続：体言</p><p>意味：<span class="heimu">没有…（就不能）…</span></p><p>例文：</p><p>愛なしにはなんの人生か。</p><p>政府からの許可なしには、この計画が実施できないんだろう。</p><h3 id="11-さえ～ば"><a href="#11-さえ～ば" class="headerlink" title="11. さえ～ば"></a>11. さえ～ば</h3><p>重要！</p><p>接続：体言＋でさえあれば、体言＋さえ＋ば形、動詞連用形＋さえすれば、形容詞連用形＋さえあれば、形容動詞語幹＋でさえあれば</p><p>意味：<span class="heimu">只要…</span></p><p>例文：（只要）</p><p>無事でさえあれば、何よりです。</p><p>お金さえあれば、何でも買える。</p><p>この問題を解決しさえすれば、あとは簡単だ。</p><p>安くさえあれば、ちょっと狭くても構わない。</p><h3 id="12-～限り"><a href="#12-～限り" class="headerlink" title="12. ～限り"></a>12. ～限り</h3><p>接続：連体形</p><p>意味：<span class="heimu">只要</span></p><p>例文：</p><p>用事がない限り、必ず参加します。</p><p>暇がある限り、彼と一緒にいたい。</p><h2 id="第十一部分：その他"><a href="#第十一部分：その他" class="headerlink" title="第十一部分：その他"></a>第十一部分：その他</h2><h3 id="1-～ずつ"><a href="#1-～ずつ" class="headerlink" title="1. ～ずつ"></a>1. ～ずつ</h3><p>接続：数量詞</p><p>意味：<span class="heimu">每…</span></p><p>例文：</p><p>五人ずつでグループを作る。</p><p>一人に3枚ずつあげる。</p><h3 id="2-～おきに"><a href="#2-～おきに" class="headerlink" title="2. ～おきに"></a>2. ～おきに</h3><p>接続：数量詞</p><p>意味：<span class="heimu">每隔</span></p><p>例文：</p><p>1メートルおきに気を一本植える。</p><p>3時間おきに薬を飲んでください。</p><h3 id="3-～ごとに"><a href="#3-～ごとに" class="headerlink" title="3. ～ごとに"></a>3. ～ごとに</h3><p>接続：体言、連体形</p><p>意味：<span class="heimu">每…(频度)</span></p><p>例文：</p><p>このバスは五分ごとに出る。</p><p>日曜日ごとにプールに行く。</p><p>五人ごとにグループを作る。</p><h3 id="4-～なんて"><a href="#4-～なんて" class="headerlink" title="4. ～なんて"></a>4. ～なんて</h3><p>接続：辞書形、体言</p><p>意味：<span class="heimu">など口语，表示列举，或轻蔑不以为然的语气</span></p><p>例文：</p><p>こんなところで君に会うなんて、びっくりしたよ。</p><h3 id="5-～なんか"><a href="#5-～なんか" class="headerlink" title="5. ～なんか"></a>5. ～なんか</h3><p>接続：辞書形、体言</p><p>意味：<span class="heimu">など口语，什么的</span></p><p>例文：</p><p>小説を読んだりなんかして、暇をつぶす。</p><h3 id="6-～っけ"><a href="#6-～っけ" class="headerlink" title="6. ～っけ"></a>6. ～っけ</h3><p>接続：過去式</p><p>意味：<span class="heimu">「来着」。表示回忆；对记忆不清的事实进行证实</span></p><p>例文：</p><p>昨日の朝ごはん、何食べたっけ。</p><p>三年前はどこで働いたんだっけ。</p><h3 id="7-～ようではないか"><a href="#7-～ようではないか" class="headerlink" title="7. ～ようではないか"></a>7. ～ようではないか</h3><p>接続：意向形</p><p>意味：<span class="heimu">号召劝诱，…吧</span></p><p>例文：</p><p>最後まで頑張ってみようじゃないか</p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><h3 id="形式体言（N2-特别爱考）"><a href="#形式体言（N2-特别爱考）" class="headerlink" title="形式体言（N2 特别爱考）"></a>形式体言（N2 特别爱考）</h3><h4 id="こと"><a href="#こと" class="headerlink" title="こと"></a>こと</h4><ol><li><p>Vる、ない + ことがある<br>语法：表示有时、偶尔会发生。<br>例句：朝ごはんを食べないことがある。<br>翻译：有时不吃早餐。</p></li><li><p>Vた + ことがある</p></li><li><p>Vた + ことがない<br>语法：表示有某种经历（不可用于日常）。<br>例句：日本へ行ったことがある。<br>翻译：有去过日本的经历。</p></li></ol><p>语法：表示没有某种经历。<br>例句：日本へ行ったことがない。<br>翻译：没有去过日本的经历。</p><ol start="4"><li><p>Vる + ことにする<br>语法：表示主观决定（自己）。<br>例句：日本へ行くことにする。<br>翻译：决定去日本。</p></li><li><p>Vる + ことにしている<br>语法：表示长期坚持或习惯。<br>例句：甘いものを食べないことにしている。<br>翻译：决定不吃甜食。</p></li><li><p>Vる + ことになる</p></li><li><p>Vる + ことになる<br>语法：表示客观决定（公司）或商定。<br>例句：結婚することになった。<br>翻译：决定结婚。</p></li></ol><p>语法：表示会变得…<br>例句：人工知能に依頼しすぎると、脳は退化することになる。<br>翻译：如果过度依赖人工智能，大脑会退化。</p><ol start="8"><li><p>Vる + ことになっている<br>语法：表示规定、规章制度。<br>例句：週末は休講することになっている。<br>翻译：规定周末停课。</p></li><li><p>Vる + ことができる</p></li><li><p>Vる + ことができない<br>语法：表示能力或许可。<br>例句：泳ぐことができる。<br>翻译：能游泳。</p></li></ol><p>语法：表示没有能力或许可。<br>例句：寮でご飯を作ることができない。<br>翻译：不能在宿舍做饭。</p><ol start="11"><li><p>～ないことは (も) ない<br>语法：表示不是不…<br>例句：できないことはない。<br>翻译：并不是说不能做。</p></li><li><p>～ことは～が<br>语法：是倒是，但…<br>例句：できることはできるが。<br>翻译：能做是能做，但…</p></li><li><p>Vる・ない + ことだ</p></li><li><p>Vる・ない + こと<br>语法：表示应该（建议、劝说，上对下）。<br>例句：早く寝ることだ。<br>翻译：应该早点睡。</p></li></ol><p>语法：表示应该（轻微命令、要求、叮嘱）。<br>例句：親の話を聞くこと。<br>翻译：听父母的话。</p><p>（ことだ）还有吃惊的意思。</p><ol start="15"><li><p>～ことだし<br>语法：表示正因为；也是（因为）…（所以）就…吧。<br>例句：今日は休みだし、映画でも見に行こう。<br>翻译：今天放假，不如去看个电影吧。</p></li><li><p>～ことなしには<br>语法：表示如果没有…就没有…<br>例句：努力することなしには成功できない。<br>翻译：没有努力就无法成功。</p></li><li><p>Vること（も）なく<br>语法：表示不…<br>例句：彼は一日も休むことなく働いている。<br>翻译：他一天都没有休息地工作。</p></li><li><p>とのことだ</p></li><li><p>ということだ</p></li><li><p>ということだ<br>语法：表示听说。<br>例句：明日、雨が降るとのことだ。<br>翻译：听说明天会下雨。</p></li></ol><p>语法：表示听说或总结。<br>例句：出席しないということだ。<br>翻译：听说不出席。</p><p>语法：也就是说…<br>例句：明日、雨が降るということだ。<br>翻译：也就是说明天会下雨。</p><ol start="21"><li><p>～ことに<br>语法：表示令人…的是。<br>例句：嬉しいことに、合格した。<br>翻译：令人高兴的是，通过了。</p></li><li><p>ことか<br>语法：表示感叹、多么…<br>例句：なんときれいなことか。<br>翻译：多么漂亮啊。</p></li><li><p>人 + のことだから<br>语法：表示因为是他&#x2F;她嘛，根据对某人的了解进行判断。<br>例句：森さんのことだから、また遅刻するだろう。<br>翻译：因为是森先生，想必又会迟到了。</p></li><li><p>たことにする<br>语法：表示当做、权当。<br>例句：見なかったことにする。<br>翻译：就当没看见。</p></li><li><p>ことから</p></li><li><p>ことから<br>语法：表示原因、依据。<br>例句：彼女の顔色が悪いことから、貧血ではないかと思う。<br>翻译：根据她脸色不好，觉得可能是贫血。</p></li></ol><p>语法：表示名称由来。<br>例句：彼はOOスターに似ていることから、小OOと呼ばれている。<br>翻译：因为他像某个明星，所以被叫做小OO。</p><ol start="27"><li>Vることはない</li><li>Vることはない</li><li>Vることはない<br>语法：表示没必要。<br>例句：気にすることはないよ。<br>翻译：没必要在意。</li></ol><p>语法：表示某事不会做（语气比较坚决）。<br>例句：あのレストランはまずいから、二度と行くことはない。<br>翻译：那家餐厅不好，绝对不会再去。</p><p>语法：表示某事不会发生，不可能发生。<br>例句：こんな晴れているんだから、雨が降ることはないよ。<br>翻译：今天这么晴天，不可能下雨。</p><h4 id="もの"><a href="#もの" class="headerlink" title="もの"></a>もの</h4><h4 id="ところ"><a href="#ところ" class="headerlink" title="ところ"></a>ところ</h4><ol><li><p>原型或意志型 &#x2F; ている &#x2F; た + ところだ<br>语法：表示动作进行的时间阶段。<br>例句：今、勉強しているところだ。<br>翻译：现在正在学习。</p></li><li><p>のところ<br>语法：表示现在、当前或最近的状态。<br>例句：今のところ、問題はない。<br>翻译：目前没有问题。</p></li><li><p>たところ（が）<br>语法：表示意外的结果或情况。<br>例句：行ってみたところ、閉まっていた。<br>翻译：我去了一趟，但发现关门了。</p></li><li><p>たところ<br>语法：表示偶然的发现。<br>例句：新しいレストランを見つけたところだ。<br>翻译：刚好发现了一家新餐厅。</p></li><li><p>ところを<br>语法：表示在某个时刻或状态下，通常带有感谢或歉意的语气。<br>例句：忙しいところを手伝ってくれてありがとう。<br>翻译：在你忙的时候帮了我，谢谢。</p></li><li><p>ところだった &#x2F; でした<br>语法：表示差一点就发生某事。<br>例句：もう少し遅れていたら、遅刻するところだった。<br>翻译：再晚一点的话，差点就迟到了。</p></li><li><p>ところを見ると<br>语法：根据某种情况或样子进行推测。<br>例句：彼の様子を見ると、何か悩んでいるようだ。<br>翻译：从他的样子来看，好像有什么烦恼。</p></li><li><p>ところまで<br>语法：表示到达某个极限。<br>例句：ここが私たちの努力のところまでだ。<br>翻译：这就是我们努力的极限。</p></li><li><p>ていたところだ &#x2F; ～ところに～ &#x2F; ～ところへ～<br>语法：表示正当…的时候。<br>例句：出かけようとしていたところに、友達が来た。<br>翻译：正要出门的时候，朋友来了。</p></li><li><p>ところで<br>语法：表示话题转换或引入新话题。<br>例句：ところで、あなたの週末はどうでしたか？<br>翻译：对了，你的周末过得怎么样？</p></li><li><p>どころか<br>语法：表示不仅如此，反而更是（通常用于否定）。<br>例句：彼は遅刻どころか、まだ家にいる。<br>翻译：他不仅没有迟到，反而还在家里。</p></li><li><p>ところに<br>语法：表示正当…的时候（通常用于描述突发事件）。<br>例句：ちょうどその時、電話がかかってきたところに。<br>翻译：就在那个时候，电话打来了。</p></li><li><p>ところで<br>语法：再次引入话题，类似于「说到」。<br>例句：ところで、あなたはどの映画が好きですか？<br>翻译：顺便问一下，你喜欢哪部电影？</p></li><li><p>どころか<br>语法：强调与预期相反的情况。表示不仅…，反而…（通常用于否定）。<br>例句：彼女は料理が下手どころか、焼き焦がすこともある。<br>翻译：她不仅厨艺差，有时还会把食物烤焦。<br>例句：遊ぶどころか、勉強しなければならない。<br>翻译：不仅不能玩，反而必须学习。</p></li></ol><ul><li><p>うえ</p></li><li><p>うち</p></li><li><p>まま</p></li><li><p>わけ</p></li><li><p>つもり</p></li><li><p>限り</p></li><li><p>次第</p></li></ul><h3 id="相似语法"><a href="#相似语法" class="headerlink" title="相似语法"></a>相似语法</h3><ul><li><p>双重否定</p></li><li><p>三个「非常」</p></li><li><p>四个「随着」</p></li><li><p>する</p></li><li><p>言う</p></li><li><p>ばかり</p></li><li><p>一…就…</p></li></ul><h4 id="に动词て"><a href="#に动词て" class="headerlink" title="に动词て"></a>に动词て</h4><ol><li><p>において<br>语法：表示在某方面、某场所。<br>例句：この問題において、私たちは意見が一致した。<br>翻译：在这个问题上，我们意见一致。</p></li><li><p>にこたえて<br>语法：表示回应…<br>例句：要望にこたえて、新しいサービスを開始しました。<br>翻译：为了回应需求，开始了新服务。</p></li><li><p>にあたって<br>语法：表示在…之际，在…时候。<br>例句：卒業にあたって、感謝の言葉を述べた。<br>翻译：在毕业之际，表达了感谢之词。</p></li><li><p>に向かって<br>语法：表示朝向某个方向或目标。<br>例句：目標に向かって努力する。<br>翻译：朝着目标努力。</p></li><li><p>に際して<br>语法：表示在…之际，通常用于正式场合。<br>例句：旅行に際して、必要なものを確認してください。<br>翻译：在旅行之前，请确认所需物品。</p></li><li><p>にしたがって<br>语法：表示随着某事物的变化而变化。<br>例句：年齢にしたがって、体力が衰えてきた。<br>翻译：随着年龄的增长，体力逐渐减退。</p></li><li><p>に対して<br>语法：表示对比或对某事物的反应。<br>例句：彼の意見に対して、異議を唱える。<br>翻译：对他的意见提出异议。</p></li><li><p>においても<br>语法：表示即使在…情况下。<br>例句：この問題においても、違う意見がある。<br>翻译：在这个问题上，也存在不同的意见。</p></li><li><p>に基づいて<br>语法：表示基于某种依据或根据。<br>例句：データに基づいて、結論を出します。<br>翻译：基于数据得出结论。</p></li><li><p>によって<br>语法：表示通过某种手段或方法。<br>例句：インターネットによって、情報を得る。<br>翻译：通过互联网获取信息。</p></li><li><p>に至って<br>语法：表示到达某种状态或结果。<br>例句：この問題は深刻な事態に至った。<br>翻译：这个问题已经发展到了严重的地步。</p></li></ol><ul><li><p>を动词</p></li><li><p>くらいvsほど</p></li></ul><h3 id="复合词"><a href="#复合词" class="headerlink" title="复合词"></a>复合词</h3><ul><li><p>きり·きる</p></li><li><p>抜き·抜く</p></li><li><p>得る</p></li><li><p>かねる</p></li><li><p>かける</p></li><li><p>がち</p></li><li><p>ぎみ</p></li><li><p>っぽい</p></li><li><p>だらけ</p></li><li><p>っこない</p></li></ul><h3 id="放中间的"><a href="#放中间的" class="headerlink" title="放中间的"></a>放中间的</h3><ul><li><p>あげ</p></li><li><p>あまりに</p></li><li><p>甲斐があって</p></li><li><p>からこそ</p></li><li><p>最中に</p></li><li><p>際に</p></li><li><p>つつ</p></li><li><p>てからでないと</p></li><li><p>はともかく</p></li><li><p>にかかわらず</p></li><li><p>につき</p></li><li><p>につけ</p></li><li><p>のみならず</p></li><li><p>はもとより</p></li><li><p>反面</p></li><li><p>も～ば～も</p></li><li><p>矢先に</p></li><li><p>ようでは</p></li><li><p>わりには</p></li></ul><h3 id="放结尾的"><a href="#放结尾的" class="headerlink" title="放结尾的"></a>放结尾的</h3><ul><li><p>かのようだ</p></li><li><p>ざるを得ない</p></li><li><p>つつある</p></li><li><p>に過ぎない</p></li><li><p>に決まっている</p></li><li><p>に違いない</p></li><li><p>に越したことはない</p></li><li><p>にほかならない</p></li><li><p>ほかはない</p></li><li><p>べき</p></li><li><p>まい</p></li><li><p>ようがない</p></li><li><p>ようじゃないか</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> 日语学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 日本語 </tag>
            
            <tag> 语法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>柚子社☆各OP分析</title>
      <link href="/2024/08/31/tenshi-souzou-reboot-op/"/>
      <url>/2024/08/31/tenshi-souzou-reboot-op/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><blockquote><p>Ciallo ～(∠・ω&lt; )⌒★</p></blockquote><p>这篇博客本来想写一些关于天使☆纷扰的一些东西的，但众所周知，我非常不善于将这些东西表达感受出来，因为我很难不保证自己的感受为了照顾受众有一些同质化想法，那并不是我想要的。上次我正好有过一篇关于 OP 的分析，我觉得正好就将这篇博客的方向进行调整，争取让大家<s>柚子厨</s>读完之后<s>可以去公共场合展现自我。</s></p><p>希望大家可以从解析中有一些获得感！</p><p>无论你对柚子厨有什么看法，我都接受你最恶意的那一种，诶嘿~</p><h2 id="天使☆騒々-RE-BOOT"><a href="#天使☆騒々-RE-BOOT" class="headerlink" title="天使☆騒々 RE-BOOT!"></a>天使☆騒々 RE-BOOT!</h2><p>天使☆嚣嚣，是柚子社第12部正式作品。它在日本的正式名称为：天使☆騒々 RE-BOOT! 由于中文版目前还没个准信，所以我接受目前市面上的所有翻译，不要吵起来！！</p><p>关于这一作确实是有很多想说的，当然不全是好的评价，也没有什么自我感动，小作文啥的那更是绝对不会有。所以你想看那种深度内容，真情实感流露，建议再去互联网上找找哦 (∠・ω&lt; )⌒★。</p><p>歌曲名称：FUN FUN RE-BOOT</p><h3 id="传教时间"><a href="#传教时间" class="headerlink" title="传教时间"></a>传教时间</h3><p>这一作的 OP 我觉得可以在所有柚子的作品中，排进前三。为了方便传教，本文也贴一个官方的 OP 放到这里：</p><div style="position: relative; width: 100%; height: 0; padding-bottom: 56.3%; margin: 20px 0"><iframe loading="lazy" style="position: absolute; width: 100%; height: 100%; left: 0; top: 0;" src="https://www.youtube.com/embed/0R62qm0YQi8?si=DDUArjSwj69-pY9z" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe></div><p>当然，它只有前面的一小半部分。所以我这里也顺便给个 OP 的全语音版本：</p><audio src="audio1.mp3" controls loop preload="metadata">  你的浏览器不支持 audio 标签。</audio><h3 id="歌词讲解"><a href="#歌词讲解" class="headerlink" title="歌词讲解"></a>歌词讲解</h3><p>不过在我们分析 OP 前，可能还是需要把歌词说了什么，给弄懂。日语大神可以跳过第一部分，如果你不会日语或者日语没那么强，可以看看我写的分析。嗯嗯，果然还是忍不住也抱着学习的态度看看歌词呢：</p><p class="hiragana"><span class="ruby"><span class="rb">飛</span><span class="rt">と</span></span>び<span class="ruby"><span class="rb">出</span><span class="rt">だ</span></span>そう<span class="ruby"><span class="rb">新</span><span class="rt">あたら</span></span>しい <span class="ruby"><span class="rb">望</span><span class="rt">のぞ</span></span>む<span class="ruby"><span class="rb">世界</span><span class="rt">せかい</span></span>へ<br>FUN FUN RE-BOOT!<br></p><details>  <summary>点我查看解析</summary>  <div>飞向那个全新的、令人向往的世界吧！</div>  <div>飛び出そう：飞出去吧！</div>  <div>望む：令人羡慕，向往的</div>  <div>へ：N5语法，表示为「去」的含义</div></details><br><p class="hiragana"><span class="ruby"><span class="rb">平凡</span><span class="rt">へいぼん</span></span>だった<span class="ruby"><span class="rb">毎日</span><span class="rt">まいにち</span></span>に<span class="ruby"><span class="rb">舞</span><span class="rt">ま</span></span>い<span class="ruby"><span class="rb">降</span><span class="rt">お</span></span>りた<br><span class="ruby"><span class="rb">アンビリバブー</span><span class="rt">Unbelievable</span></span>！？<span class="ruby"><span class="rb">血</span><span class="rt">ち</span></span>も<span class="ruby"><span class="rb">沸</span><span class="rt">わ</span></span>き<span class="ruby"><span class="rb">立</span><span class="rt">た</span></span>つ<span class="ruby"><span class="rb">運命</span><span class="rt">うんめい</span></span><br>ゲームみたいにありえない<span class="ruby"><span class="rb">話</span><span class="rt">はなし</span></span>も<br><span class="ruby"><span class="rb">信</span><span class="rt">しん</span></span>じちゃう<span class="ruby"><span class="rb">魔法</span><span class="rt">まほう</span></span>かけてあげましょう<br></p><details>  <summary>点我查看解析</summary>  <div>在平凡无奇的每天就此降临。很神奇吧？让人热血沸腾的命运。</div>  <div>就连游戏里的，让人难以置信的故事，也让人忍不住相信。</div>  <div>就让我来为你施下魔法。</div>  <div>平凡だった：N5，な形容词过去式</div>  <div>みたい：N4语法，像那样的。区别于ように等</div>  <div>ちゃう：てしまう的缩略语口语用法</div>  <div>魔法かけて：N5语法，かける有「施加、发动」这里为发动魔法的意思</div>  <div>あげましょう：N4语法，あげる。区别于くれる、もらう</div></details><br><p class="hiragana"><span class="ruby"><span class="rb">異</span><span class="rt">こと</span></span>なる<span class="ruby"><span class="rb">力</span><span class="rt">ちから</span></span><span class="ruby"><span class="rb">掛</span><span class="rt">か</span></span>け<span class="ruby"><span class="rb">合</span><span class="rt">あ</span></span>わせ<span class="ruby"><span class="rb">生</span><span class="rt">う</span></span>み<span class="ruby"><span class="rb">出</span><span class="rt">だ</span></span>す<span class="ruby"><span class="rb">奇跡</span><span class="rt">きせき</span></span><br>ちょっと<span class="ruby"><span class="rb">凹</span><span class="rt">へこ</span></span>んだって、<span class="ruby"><span class="rb">イッツオーライ</span><span class="rt">It's alright</span></span><br><span class="ruby"><span class="rb">必</span><span class="rt">かなら</span></span>ずまた<span class="ruby"><span class="rb">立</span><span class="rt">た</span></span>ち<span class="ruby"><span class="rb">上</span><span class="rt">あ</span></span>がるよ <span class="ruby"><span class="rb">絶対</span><span class="rt">ぜったい</span></span><br>FUN FUN RE-BOOT!<br></p><details>  <summary>点我查看解析</summary>  <div>奇异的力量结合起来就产生了奇迹。哪怕稍微有挫折，依然也没有关系吧</div>  <div>一定会重新振作起来的，绝对。Fun Fun-Reboot！</div>  <div>就让我来为你施下魔法。</div>  <div>掛け合わせ：可以表示乘法，在这里表示「力量汇合」</div>  <div>必ずまた：一定会重新...</div>  <div>立ち上がる：站起来，这里笔者引申出来「振作」的意思</div></details><br><p class="hiragana"><span class="ruby"><span class="rb">ピンチ</span><span class="rt">Pinch</span></span>は<span class="ruby"><span class="rb">チャンス</span><span class="rt">Chance</span></span>に<span class="ruby"><span class="rb">上書</span><span class="rt">うわが</span></span>きして<br>どんな<span class="ruby"><span class="rb">世界</span><span class="rt">せかい</span></span>でも<span class="ruby"><span class="rb">大丈夫</span><span class="rt">だいじょうぶ</span></span><br><span class="ruby"><span class="rb">騒</span><span class="rt">さわ</span></span>がしいくらいがちょうどいいかもね<br><span class="ruby"><span class="rb">前世</span><span class="rt">ぜんせ</span></span>よりも<span class="ruby"><span class="rb">深</span><span class="rt">ふか</span></span>く<br><span class="ruby"><span class="rb">繋</span><span class="rt">つな</span></span>がる<span class="ruby"><span class="rb">愛</span><span class="rt">あい</span></span>を<span class="ruby"><span class="rb">コンティニュー</span><span class="rt">Continue</span></span><br></p><details>  <summary>点我查看解析</summary>  <div>逆境也会被重新改写为机会，无论是在哪个世界都没有关系</div>  <div>就算稍微有些吵闹，说不定正合我们的心意</div>  <div>相比于前世更加深沉，更紧密的爱，一直延续</div>  <div>上書きして：上書きる、改写，覆写</div>  <div>でも：どな...でも、无论怎样的...</div>  <div>くらい：名词接续，表示程度</div>  <div>ちょうど：表示正好。除此之外，它还有「稍微」的含义</div>  <div>ちょうどいいかもね：也许正合我意</div></details><br><p class="hiragana"><span class="ruby"><span class="rb">アクシデント</span><span class="rt">Accident</span></span> まさかの<span class="ruby"><span class="rb">展開</span><span class="rt">てんかい</span></span>も<br><span class="ruby"><span class="rb">最後</span><span class="rt">さいご</span></span>には<span class="ruby"><span class="rb">笑</span><span class="rt">わら</span></span>い<span class="ruby"><span class="rb">話</span><span class="rt">ばなし</span></span>にしよう<br><span class="ruby"><span class="rb">現実</span><span class="rt">げんじつ</span></span>は<span class="ruby"><span class="rb">小説</span><span class="rt">しょうせつ</span></span>よりも<span class="ruby"><span class="rb">奇</span><span class="rt">き</span></span>なりだそうで<br><span class="ruby"><span class="rb">楽</span><span class="rt">たの</span></span>しむしかないみたいね<br><span class="ruby"><span class="rb">私</span><span class="rt">わたし</span></span>たちの<span class="ruby"><span class="rb">ノンフィクション</span><span class="rt">Non-fiction</span></span><br></p><details>  <summary>点我查看解析</summary>  <div>突发事件预料外的展开，到最后也变成了笑谈</div>  <div>现实也许会比小说里面变得更加奇怪</div>  <div>好像也只能找些乐子了，这是我们的纪实文学</div>  <div>まさか：名词，意料之外的</div>  <div>なり：「…だ」、「…である」也，表示断定</div>  <div>しかない：動詞原形+しかない，只能，只得</div>  <div>しかないみたい：只能像那样了啊...</div></details><br><p class="hiragana"><span class="ruby"><span class="rb">重</span><span class="rt">かさ</span></span>ねた<span class="ruby"><span class="rb">心</span><span class="rt">こころ</span></span>を<span class="ruby"><span class="rb">一</span><span class="rt">ひと</span></span>つにして<br><span class="ruby"><span class="rb">予測</span><span class="rt">よそく</span></span><span class="ruby"><span class="rb">不可能</span><span class="rt">ふかのう</span></span>な<span class="ruby"><span class="rb">日常</span><span class="rt">にちじょう</span></span>も<br><span class="ruby"><span class="rb">山</span><span class="rt">やま</span></span>あり<span class="ruby"><span class="rb">谷</span><span class="rt">たに</span></span>あり<span class="ruby"><span class="rb">忙</span><span class="rt">いそが</span></span>しいけれど<br><span class="ruby"><span class="rb">攻略</span><span class="rt">こうりゃく</span></span>しよう キミと<br></p><details>  <summary>点我查看解析</summary>  <div>让重叠的心，合而为一</div>  <div>就连难以预测的日常，也会有高山低谷，让人手忙脚乱</div>  <div>让我们一起去攻略吧！</div>  <div>一つにして：合而为一</div>  <div>けれど：N4语法，虽然...可是，但是，表示转折</div></details><br><p class="hiragana">This is mana. Nobody can take. <span class="ruby"><span class="rb">平穏</span><span class="rt">へいおん</span></span>な<span class="ruby"><span class="rb">日々</span><span class="rt">ひび</span></span><span class="ruby"><span class="rb">取</span><span class="rt">と</span></span>り<span class="ruby"><span class="rb">戻</span><span class="rt">もど</span></span>すまで<br>そう This is mana. Nobody can take. キミの<span class="ruby"><span class="rb">隣</span><span class="rt">となり</span></span>にいるよ <span class="ruby"><span class="rb">当</span><span class="rt">あ</span></span>たり<span class="ruby"><span class="rb">前</span><span class="rt">まえ</span></span><br><span class="ruby"><span class="rb">机上</span><span class="rt">きじょう</span></span>の<span class="ruby"><span class="rb">空論</span><span class="rt">くうろん</span></span>より<span class="ruby"><span class="rb">逆風</span><span class="rt">ぎゃくふう</span></span>を<span class="ruby"><span class="rb">逆</span><span class="rt">ぎゃく</span></span>に<span class="ruby"><span class="rb">追</span><span class="rt">お</span></span>い<span class="ruby"><span class="rb">風</span><span class="rt">かぜ</span></span>に<span class="ruby"><span class="rb">変</span><span class="rt">か</span></span>えたなら<span class="ruby"><span class="rb">行</span><span class="rt">い</span></span>こう<br>(その<span class="ruby"><span class="rb">胸</span><span class="rt">むね</span></span>に<span class="ruby"><span class="rb">宿</span><span class="rt">やど</span></span>るは<span class="ruby"><span class="rb">強大</span><span class="rt">きょうだい</span></span>すぎる<span class="ruby"><span class="rb">パワー</span><span class="rt">Power</span></span>、<span class="ruby"><span class="rb">誰</span><span class="rt">だれ</span></span>の<span class="ruby"><span class="rb">手</span><span class="rt">て</span></span>にも<span class="ruby"><span class="rb">絶対</span><span class="rt">ぜったい</span></span>に<span class="ruby"><span class="rb">渡</span><span class="rt">わた</span></span>させはしないよ)<br>この<span class="ruby"><span class="rb">手</span><span class="rt">て</span></span>で（いつでも）<span class="ruby"><span class="rb">守</span><span class="rt">まも</span></span>るよ(<span class="ruby"><span class="rb">守</span><span class="rt">まも</span></span>る You are my big)<br>Shine！<br></p><details>  <summary>点我查看解析</summary>  <div>（这是无法被夺走的魔法力量）直至重新回到平稳的日子，</div>  <div>（这是无法被夺走的魔法力量）我会陪在你的身边，这是当然</div>  <div>不再纸上谈兵，而是逆转（逆风）变成顺风车，那么走吧！</div>  <div>（强大的力量寄宿在你的胸中，绝对不可以交给任何人手中）</div>  <div>我会亲手（一直都）将其守护（守护，你对于我而言，最璀璨的光）</div>  <div>取り戻す：收回，更为正式的「戻す」</div>  <div>隣にいる：陪在...的身边</div>  <div>当たり前：理所当然，自然</div>  <div>空論：空谈；机上の空論：纸上谈兵</div>  <div>逆風：除了字面意思「逆风」，可以表达「逆境、不利状况」的意思。逆風を逆に：逆风翻盘</div>  <div>追い風：和逆風是反义词，字面意思「顺风」，可以表达「顺境」的意思</div>  <div>変える：はげ山を水田に変える：将秃山变成水田。注意に和を的用法</div>  <div>～過ぎる：N4语法。同にくい等可以接在ます后，也能接名词、形容词词干、形容动词词干</div>  <div>この手で：用这双手。可以引申出「亲手」的意思。あの手この手で：千方百计</div></details><br><p class="hiragana"><span class="ruby"><span class="rb">不思議</span><span class="rt">ふしぎ</span></span>な<span class="ruby"><span class="rb">力</span><span class="rt">ちから</span></span>が<span class="ruby"><span class="rb">シンクロ</span><span class="rt">Sync</span></span>して<br><span class="ruby"><span class="rb">交差</span><span class="rt">こうさ</span></span>した<span class="ruby"><span class="rb">私</span><span class="rt">わたし</span></span>たちの<span class="ruby"><span class="rb">世界</span><span class="rt">せかい</span></span><br><span class="ruby"><span class="rb">何度</span><span class="rt">なんど</span></span>も<span class="ruby"><span class="rb">逢</span><span class="rt">あ</span></span>いたい、<span class="ruby"><span class="rb">エンドロール</span><span class="rt">End Roll</span></span>はまだ<br><span class="ruby"><span class="rb">知</span><span class="rt">し</span></span>らないままで、Let's RE-BOOT!<br></p><details>  <summary>点我查看解析</summary>  <div>不可思议的力量同步，在我们的世界交叉汇集</div>  <div>想和你数次相遇，我们还未结束</div>  <div>此刻仍是未知，让我们重启</div>  <div>何度も：需要区分「何度」和「何度も」，前者表示「多少次」，有疑问翻译；后者表示「好几次」。还有一个「何度でも」不管几次。</div>  <div>～はまだ：まだ名词活用，和原来的意思保持一致。还没有...</div></details><br><p class="hiragana"><span class="ruby"><span class="rb">ピンチ</span><span class="rt">Pinch</span></span>は<span class="ruby"><span class="rb">チャンス</span><span class="rt">Chance</span></span>に<span class="ruby"><span class="rb">上書</span><span class="rt">うわが</span></span>きして<br>どんな<span class="ruby"><span class="rb">世界</span><span class="rt">せかい</span></span>でも<span class="ruby"><span class="rb">大丈夫</span><span class="rt">だいじょうぶ</span></span><br><span class="ruby"><span class="rb">騒</span><span class="rt">さわ</span></span>がしいくらいがちょうどいいかもね<br><span class="ruby"><span class="rb">前世</span><span class="rt">ぜんせ</span></span>よりも<span class="ruby"><span class="rb">深</span><span class="rt">ふか</span></span>く<br><span class="ruby"><span class="rb">繋</span><span class="rt">つな</span></span>がる<span class="ruby"><span class="rb">愛</span><span class="rt">あい</span></span>を<span class="ruby"><span class="rb">コンティニュー</span><span class="rt">Continue</span></span><br></p><details>  <summary>点我查看解析</summary>  <div>逆境也会被重新改写为机会，无论是在哪个世界都没有关系</div>  <div>就算稍微有些吵闹，说不定正合我们的心意</div>  <div>相比于前世更加深沉，更紧密的爱，一直延续</div>  <div>上書きして：上書きる、改写，覆写</div>  <div>でも：どな...でも、无论怎样的...</div>  <div>くらい：名词接续，表示程度</div>  <div>ちょうど：表示正好。除此之外，它还有「稍微」的含义</div>  <div>ちょうどいいかもね：也许正合我意</div></details><h3 id="歌词分析"><a href="#歌词分析" class="headerlink" title="歌词分析"></a>歌词分析</h3><p>咕咕咕</p><h2 id="千恋＊万花"><a href="#千恋＊万花" class="headerlink" title="千恋＊万花"></a>千恋＊万花</h2><p>千恋＊万花是由 YUZU SOFT 制作的一部美少女游戏，是我入坑的第一部 Galgame！我永远喜欢朝武芳乃！！</p><p>柚子社白毛赛高！！柚子社（芳乃、宁宁）+崩坏星穹铁道（流萤）成功让我变成白毛控。</p><p>歌曲名称：恋ひ恋ふ縁（以恋结缘）</p><h3 id="传教时间-1"><a href="#传教时间-1" class="headerlink" title="传教时间"></a>传教时间</h3><p>贴一个官方的 OP 放到这里：</p><div style="position: relative; width: 100%; height: 0; padding-bottom: 56.3%; margin: 20px 0"><iframe loading="lazy" style="position: absolute; width: 100%; height: 100%; left: 0; top: 0;" src="//player.bilibili.com/player.html?isOutside=true&aid=1756355771&bvid=BV1L4421S7Kr&cid=1631476281&p=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"></iframe></div><p>全语音版本：</p><audio src="audio2.mp3" controls loop preload="metadata">  你的浏览器不支持 audio 标签。</audio><h3 id="歌词讲解-1"><a href="#歌词讲解-1" class="headerlink" title="歌词讲解"></a>歌词讲解</h3><p class="hiragana"><span class="ruby"><span class="rb">誠</span><span class="rt">まこと</span></span> <span class="ruby"><span class="rb">意地</span><span class="rt">いじ</span></span>の<span class="ruby"><span class="rb">悪</span><span class="rt">わる</span></span>い<span class="ruby"><span class="rb">神</span><span class="rt">かみ</span></span>の<span class="ruby"><span class="rb">所業</span><span class="rt">しょぎょう</span></span>か？<br><span class="ruby"><span class="rb">奇跡</span><span class="rt">きせき</span></span>？<span class="ruby"><span class="rb">縁</span><span class="rt">えにし</span></span>？<span class="ruby"><span class="rb">袂</span><span class="rt">たもと</span></span><span class="ruby"><span class="rb">触合</span><span class="rt">ふれあ</span></span>う<span class="ruby"><span class="rb">不思議</span><span class="rt">ふしぎ</span></span><br><span class="ruby"><span class="rb">花</span><span class="rt">はな</span></span>ひとひら<span class="ruby"><span class="rb">揺</span><span class="rt">ゆ</span></span>れて、<span class="ruby"><span class="rb">不意</span><span class="rt">ふい</span></span>に<span class="ruby"><span class="rb">宿</span><span class="rt">やど</span></span>ってた<br>うなじ<span class="ruby"><span class="rb">解</span><span class="rt">ほど</span></span>いてく<span class="ruby"><span class="rb">春風</span><span class="rt">はるかぜ</span></span><br></p><details>  <summary>点我查看解析</summary>  <div>难道是天意（神）不善，在戏谑人间？</div>  <div>奇迹还是缘分？这是不可思议的相遇。</div>  <div>摇曳的花儿，不经意地掩住自己，春风在脑后轻轻吹拂。（花儿丛中掩，春风抚我心）</div>  <div>誠（まこと）：真实，真诚，诚然。这里是问句的语句助词，很类似于向神明问「为什么」的虔诚感觉。</div>  <div>意地（いじ）：心术，用心；固执，倔强；志气，气魄。表达「神」可能是故意为之的意思。</div>  <div>所業：所作所为、行径。悪い神の所業：邪恶的神所作所为引申出「戏谑人间」的意思。</div>  <div>ひとひら：一片一枚，等同于いちまい。一片薄而平的一张。</div>  <div>不意に：不经意地。</div>  <div>うなじ：后脑勺。</div>  <div>解く：ほどく、とく。前一种意思包含了解开，还愿的意思。后一种在生活中用的更多：解开，拆开，解职等。</div></details><br><p class="hiragana"><span class="ruby"><span class="rb">戯</span><span class="rt">たわむ</span></span>れはそこそこに<br><span class="ruby"><span class="rb">恋手</span><span class="rt">こいて</span></span>ほどきしてくだしゃんせ<br><span class="ruby"><span class="rb">湯気</span><span class="rt">ゆげ</span></span>にほんのり<span class="ruby"><span class="rb">頬染</span><span class="rt">ほほそ</span></span>めて<br><span class="ruby"><span class="rb">夜風</span><span class="rt">よかぜ</span></span>に<span class="ruby"><span class="rb">願</span><span class="rt">ねが</span></span>ふ<br></p><details>  <summary>点我查看解析</summary>  <div>不要调笑他人，恋爱的绝妙之处需要向他人请教。</div>  <div>水汽渐渐粘上脸颊，心愿随夜风飘荡。</div></details><br><p class="hiragana">いざ！！<span class="ruby"><span class="rb">蝶</span><span class="rt">ちょう</span></span>と<span class="ruby"><span class="rb">舞</span><span class="rt">まい</span></span>ひ <span class="ruby"><span class="rb">花</span><span class="rt">はな</span></span>となりて<br><span class="ruby"><span class="rb">衣</span><span class="rt">きぬ</span></span>を<span class="ruby"><span class="rb">乱</span><span class="rt">みだ</span></span>して<span class="ruby"><span class="rb">祓</span><span class="rt">はら</span></span>いましょう<br>あやなしココロの<span class="ruby"><span class="rb">穢</span><span class="rt">けが</span></span>れ<br><span class="ruby"><span class="rb">故</span><span class="rt">ゆえ</span></span>！！<span class="ruby"><span class="rb">刀</span><span class="rt">とう</span></span>となり <span class="ruby"><span class="rb">楯</span><span class="rt">たて</span></span>となりて<br>この<span class="ruby"><span class="rb">想</span><span class="rt">おも</span></span>ひ<span class="ruby"><span class="rb">護</span><span class="rt">まも</span></span>り<span class="ruby"><span class="rb">賜</span><span class="rt">たま</span></span>え<br><span class="ruby"><span class="rb">君</span><span class="rt">きみ</span></span>が<span class="ruby"><span class="rb">恋</span><span class="rt">こい</span></span>の<span class="ruby"><span class="rb">門</span><span class="rt">もん</span></span>を<span class="ruby"><span class="rb">歩</span><span class="rt">あや</span></span>めた<br></p><details>  <summary>点我查看解析</summary>  <div>来吧，愿化作飞舞的花，</div>  <div>与蝶共舞，衣襟飘逸把禊祓除，</div>  <div>却仍旧不明白心中的污秽。</div>  <div>那便化作剑与盾，想着守护这心意，</div>  <div>你的恋障已经被铲除。</div></details><br><p class="hiragana"><span class="ruby"><span class="rb">恋</span><span class="rt">こい</span></span>の<span class="ruby"><span class="rb">罠</span><span class="rt">わな</span></span>は<span class="ruby"><span class="rb">密</span><span class="rt">ひそ</span></span>やかに<span class="ruby"><span class="rb">仕掛</span><span class="rt">しか</span></span>けなきゃ<br><span class="ruby"><span class="rb">次</span><span class="rt">つぎ</span></span>の<span class="ruby"><span class="rb">一手</span><span class="rt">いって</span></span> すけすけだから<span class="ruby"><span class="rb">困</span><span class="rt">こま</span></span>る<br><span class="ruby"><span class="rb">鍛錬</span><span class="rt">たんれん</span></span>じゃどうにもなんない<br><span class="ruby"><span class="rb">揺</span><span class="rt">ゆ</span></span>れる<span class="ruby"><span class="rb">心模様</span><span class="rt">こころもよう</span></span><br>どっちが<span class="ruby"><span class="rb">先</span><span class="rt">さき</span></span>だ？<span class="ruby"><span class="rb">恋煩</span><span class="rt">こいわずら</span></span>い<br></p><details>  <summary>点我查看解析</summary>  <div>恋爱的陷阱就是要机关算尽，</div>  <div>下一招却透露着困扰纠缠（下一招却马脚百出）。</div>  <div>锻炼也对摇摆不定的心态无济于事，</div>  <div>哪一个先陷入相思病（恋爱烦恼）呢？</div>  <div>すけすけ：透露着。すけすけだから：从...中透露出。</div>  <div>じゃ（では）どうにもなんない：无可奈何、无济于事。</div>  <div>どっち：哪一个。</div></details><br><p class="hiragana"><span class="ruby"><span class="rb">覚悟</span><span class="rt">かくご</span></span>して<span class="ruby"><span class="rb">通</span><span class="rt">とお</span></span>りゃんせ<br><span class="ruby"><span class="rb">夜道</span><span class="rt">よみち</span></span>と<span class="ruby"><span class="rb">乙女</span><span class="rt">おとめ</span></span>にご<span class="ruby"><span class="rb">用心</span><span class="rt">ようじん</span></span>♪<br><span class="ruby"><span class="rb">湯気</span><span class="rt">ゆげ</span></span>の<span class="ruby"><span class="rb">薫</span><span class="rt">かお</span></span>り<span class="ruby"><span class="rb">漂</span><span class="rt">ただよ</span></span>わせ、<span class="ruby"><span class="rb">誘</span><span class="rt">いざな</span></span>う<span class="ruby"><span class="rb">夜宴</span><span class="rt">やえん</span></span><br></p><details>  <summary>点我查看解析</summary>  <div>带着觉悟迈开步伐，小心夜路和少女哦！</div>  <div>散发着蒸汽香气，在引诱你前往夜宴处。</div>  <div>通りゃんせ：日本童谣，意思表示「步行」。通りゃんせ→お通りなさい→通りなさい。<a href="https://m.youtube.com/watch?v=fjMlnLxqir0">童谣链接</a></div>  <div>用心：注意，小心，提防。</div></details><br><p class="hiragana"><span class="ruby"><span class="rb">実</span><span class="rt">げ</span></span>に！<span class="ruby"><span class="rb">本日</span><span class="rt">ほんじつ</span></span>は<span class="ruby"><span class="rb">デート</span><span class="rt">Date</span></span><span class="ruby"><span class="rb">日和</span><span class="rt">ひより</span></span><br>しどけなく<span class="ruby"><span class="rb">誘</span><span class="rt">さそ</span></span>いましょ？<br><span class="ruby"><span class="rb">憑</span><span class="rt">つ</span></span>きませ、<span class="ruby"><span class="rb">偲</span><span class="rt">しの</span></span>ぶ<span class="ruby"><span class="rb">恋夢</span><span class="rt">こいゆめ</span></span><br></p><details>  <summary>点我查看解析</summary>  <div>其实！今天是约会的好日子。</div>  <div>何不不受拘束地放手邀约呢？</div>  <div>绝美恋梦请快快附身吧（快快显现）！</div>  <div>日和：天气，趋势，晴天</div>  <div>しどけない：杂乱，散乱、幼小的；这里的意思引申出「不受拘束地」</div>  <div>憑き：本质为付く，表示附身吧！的意思。后面ませ为ます型尊敬语。</div>  <div>偲ぶ：回忆，追忆，想念、欣赏</div>x</details><br><p class="hiragana"><span class="ruby"><span class="rb">故</span><span class="rt">ゆえ</span></span>！！<span class="ruby"><span class="rb">静</span><span class="rt">せい</span></span>となり <span class="ruby"><span class="rb">動</span><span class="rt">どう</span></span>となりて<br><span class="ruby"><span class="rb">我</span><span class="rt">われ</span></span>を<span class="ruby"><span class="rb">導</span><span class="rt">みちび</span></span>き<span class="ruby"><span class="rb">賜</span><span class="rt">たま</span></span>え<br><span class="ruby"><span class="rb">君</span><span class="rt">きみ</span></span>の<span class="ruby"><span class="rb">剣</span><span class="rt">けん</span></span>が<span class="ruby"><span class="rb">ハート</span><span class="rt">Heart</span></span>を<span class="ruby"><span class="rb">射抜</span><span class="rt">いぬ</span></span>いた<br></p><details>  <summary>点我查看解析</summary>  <div>所以！无论是动还是静，</div>  <div>都请引导我走上正途吧！</div>  <div>導く：引导，指导</div>  <div>導き賜え：请...做。复合动词尊敬语。请引导我走上正途。我的心早已被你的剑所俘获了。</div>  <div>射抜いた：射貫く，（枪弹，箭等）射穿</div></details><br><p class="hiragana">いざ！！<span class="ruby"><span class="rb">蝶</span><span class="rt">ちょう</span></span>と<span class="ruby"><span class="rb">舞</span><span class="rt">まい</span></span>ひ <span class="ruby"><span class="rb">花</span><span class="rt">はな</span></span>となりて<br><span class="ruby"><span class="rb">衣</span><span class="rt">きぬ</span></span>を<span class="ruby"><span class="rb">乱</span><span class="rt">みだ</span></span>して<span class="ruby"><span class="rb">祓</span><span class="rt">はら</span></span>いましょう<br><span class="ruby"><span class="rb">前世</span><span class="rt">ぜんせ</span></span>から<span class="ruby"><span class="rb">繋</span><span class="rt">つな</span></span>がる<span class="ruby"><span class="rb">運命</span><span class="rt">さだめ</span></span><br><span class="ruby"><span class="rb">故</span><span class="rt">ゆえ</span></span>！！<span class="ruby"><span class="rb">刀</span><span class="rt">とう</span></span>となり <span class="ruby"><span class="rb">花</span><span class="rt">はな</span></span>と<span class="ruby"><span class="rb">生</span><span class="rt">い</span></span>きて<br>この<span class="ruby"><span class="rb">愛</span><span class="rt">あい</span></span> <span class="ruby"><span class="rb">護</span><span class="rt">まも</span></span>り<span class="ruby"><span class="rb">賜</span><span class="rt">たまもの</span></span>え<br><span class="ruby"><span class="rb">君</span><span class="rt">きみ</span></span>はもう<span class="ruby"><span class="rb">縁</span><span class="rt">えにし</span></span>に<span class="ruby"><span class="rb">選</span><span class="rt">えら</span></span>ばれた<br></p><details>  <summary>点我查看解析</summary>  <div>来吧，愿化作飞舞的花，</div>  <div>与蝶共舞，衣襟飘逸把禊祓除，</div>  <div>前世开始紧密相连的命运。</div>  <div>那便化作剑，和花一起同生共死，</div>  <div>请守护好这份爱，姻缘已然选择了你啊！</div></details><h2 id="サノバウィッチ"><a href="#サノバウィッチ" class="headerlink" title="サノバウィッチ"></a>サノバウィッチ</h2><p>《魔女的夜宴》（日语：サノバウィッチ）是由柚子社制作发行的恋爱文字冒险游戏，于2015年2月27日发售。</p><p>虽然不是我最喜欢的一作，但是论推的角色平均好感，这一作的几位女主确实都很值得推，质量放废萌作中相当好。</p><p>歌曲名称：恋せよ乙女！（恋爱吧少女！）</p><h3 id="传教时间-2"><a href="#传教时间-2" class="headerlink" title="传教时间"></a>传教时间</h3><p>贴一个官方的 OP 放到这里：</p><div style="position: relative; width: 100%; height: 0; padding-bottom: 56.3%; margin: 20px 0"><iframe loading="lazy" style="position: absolute; width: 100%; height: 100%; left: 0; top: 0;" src="https://www.youtube.com/embed/W7ARsYs-Gq0?si=jKoSPGCQQRrar70x" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe></div><p>全语音版本：</p><audio src="audio4.mp3" controls loop preload="metadata">  你的浏览器不支持 audio 标签。</audio><h3 id="歌词讲解-2"><a href="#歌词讲解-2" class="headerlink" title="歌词讲解"></a>歌词讲解</h3><p class="hiragana">ミントソーダのその<span class="ruby"><span class="rb">先</span><span class="rt">さき</span></span>に <span class="ruby"><span class="rb">雨雲</span><span class="rt">あまぐも</span></span>を<span class="ruby"><span class="rb">連</span><span class="rt">つ</span></span>れてきた。。。<br><span class="ruby"><span class="rb">今</span><span class="rt">いま</span></span>にも<span class="ruby"><span class="rb">降</span><span class="rt">ふ</span></span>り<span class="ruby"><span class="rb">出</span><span class="rt">だ</span></span>しそうね ゆっくり<span class="ruby"><span class="rb">話</span><span class="rt">はなし</span></span><span class="ruby"><span class="rb">聞</span><span class="rt">き</span></span>こう!<br></p><details>  <summary>点我查看解析</summary></details><br><p class="hiragana"><span class="ruby"><span class="rb">小</span><span class="rt">ちい</span></span>さな<span class="ruby"><span class="rb">声</span><span class="rt">こえ</span></span>で<span class="ruby"><span class="rb">震</span><span class="rt">ふる</span></span>えながら <span class="ruby"><span class="rb">悲</span><span class="rt">かな</span></span>しみのその<span class="ruby"><span class="rb">先</span><span class="rt">さき</span></span>に<span class="ruby"><span class="rb">行</span><span class="rt">い</span></span>くなんて<br><span class="ruby"><span class="rb">晴</span><span class="rt">は</span></span>れわたる<span class="ruby"><span class="rb">空</span><span class="rt">そら</span></span>に <span class="ruby"><span class="rb">呪文</span><span class="rt">じゅもん</span></span>をかけよう!<br></p><details>  <summary>点我查看解析</summary></details><br><p class="hiragana"><span class="ruby"><span class="rb">心</span><span class="rt">こころ</span></span>のカケラ<span class="ruby"><span class="rb">集</span><span class="rt">あつ</span></span>めて <span class="ruby"><span class="rb">胸</span><span class="rt">むね</span></span>を<span class="ruby"><span class="rb">焦</span><span class="rt">こ</span></span>がす<span class="ruby"><span class="rb">痛</span><span class="rt">いた</span></span>みにkiss<br><span class="ruby"><span class="rb">明日</span><span class="rt">あした</span></span>は <span class="ruby"><span class="rb">追</span><span class="rt">お</span></span>い<span class="ruby"><span class="rb">風</span><span class="rt">かぜ</span></span>! <span class="ruby"><span class="rb">君</span><span class="rt">きみ</span></span>の<span class="ruby"><span class="rb">未来</span><span class="rt">みらい</span></span> <span class="ruby"><span class="rb">光</span><span class="rt">ひかり</span></span>に<span class="ruby"><span class="rb">包</span><span class="rt">つつ</span></span>まれるよ<br><span class="ruby"><span class="rb">涙</span><span class="rt">なみだ</span></span>は<span class="ruby"><span class="rb">宝石</span><span class="rt">ほうせき</span></span> <span class="ruby"><span class="rb">恋</span><span class="rt">こい</span></span>せよ<span class="ruby"><span class="rb">乙女</span><span class="rt">おとめ</span></span><span class="ruby"><span class="rb">達</span><span class="rt">たち</span></span>!<br></p><details>  <summary>点我查看解析</summary></details><br><p class="hiragana"><span class="ruby"><span class="rb">強</span><span class="rt">つよ</span></span>くて<span class="ruby"><span class="rb">頭</span><span class="rt">あたま</span></span>もよくて <span class="ruby"><span class="rb">完璧</span><span class="rt">かんぺき</span></span>な<span class="ruby"><span class="rb">人</span><span class="rt">ひと</span></span>だって<br><span class="ruby"><span class="rb">一人</span><span class="rt">ひとり</span></span>で<span class="ruby"><span class="rb">怯</span><span class="rt">おび</span></span>えていたり <span class="ruby"><span class="rb">逃</span><span class="rt">に</span></span>げる<span class="ruby"><span class="rb">時</span><span class="rt">とき</span></span>もあるよ<br></p><details>  <summary>点我查看解析</summary></details><br><p class="hiragana">そんな<span class="ruby"><span class="rb">時</span><span class="rt">とき</span></span>には<span class="ruby"><span class="rb">会</span><span class="rt">あ</span></span>いに<span class="ruby"><span class="rb">来</span><span class="rt">き</span></span>てね いつでもお<span class="ruby"><span class="rb">悩</span><span class="rt">なや</span></span>み<span class="ruby"><span class="rb">解決</span><span class="rt">かいけつ</span></span>するわ<br><span class="ruby"><span class="rb">抱</span><span class="rt">だ</span></span>きしめ<span class="ruby"><span class="rb">合</span><span class="rt">あ</span></span>えたら <span class="ruby"><span class="rb">呪文</span><span class="rt">じゅもん</span></span><span class="ruby"><span class="rb">奏</span><span class="rt">かな</span></span>でる<br></p><details>  <summary>点我查看解析</summary></details><br><p class="hiragana"><span class="ruby"><span class="rb">壊</span><span class="rt">こわ</span></span>れたカケラ<span class="ruby"><span class="rb">見</span><span class="rt">み</span></span>つけて <span class="ruby"><span class="rb">瞳</span><span class="rt">ひとみ</span></span><span class="ruby"><span class="rb">閉</span><span class="rt">と</span></span>じて<span class="ruby"><span class="rb">笑顔</span><span class="rt">えがお</span></span>のkiss<br><span class="ruby"><span class="rb">海</span><span class="rt">うみ</span></span>よりも<span class="ruby"><span class="rb">深</span><span class="rt">ふか</span></span>い <span class="ruby"><span class="rb">愛</span><span class="rt">あい</span></span>があること<span class="ruby"><span class="rb">君</span><span class="rt">きみ</span></span>だけに<span class="ruby"><span class="rb">伝</span><span class="rt">つた</span></span>えたい<br><span class="ruby"><span class="rb">言葉</span><span class="rt">ことば</span></span>より<span class="ruby"><span class="rb">先</span><span class="rt">さき</span></span>に <span class="ruby"><span class="rb">届</span><span class="rt">とど</span></span>けこの<span class="ruby"><span class="rb">恋心</span><span class="rt">こいごころ</span></span><br></p><details>  <summary>点我查看解析</summary></details><br><p class="hiragana"><span class="ruby"><span class="rb">心</span><span class="rt">こころ</span></span>のカケラ<span class="ruby"><span class="rb">集</span><span class="rt">あつ</span></span>めて いつもときめいて<span class="ruby"><span class="rb">笑顔</span><span class="rt">えがお</span></span>で<br><span class="ruby"><span class="rb">明日</span><span class="rt">あした</span></span>は <span class="ruby"><span class="rb">追</span><span class="rt">お</span></span>い<span class="ruby"><span class="rb">風</span><span class="rt">かぜ</span></span>! <span class="ruby"><span class="rb">君</span><span class="rt">きみ</span></span>の<span class="ruby"><span class="rb">未来</span><span class="rt">みらい</span></span> <span class="ruby"><span class="rb">光</span><span class="rt">ひかり</span></span>に<span class="ruby"><span class="rb">包</span><span class="rt">つつ</span></span>まれるよ<br><span class="ruby"><span class="rb">涙</span><span class="rt">なみだ</span></span>は<span class="ruby"><span class="rb">宝石</span><span class="rt">ほうせき</span></span> <span class="ruby"><span class="rb">恋</span><span class="rt">こい</span></span>せよ<span class="ruby"><span class="rb">乙女</span><span class="rt">おとめ</span></span><span class="ruby"><span class="rb">達</span><span class="rt">たち</span></span>!<br></p><details>  <summary>点我查看解析</summary></details><h2 id="RIDDLE-JOKER"><a href="#RIDDLE-JOKER" class="headerlink" title="RIDDLE JOKER"></a>RIDDLE JOKER</h2><p>《RIDDLE JOKER》是由柚子社制作的第十部Galgame，于2018年3月30日发售，Steam 版于2020年12月18日发售。</p><p>最甜的骨科之一。我永远喜欢在原七海！！</p><p>歌曲名称：astral ability</p><h3 id="传教时间-3"><a href="#传教时间-3" class="headerlink" title="传教时间"></a>传教时间</h3><p>贴一个官方的 OP 放到这里：</p><div style="position: relative; width: 100%; height: 0; padding-bottom: 56.3%; margin: 20px 0"><iframe loading="lazy" style="position: absolute; width: 100%; height: 100%; left: 0; top: 0;" src="https://www.youtube.com/embed/0EJ7HvJYe1M?si=elxO37miM2t138eY" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe></div><p>全语音版本：</p><audio src="audio3.mp3" controls loop preload="metadata">  你的浏览器不支持 audio 标签。</audio><h3 id="歌词讲解-3"><a href="#歌词讲解-3" class="headerlink" title="歌词讲解"></a>歌词讲解</h3><p class="hiragana"><span class="ruby"><span class="rb">秘密</span><span class="rt">ひみつ</span></span> <span class="ruby"><span class="rb">秘</span><span class="rt">ひ</span></span>めたるこのability<br>コントロールさせて <span class="ruby"><span class="rb">未知</span><span class="rt">みち</span></span>なる<span class="ruby"><span class="rb">世界</span><span class="rt">せかい</span></span>へ<br>さぁ<span class="ruby"><span class="rb">明日</span><span class="rt">あす</span></span>を<span class="ruby"><span class="rb">信</span><span class="rt">しん</span></span>じて<br></p><details>  <summary>点我查看解析</summary></details><br><p class="hiragana"><span class="ruby"><span class="rb">特殊</span><span class="rt">とくしゅ</span></span>だけど specialじゃない<br><span class="ruby"><span class="rb">気付</span><span class="rt">きづ</span></span>けば<span class="ruby"><span class="rb">手</span><span class="rt">て</span></span>にしていた<span class="ruby"><span class="rb">能力</span><span class="rt">のうりょく</span></span><br><span class="ruby"><span class="rb">普通</span><span class="rt">ふつう</span></span>に<span class="ruby"><span class="rb">見</span><span class="rt">み</span></span>えて normalじゃない<br>それがそうreality<br></p><details>  <summary>点我查看解析</summary></details><br><p class="hiragana"><span class="ruby"><span class="rb">同</span><span class="rt">おな</span></span>じ<span class="ruby"><span class="rb">時</span><span class="rt">とき</span></span> <span class="ruby"><span class="rb">瞬間</span><span class="rt">しゅんかん</span></span>を (<span class="ruby"><span class="rb">共</span><span class="rt">とも</span></span>に<span class="ruby"><span class="rb">過</span><span class="rt">す</span></span>ごし)<br><span class="ruby"><span class="rb">共有</span><span class="rt">きょうゆう</span></span>してゆけたなら (<span class="ruby"><span class="rb">少</span><span class="rt">すこ</span></span>しずつでも)<br>きっとそこで<span class="ruby"><span class="rb">生</span><span class="rt">う</span></span>まれる (<span class="ruby"><span class="rb">絆</span><span class="rt">きずな</span></span>がある)<br><span class="ruby"><span class="rb">潜入</span><span class="rt">せんにゅう</span></span>してまでも <span class="ruby"><span class="rb">通</span><span class="rt">とお</span></span>したいもの<br></p><details>  <summary>点我查看解析</summary></details><br><p class="hiragana">どんな<span class="ruby"><span class="rb">危険</span><span class="rt">きけん</span></span><span class="ruby"><span class="rb">待</span><span class="rt">ま</span></span>ち<span class="ruby"><span class="rb">受</span><span class="rt">う</span></span>けてても<br><span class="ruby"><span class="rb">譲</span><span class="rt">ゆず</span></span>れない (<span class="ruby"><span class="rb">確</span><span class="rt">たし</span></span>かな) ものがある<br><span class="ruby"><span class="rb">誰</span><span class="rt">だれ</span></span>かのこと<span class="ruby"><span class="rb">護</span><span class="rt">まも</span></span>るだけじゃなく<br>しっかりと (<span class="ruby"><span class="rb">自分</span><span class="rt">じぶん</span></span>も) <span class="ruby"><span class="rb">護</span><span class="rt">まも</span></span>らなきゃ<br><span class="ruby"><span class="rb">秘密</span><span class="rt">ひみつ</span></span> <span class="ruby"><span class="rb">秘</span><span class="rt">ひ</span></span>めたるこのability<br><span class="ruby"><span class="rb">意味</span><span class="rt">いみ</span></span>がある (<span class="ruby"><span class="rb">意味</span><span class="rt">いみ</span></span>を) それを (それを)<br><span class="ruby"><span class="rb">証明</span><span class="rt">しょうめい</span></span>してみせる<br>その<span class="ruby"><span class="rb">力</span><span class="rt">ちから</span></span><span class="ruby"><span class="rb">信</span><span class="rt">しん</span></span>じて<br></p><details>  <summary>点我查看解析</summary></details><br><p class="hiragana"><span class="ruby"><span class="rb">夢</span><span class="rt">ゆめ</span></span>みたいでも dreamじゃない<br><span class="ruby"><span class="rb">自然</span><span class="rt">しぜん</span></span>と<span class="ruby"><span class="rb">手</span><span class="rt">て</span></span>にしていた<span class="ruby"><span class="rb">能力</span><span class="rt">のうりょく</span></span><br><span class="ruby"><span class="rb">日常</span><span class="rt">にちじょう</span></span>でも everydayじゃない<br>それもそうreality<br></p><details>  <summary>点我查看解析</summary></details><br><p class="hiragana"><span class="ruby"><span class="rb">怪</span><span class="rt">あや</span></span>しい<span class="ruby"><span class="rb">影</span><span class="rt">かげ</span></span>がどこかで (<span class="ruby"><span class="rb">動</span><span class="rt">うご</span></span>き<span class="ruby"><span class="rb">出</span><span class="rt">だ</span></span>して)<br>スリルを<span class="ruby"><span class="rb">感</span><span class="rt">かん</span></span>じたって (たじろがないわ)<br><span class="ruby"><span class="rb">決</span><span class="rt">けっ</span></span>して<span class="ruby"><span class="rb">一人</span><span class="rt">ひとり</span></span>じゃないと (<span class="ruby"><span class="rb">思</span><span class="rt">おも</span></span>えるから)<br><span class="ruby"><span class="rb">背筋</span><span class="rt">せすじ</span></span>を<span class="ruby"><span class="rb">伸</span><span class="rt">の</span></span>ばして<span class="ruby"><span class="rb">歩</span><span class="rt">ある</span></span>いて<span class="ruby"><span class="rb">行</span><span class="rt">ゆ</span></span>ける<br></p><details>  <summary>点我查看解析</summary></details><br><p class="hiragana"><span class="ruby"><span class="rb">想像</span><span class="rt">そうぞう</span></span><span class="ruby"><span class="rb">超</span><span class="rt">こ</span></span>える<span class="ruby"><span class="rb">物</span><span class="rt">もの</span></span>がこの<span class="ruby"><span class="rb">世</span><span class="rt">よ</span></span>には<br>まだもっと (<span class="ruby"><span class="rb">確</span><span class="rt">たし</span></span>かに) <span class="ruby"><span class="rb">溢</span><span class="rt">あふ</span></span>れてる<br><span class="ruby"><span class="rb">経験</span><span class="rt">けいけん</span></span>して<span class="ruby"><span class="rb">学</span><span class="rt">まな</span></span>んで<span class="ruby"><span class="rb">行</span><span class="rt">ゆ</span></span>きながら<br>しっかりと (<span class="ruby"><span class="rb">自分</span><span class="rt">じぶん</span></span>も) <span class="ruby"><span class="rb">進</span><span class="rt">すす</span></span>まなきゃ<br><span class="ruby"><span class="rb">秘密</span><span class="rt">ひみつ</span></span> <span class="ruby"><span class="rb">秘</span><span class="rt">ひ</span></span>めたるこのability<br>コントロール (<span class="ruby"><span class="rb">制御</span><span class="rt">せいぎょ</span></span>) させて (させて)<br><span class="ruby"><span class="rb">未知</span><span class="rt">みち</span></span>なる<span class="ruby"><span class="rb">世界</span><span class="rt">せかい</span></span>へ<br>さぁ<span class="ruby"><span class="rb">明日</span><span class="rt">あす</span></span>を<span class="ruby"><span class="rb">信</span><span class="rt">しん</span></span>じて<br></p><details>  <summary>点我查看解析</summary></details><br><p class="hiragana">(この<span class="ruby"><span class="rb">瞳</span><span class="rt">ひとみ</span></span>) <span class="ruby"><span class="rb">瞳</span><span class="rt">ひとみ</span></span>をこらして <span class="ruby"><span class="rb">前</span><span class="rt">まえ</span></span>を<span class="ruby"><span class="rb">見</span><span class="rt">み</span></span>つめて<br>どんな<span class="ruby"><span class="rb">危険</span><span class="rt">きけん</span></span><span class="ruby"><span class="rb">待</span><span class="rt">ま</span></span>ち<span class="ruby"><span class="rb">受</span><span class="rt">う</span></span>けてても<br><span class="ruby"><span class="rb">譲</span><span class="rt">ゆず</span></span>れない (<span class="ruby"><span class="rb">確</span><span class="rt">たし</span></span>かな) ものがある<br><span class="ruby"><span class="rb">誰</span><span class="rt">だれ</span></span>かのこと<span class="ruby"><span class="rb">護</span><span class="rt">まも</span></span>るだけじゃなく<br>しっかりと (<span class="ruby"><span class="rb">自分</span><span class="rt">じぶん</span></span>も) <span class="ruby"><span class="rb">護</span><span class="rt">まも</span></span>らなきゃ<br><span class="ruby"><span class="rb">秘密</span><span class="rt">ひみつ</span></span> <span class="ruby"><span class="rb">秘</span><span class="rt">ひ</span></span>めたるこのability<br><span class="ruby"><span class="rb">意味</span><span class="rt">いみ</span></span>がある (<span class="ruby"><span class="rb">意味</span><span class="rt">いみ</span></span>を) それを (それを)<br><span class="ruby"><span class="rb">証明</span><span class="rt">しょうめい</span></span>してみせる<br>その<span class="ruby"><span class="rb">力</span><span class="rt">ちから</span></span><span class="ruby"><span class="rb">信</span><span class="rt">しん</span></span>じて<br></p><details>  <summary>点我查看解析</summary></details><h2 id="天色＊アイルノーツ"><a href="#天色＊アイルノーツ" class="headerlink" title="天色＊アイルノーツ"></a>天色＊アイルノーツ</h2><p>《天色幻想岛》（日文：天色＊アイルノーツ），是YUZU SOFT于2013年7月26日所发售的恋爱冒险游戏，为其第七部作品。</p><p><s>臭 mmr 二次元见识少，师生恋都玩的这么花了么。</s></p><p>歌曲名称：Blue-Love Chime</p><h3 id="传教时间-4"><a href="#传教时间-4" class="headerlink" title="传教时间"></a>传教时间</h3><p>贴一个官方的 OP 放到这里：</p><div style="position: relative; width: 100%; height: 0; padding-bottom: 56.3%; margin: 20px 0"><iframe loading="lazy" style="position: absolute; width: 100%; height: 100%; left: 0; top: 0;" src="https://www.youtube.com/embed/kHrNOxcT1lc?si=LMt3zZ3Q69wIgujN" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe></div><h3 id="歌词讲解-4"><a href="#歌词讲解-4" class="headerlink" title="歌词讲解"></a>歌词讲解</h3><p class="hiragana">どこまでも <span class="ruby"><span class="rb">穏</span> <span class="rt">おだ</span></span> やか に<br><span class="ruby"><span class="rb">流</span> <span class="rt">なが</span></span> れ てく <span class="ruby"><span class="rb">日常</span> <span class="rt">にちじょう</span></span><br>それ は とても <span class="ruby"><span class="rb">青</span> <span class="rt">あお</span></span> くっ て<br><span class="ruby"><span class="rb">美</span> <span class="rt">うつく</span></span> しい <span class="ruby"><span class="rb">シーン</span> <span class="rt">しーん</span></span></p><details>  <summary>点我查看解析</summary></details><br><p class="hiragana">やわらか な <span class="ruby"><span class="rb">日差</span> <span class="rt">ひざ</span></span> し の <span class="ruby"><span class="rb">中</span> <span class="rt">なか</span></span><br><span class="ruby"><span class="rb">君</span> <span class="rt">くん</span></span> が <span class="ruby"><span class="rb">微笑</span> <span class="rt">ほほえ</span></span> ん で<br>ふい に <span class="ruby"><span class="rb">胸</span> <span class="rt">むね</span></span> が きゅんと し た の<br><span class="ruby"><span class="rb">私</span> <span class="rt">わたし</span></span> の <span class="ruby"><span class="rb">中</span> <span class="rt">なか</span></span> で <span class="ruby"><span class="rb">何</span> <span class="rt">なに</span></span> か が <span class="ruby"><span class="rb">音</span> <span class="rt">おと</span></span> を<br><span class="ruby"><span class="rb">立</span> <span class="rt">た</span></span> て て <span class="ruby"><span class="rb">変</span> <span class="rt">か</span></span> わっ て いく よ<br></p><details>  <summary>点我查看解析</summary></details><br><p class="hiragana">こんな やさしい <span class="ruby"><span class="rb">想</span> <span class="rt">おも</span></span> い が<br>ずっと <span class="ruby"><span class="rb">続</span> <span class="rt">つづ</span></span> き ます よう に と<br><span class="ruby"><span class="rb">握</span> <span class="rt">にぎ</span></span> っ た <span class="ruby"><span class="rb">左手</span> <span class="rt">ひだりて</span></span> に <span class="ruby"><span class="rb">力</span> <span class="rt">ちから</span></span> を <span class="ruby"><span class="rb">込</span> <span class="rt">こ</span></span> め て<br><span class="ruby"><span class="rb">走</span> <span class="rt">はし</span></span> り <span class="ruby"><span class="rb">出</span> <span class="rt">だ</span></span> し た ん だ<br></p><details>  <summary>点我查看解析</summary></details><br><p class="hiragana"><span class="ruby"><span class="rb">響</span> <span class="rt">ひび</span></span> き <span class="ruby"><span class="rb">渡</span> <span class="rt">わた</span></span> る <span class="ruby"><span class="rb">鐘</span> <span class="rt">かね</span></span> の <span class="ruby"><span class="rb">音</span> <span class="rt">ね</span></span> が<br><span class="ruby"><span class="rb">恋</span> <span class="rt">こい</span></span> の <span class="ruby"><span class="rb">始</span> <span class="rt">はじ</span></span> まり を <span class="ruby"><span class="rb">告</span> <span class="rt">つ</span></span> げる<br>ねぇ <span class="ruby"><span class="rb">私</span> <span class="rt">わたし</span></span> <span class="ruby"><span class="rb">君</span> <span class="rt">くん</span></span> の こと が <span class="ruby"><span class="rb">大好</span> <span class="rt">だいす</span></span> き だ<br></p><details>  <summary>点我查看解析</summary></details><br><p class="hiragana"><span class="ruby"><span class="rb">キラキラ</span> <span class="rt">きらきら</span></span> と <span class="ruby"><span class="rb">輝</span> <span class="rt">かがや</span></span> き <span class="ruby"><span class="rb">出</span> <span class="rt">だ</span></span> し た<br><span class="ruby"><span class="rb">恋心</span> <span class="rt">こいごころ</span></span> は そう まるで <span class="ruby"><span class="rb">宝石</span> <span class="rt">ほうせき</span></span> の よう で<br>（ <span class="ruby"><span class="rb">魔法</span> <span class="rt">まほう</span></span> みたい に ）<br>ふたり の <span class="ruby"><span class="rb">未来</span> <span class="rt">みらい</span></span> <span class="ruby"><span class="rb">彩</span> <span class="rt">いろど</span></span> る<br></p><details>  <summary>点我查看解析</summary></details><br><p class="hiragana"><span class="ruby"><span class="rb">石畳</span> <span class="rt">いしだたみ</span></span> の <span class="ruby"><span class="rb">街並</span> <span class="rt">まちな</span></span> み <span class="ruby"><span class="rb">肩</span> <span class="rt">かた</span></span> <span class="ruby"><span class="rb">並</span> <span class="rt">なら</span></span> べ て <span class="ruby"><span class="rb">歩</span> <span class="rt">ある</span></span> く<br><span class="ruby"><span class="rb">今</span> <span class="rt">いま</span></span> まで <span class="ruby"><span class="rb">知</span> <span class="rt">し</span></span> ら なかっ た<br>ぬくもり が ある<br></p><details>  <summary>点我查看解析</summary></details><br><p class="hiragana"><span class="ruby"><span class="rb">想像</span> <span class="rt">そうぞう</span></span> も し て なかっ た よ<br><span class="ruby"><span class="rb">当</span> <span class="rt">あ</span></span> たり <span class="ruby"><span class="rb">前</span> <span class="rt">まえ</span></span> の この <span class="ruby"><span class="rb">景色</span> <span class="rt">けしき</span></span> が<br><span class="ruby"><span class="rb">違</span> <span class="rt">ちが</span></span> っ て <span class="ruby"><span class="rb">見</span> <span class="rt">み</span></span> える なんて<br><span class="ruby"><span class="rb">初</span> <span class="rt">はじ</span></span> めて の <span class="ruby"><span class="rb">気持</span> <span class="rt">きも</span></span> ち に <span class="ruby"><span class="rb">戸惑</span> <span class="rt">とまど</span></span> い ながら<br><span class="ruby"><span class="rb">恥</span> <span class="rt">は</span></span> ずかしく なる よ<br></p><details>  <summary>点我查看解析</summary></details><br><p class="hiragana"><span class="ruby"><span class="rb">君</span> <span class="rt">くん</span></span> に は <span class="ruby"><span class="rb">バレ</span> <span class="rt">ばれ</span></span> ない よう に<br>その <span class="ruby"><span class="rb">横顔</span> <span class="rt">よこがお</span></span> を <span class="ruby"><span class="rb">見</span> <span class="rt">み</span></span> て いる<br>「 <span class="ruby"><span class="rb">ドキドキ</span> <span class="rt">どきどき</span></span> 」<br><span class="ruby"><span class="rb">聞</span> <span class="rt">き</span></span> こえ そう な くらい に<br><span class="ruby"><span class="rb">スピード</span> <span class="rt">すぴーど</span></span> を <span class="ruby"><span class="rb">上</span> <span class="rt">あ</span></span> げ て ゆく よ<br></p><details>  <summary>点我查看解析</summary></details><br><p class="hiragana">あの <span class="ruby"><span class="rb">澄</span> <span class="rt">す</span></span> み <span class="ruby"><span class="rb">渡</span> <span class="rt">わた</span></span> る <span class="ruby"><span class="rb">空</span> <span class="rt">そら</span></span> の よう に<br><span class="ruby"><span class="rb">嘘偽</span> <span class="rt">うそいつわ</span></span> り ない <span class="ruby"><span class="rb">想</span> <span class="rt">おも</span></span> い<br>ねぇ <span class="ruby"><span class="rb">君</span> <span class="rt">きみ</span></span> に <span class="ruby"><span class="rb">伝</span> <span class="rt">つた</span></span> え たい よ<br>いい かな ？<br></p><details>  <summary>点我查看解析</summary></details><br><p class="hiragana">きっと <span class="ruby"><span class="rb">隠</span> <span class="rt">かく</span></span> し き れ て なく て<br>ふい に ぶつかっ た <span class="ruby"><span class="rb">視線</span> <span class="rt">しせん</span></span><br>もう <span class="ruby"><span class="rb">逸</span> <span class="rt">そ</span></span> らさ ない よ<br>（ まっすぐ に <span class="ruby"><span class="rb">見</span> <span class="rt">み</span></span> て ）<br>ふたり の <span class="ruby"><span class="rb">ストーリー</span> <span class="rt">すとーりー</span></span> <span class="ruby"><span class="rb">描</span> <span class="rt">えが</span></span> こ う<br></p><details>  <summary>点我查看解析</summary></details><br><p class="hiragana"><span class="ruby"><span class="rb">響</span> <span class="rt">ひび</span></span> き <span class="ruby"><span class="rb">渡</span> <span class="rt">わた</span></span> る <span class="ruby"><span class="rb">鐘</span> <span class="rt">かね</span></span> の <span class="ruby"><span class="rb">音</span> <span class="rt">ね</span></span> が<br><span class="ruby"><span class="rb">恋</span> <span class="rt">こい</span></span> の <span class="ruby"><span class="rb">始</span> <span class="rt">はじ</span></span> まり を <span class="ruby"><span class="rb">告</span> <span class="rt">つ</span></span> げる<br>ねぇ <span class="ruby"><span class="rb">私</span> <span class="rt">わたし</span></span> <span class="ruby"><span class="rb">君</span> <span class="rt">くん</span></span> の こと が <span class="ruby"><span class="rb">大好</span> <span class="rt">だいす</span></span> き だ<br></p><details>  <summary>点我查看解析</summary></details><br><p class="hiragana"><span class="ruby"><span class="rb">キラキラ</span> <span class="rt">きらきら</span></span> と <span class="ruby"><span class="rb">輝</span> <span class="rt">かがや</span></span> き <span class="ruby"><span class="rb">出</span> <span class="rt">だ</span></span> し た<br><span class="ruby"><span class="rb">恋心</span> <span class="rt">こいごころ</span></span> は そう まるで <span class="ruby"><span class="rb">宝石</span> <span class="rt">ほうせき</span></span> の よう で<br>（ <span class="ruby"><span class="rb">魔法</span> <span class="rt">まほう</span></span> みたい に ）<br>ふたり の <span class="ruby"><span class="rb">未来</span> <span class="rt">みらい</span></span> <span class="ruby"><span class="rb">彩</span> <span class="rt">いろど</span></span> る<br></p><details>  <summary>点我查看解析</summary></details><h2 id="附：转换-ruby-标签到博客样式的代码"><a href="#附：转换-ruby-标签到博客样式的代码" class="headerlink" title="附：转换 ruby 标签到博客样式的代码"></a>附：转换 ruby 标签到博客样式的代码</h2><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// 转换标签</span><span class="token keyword">function</span> <span class="token function">convertTags</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> rubyElements <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">"ruby"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> ruby <span class="token keyword">of</span> rubyElements<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">const</span> spans <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">const</span> children <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>ruby<span class="token punctuation">.</span>childNodes<span class="token punctuation">)</span><span class="token punctuation">;</span>    children<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">child</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>        child<span class="token punctuation">.</span>nodeName<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">"rb"</span> <span class="token operator">||</span>        child<span class="token punctuation">.</span>nodeName<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">"rt"</span>      <span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">const</span> span <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"span"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        span<span class="token punctuation">.</span>className <span class="token operator">=</span> child<span class="token punctuation">.</span>nodeName<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        span<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> child<span class="token punctuation">.</span>innerHTML<span class="token punctuation">;</span>        ruby<span class="token punctuation">.</span><span class="token function">replaceChild</span><span class="token punctuation">(</span>span<span class="token punctuation">,</span> child<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>child<span class="token punctuation">.</span>nodeName<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">"rp"</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// 删除 rp 标签</span>        ruby<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>child<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 处理 ruby 中没有被标签套用的字符</span>    <span class="token keyword">const</span> textNodes <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>ruby<span class="token punctuation">.</span>childNodes<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>      <span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span> <span class="token operator">=></span> node<span class="token punctuation">.</span>nodeType <span class="token operator">===</span> Node<span class="token punctuation">.</span><span class="token constant">TEXT_NODE</span> <span class="token operator">&amp;&amp;</span> node<span class="token punctuation">.</span>nodeValue<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>    textNodes<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">textNode</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>      <span class="token keyword">const</span> span <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"span"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      span<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">"rb"</span><span class="token punctuation">;</span>      span<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> textNode<span class="token punctuation">.</span>nodeValue<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      ruby<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>span<span class="token punctuation">,</span> textNode<span class="token punctuation">)</span><span class="token punctuation">;</span>      ruby<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>textNode<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">// 删除 class 为 morpheme 的 span 标签</span><span class="token keyword">function</span> <span class="token function">removeMorphemeSpans</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> morphemeSpans <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">"span.morpheme"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  morphemeSpans<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">span</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token keyword">const</span> parent <span class="token operator">=</span> span<span class="token punctuation">.</span>parentNode<span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>span<span class="token punctuation">.</span>firstChild<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      parent<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>span<span class="token punctuation">.</span>firstChild<span class="token punctuation">,</span> span<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    parent<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>span<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">// 删除 class 为 line 的 div 标签，保留其所有子元素</span><span class="token keyword">function</span> <span class="token function">removeLineDivs</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> lineDivs <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">"div.line"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">const</span> lineDivArray <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>lineDivs<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> div <span class="token keyword">of</span> lineDivArray<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>div<span class="token punctuation">.</span>innerText<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">continue</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">const</span> parent <span class="token operator">=</span> div<span class="token punctuation">.</span>parentNode<span class="token punctuation">;</span>    <span class="token comment">// 将 div 的子元素移到 div 的父节点</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>div<span class="token punctuation">.</span>firstChild<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      parent<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>div<span class="token punctuation">.</span>firstChild<span class="token punctuation">,</span> div<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// 添加新的 &lt;br> 元素</span>    div<span class="token punctuation">.</span><span class="token function">before</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"br"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 删除 div 标签</span>    div<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">function</span> <span class="token function">convertRubyTags</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> rubyElements <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">"ruby"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">const</span> rubyElementArray <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>rubyElements<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> ruby <span class="token keyword">of</span> rubyElementArray<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// 创建新的 span 标签</span>    <span class="token keyword">const</span> rubySpan <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"span"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    rubySpan<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">"ruby"</span><span class="token punctuation">;</span>    <span class="token comment">// 将 ruby 的所有子节点移动到新的 span 中</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>ruby<span class="token punctuation">.</span>firstChild<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      rubySpan<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>ruby<span class="token punctuation">.</span>firstChild<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// 替换原 ruby 标签</span>    ruby<span class="token punctuation">.</span><span class="token function">before</span><span class="token punctuation">(</span>rubySpan<span class="token punctuation">)</span><span class="token punctuation">;</span>    ruby<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token function">removeMorphemeSpans</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">convertTags</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">convertRubyTags</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">removeLineDivs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>得到的 html 代码可以在这里进一步格式化：</p><p><a href="https://www.w3cschool.cn/tools/index?name=html_minifier">https://www.w3cschool.cn/tools/index?name=html_minifier</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> 日本語 </tag>
            
            <tag> Galgame </tag>
            
            <tag> 琐碎 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>N3 日语部分语法点归总</title>
      <link href="/2024/08/11/japanese-grammar-2/"/>
      <url>/2024/08/11/japanese-grammar-2/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><blockquote><p>本文仍在加工中… 本文中「字」作为词性说明表示「字典型」，就是大家熟悉的动词原形。</p></blockquote><h2 id="关于-N3"><a href="#关于-N3" class="headerlink" title="关于 N3"></a>关于 N3</h2><p>2010年日本语能力考试进行了全面改版，将原来的四个级别调整为五个级别。其中N3就是新增设的级别，依此来解决原来的二级考试与三级考试水平差异较大的问题。新考试与原来考试水平对应如下：</p><p>日语N1级：与原来的1级水平及评价合格标准大体相同，只是在原有的基础上提高测定能否达到某种运用能力的难度范围。<br>日语N2级：与现行的2级水平大体相同<br>日语N3级：在现行的2级与3级之间的水平<br>日语N4级：与现行的3级水平大体相同<br>日语N5级：与现行的4级水平大体相同</p><p>在 JIPT 的定义上看：N3属于中等水平，基本语法，汉字300字左右，词汇1500左右，能够使用日常生活会话，能够阅读简单文章，日语学习时间大约300小时，初级日语全部掌握的程度。</p><p>因此，N3在 JIPT 中属于中等水平。这个时候属于承上启下的阶段，对于 N4、N5 的知识点需要融会贯通，才能对 N2 以上高难的知识点进行突破。</p><p>本文会以分类的形式，对 N3 涉及到的知识点，进行融合总结。其中也会有对于 N4N5 涉及到的一些知识点的梳理，它们通常来说是作为 N3 知识点需要被用于区分的部分。</p><h2 id="第一类：时间（时间频度、时间程度）"><a href="#第一类：时间（时间频度、时间程度）" class="headerlink" title="第一类：时间（时间频度、时间程度）"></a>第一类：时间（时间频度、时间程度）</h2><h3 id="ごとに、おきに、たびに"><a href="#ごとに、おきに、たびに" class="headerlink" title="ごとに、おきに、たびに"></a>ごとに、おきに、たびに</h3><p>(名·数·字) ごとに (每)</p><p>(数) おきに (有隔)</p><p>(名の·字) たびに (每次)</p><p>三者前面接续不一样。たびに（每次）前面不能加数量词的，ごとに（每）的前面不能加动词性的名词。</p><p>时间单位大于等于天，ごとに（每）・おきに（每间隔）两者存在区别。两者均表示时间频率，但后者实际上在这种情况下是前者的两倍。小于 1 天，两者表达意思完全一样，不用区分。</p><p>名词+ごとに，表示：连带着前面的名词，一起做。</p><ol><li>一つ失敗する <strong>(ごとに·たびに)</strong> また一つ成長する。</li></ol><p>接续动词原形的时候，ごとに・たびに表达的意思是完全一样的。需要注意的是，ごとに之前接名词的时候，是不用加の的。</p><ol start="2"><li>このシステムは1年 <strong>(ごとに、おきに)</strong> 連新される。</li></ol><p>たびに不可以接在表示数量的名词后面。中文可以说的通，每次一年。但是日语里面不可以这么表达。</p><ol start="3"><li>駅へ向かうバスは15分 <strong>(ごとに、おきに)</strong> 出ている。</li></ol><p>同上。</p><ol start="4"><li>5メートル <strong>(ごとに、おきに)</strong> 置く。</li></ol><p>同上。</p><ol start="5"><li>リんごを皮 <strong>ごと</strong> 食べる。</li></ol><p>ごと（に）可以接续名词。但需要注意不能是动作性的名词。</p><ol start="6"><li>デートの <strong>たびに</strong> 必ずお腹が痛くなる。ごとに(×)</li></ol><p>接续たびに之前的名词，需要加の。不能用ごとに。</p><ol start="7"><li>運動の <strong>たびに</strong> 痩せていく。ごとに(×)</li></ol><p>同上，不能用ごとに。</p><ol start="8"><li>1日 <strong>ごとに</strong> 痩せていく。たびに(×)</li></ol><p>たびに前面不能接表示数量的名词。</p><h3 id="くらい、ほど、ごろ"><a href="#くらい、ほど、ごろ" class="headerlink" title="くらい、ほど、ごろ"></a>くらい、ほど、ごろ</h3><p>(数) くらい・ぐらい (左右)</p><p>(数·名) ほど (左右、如…一样)</p><p>(数·形·名の) ごろ (左右、时候)</p><p>三者前面接续不一样。</p><p>くらい・ぐらい能表示时间点的左右。例如 10 时左右：１０時くらい；10 小时左右：１０時間くらい；</p><p>ほど只能表示时间段的左右。10 小时、1 天左右：１０時間ほど・１日ほど</p><p>ごろ只能表达时间点的左右。</p><ol start="9"><li>今日の会議は3時 <strong>(くらい・ぐらい・ごと)</strong> 始まる。</li></ol><p>表示时间点，不能用ほど。</p><ol start="10"><li>大阪から東京まで3時間 <strong>(くらい・ぐらい・ほど)</strong> かかる。</li></ol><p>表示时间段，不能用ごろ。</p><ol start="11"><li>仕事は山<strong>ほど</strong>ある。</li></ol><p>N＋ほど的时候，ほど表示比喻：如…一样。这句话的意思是「工作像山一样」，表示有很多工作。</p><ol start="12"><li>若い子供の<strong>ころに</strong>、日本へ行ったことがある。</li></ol><p>N＋ころ的时候，表示「时候」。这种情况对于形容词接续也适用。</p><h2 id="第二类：状态（何时间、何状态）"><a href="#第二类：状态（何时间、何状态）" class="headerlink" title="第二类：状态（何时间、何状态）"></a>第二类：状态（何时间、何状态）</h2><h3 id="場合、際"><a href="#場合、際" class="headerlink" title="場合、際"></a>場合、際</h3><p>(普·形·名の) 場合 (时候、情况)</p><p>可以跟時（とき）混用。可以看例句 1。</p><p>(た·字·名の) 際 (时候、之际)</p><p>什么什么之际。相比于時・場合更加正式。两者表达的意思完全一致，但是際更加正式。</p><p>際一般情况下不加动词否定，也不加形容词。</p><ol><li><p>パスワードを忘れた **(場合、時)**、こ連絡くださ。</p></li><li><p>体調が悪い <strong>場合</strong> は、休んでもいいです。</p></li><li><p>雨の <strong>場合</strong>、試合は中止です。</p></li><li><p>免許を更新する **(際、時)**、写真は必要だ。</p></li></ol><p>这种情况下可以多种情况混用，只是正式情况有所区别。際一般情况下不加动词否定，也不加形容词。</p><ol start="5"><li>お困りの <strong>際</strong> は、いってもご連絡ください。</li></ol><p>お困りの是一种非常尊敬的用法，当您遇到了…</p><h3 id="まま、っぱなし"><a href="#まま、っぱなし" class="headerlink" title="まま、っぱなし"></a>まま、っぱなし</h3><p>(た·ない·名の) まま (搁置、一直)</p><p>(ます形) っぱなし (搁置、一直)</p><p>很多时候可以互换使用。<strong>っぱなし前面只能接ます型</strong>。在「一直否定」的状态中。这种情况只能用まま。这种情况在ない＋まま这种接续中出现。まま这种形态，表达出来的状态，需要是可以被看到的。っぱなし可以表达「看不到的动作」「一直在进行没有结局」。如：一直在唱歌、一直在走路。</p><ol><li>メがネをかけた<strong>まま</strong>寝た。メがネをかけ<strong>っぱなし</strong>で寝た。</li></ol><p>这种情况下，两者都能用。但是っぱなしで之前必须将名词改造成ます型，两者表达的意思是完全一样的。<br><strong>即便是前面的动词，没有表达过去时概念。</strong></p><ol start="7"><li>ずっと分からない<strong>まま</strong>だ。</li></ol><p>在「一直否定」的状态中。这种情况只能用まま。这种情况在ない＋まま这种接续中出现。</p><ol start="8"><li>２４時間走りっぱなしで、疲れた。</li></ol><p>除此之外，まま这种形态，表达出来的状态，需要是可以被看到的。っぱなし可以表达「看不到的动作」「一直在进行没有结局」这种情况。</p><p>例如：一直在唱歌、一直在走路。这种情况适合用っぱなし。二十四小时都在跑步。</p><h3 id="ずに、ず"><a href="#ずに、ず" class="headerlink" title="ずに、ず"></a>ずに、ず</h3><p>(ない形) ずに (&#x3D;ないで、不做)</p><p>(ない形) ず (&#x3D;なくで、不做)</p><p>他们相当于分别替换ないで、なくで。等同于两者的区别。</p><ol start="9"><li><p>挨拶も **(せずに、しないで)**、出て行った。</p></li><li><p>砂糖を入れ　**(ずに、ないで)**、飲む。</p></li></ol><p>表示两个先后的动作，前面的动作没做，就做了后面的动作。</p><ol start="11"><li><p>日本へ行け **(ず、なくて)**、残念です。</p></li><li><p>お金が <strong>なくて</strong>、大変だ。</p></li></ol><p>形容名词的时候，なくて不能换成ず。</p><h2 id="第三类：条件（如果、一…就…）"><a href="#第三类：条件（如果、一…就…）" class="headerlink" title="第三类：条件（如果、一…就…）"></a>第三类：条件（如果、一…就…）</h2><h3 id="たら、と、ば"><a href="#たら、と、ば" class="headerlink" title="たら、と、ば"></a>たら、と、ば</h3><p>たら（一…就、如果…的话、做了…之后）</p><p>と（一…就、做了…之后）</p><p>ば（一…就、如果…的话）</p><p>均有一…就，的含义。可以表示自然现象，物理规则。但是ば不可以用来描述过去的物理规则。除此之外，たら、と可以用来表示突然发生的一件事情，此时也没有ば的用法。</p><p>如果…的话：后面的句子，并不表达必然的结果。</p><p>たら表示如果…的话，通常来说表示「单独的一次事件」。たら相比于と更加口语化。</p><p>ば表示如果…的话的含义的时候，后面不可以出现意志，命令，请求的形式。除非一些特殊情况，例如前后主语不是同一个。或者前半句话表示某个事情的状态。</p><p>と、たら均有做了…之后的意思。使用と存在一个额外的意思：表示这个动作是一个周而复始的习惯性动作。</p><ol><li>春になる **と(たら・ば)**、桜が咲く。</li></ol><p>一…就，的含义。表示自然现象。</p><ol start="2"><li>このおみを押す **と(たら・ば)**、窓が開きます。</li></ol><p>一…就，的含义。表示物理规则（按钮被按下的话，窗户就开了，所以这里被称之为物理规则感觉也不是很合适）。</p><ol start="3"><li>このボタを押す **と(たら)**、窓が開きました。</li></ol><p>一…就，的含义。表示过去的物理规则。此时不可以使用ば。</p><ol start="4"><li>駅に着く **と(たら)**、先生がいた。</li></ol><p>たら、と可以用来表示突然发生的一件事情，此时也没有ば的用法。</p><ol start="5"><li>日月雨が降っ<strong>たら</strong>、運動会は中止です。</li></ol><p>后面的从句子，并不表达必然的结果。たら表示如果…的话，通常来说表示「单独的一次事件」。这个地方可以使用ば。</p><ol start="6"><li>休みたなっ<strong>たら</strong>、旅行に行きましょう。</li></ol><p>ば表示如果…的话的含义的时候，后面不可以出现意志，命令，请求的形式。</p><ol start="7"><li>ご飯を食べ**たら(と)**、シャワーを浴びる。</li></ol><p>と、たら均有做了…之后的意思。使用と存在一个额外的意思：表示这个动作是一个周而复始的习惯性动作。</p><p>这个例句，虽然说两个词都可以使用，但是使用と会多一层含义。</p><h3 id="なら"><a href="#なら" class="headerlink" title="なら"></a>なら</h3><p>なら（如果…的话）</p><p>有些情况下，只能用なら。比如说给对方提供信息的时候，表示建议。一般使用なら。</p><p>なら可以跳出时间先后顺序。站在现在的角度去预测未来要发生的事情，然后这件未来要发生的事情使用なら，表示未来。</p><ol start="8"><li>山田さんが行け **ば(たら・なら)**、僕も行く。</li></ol><p>ば表示如果…的话的含义的时候，后面不可以出现意志，命令，请求的形式。但是这两个主语并不一样。</p><p>前后主语不一样的情形，可以使用なら。</p><ol start="9"><li>時間がなけれ **ば(たら・なら)**、教えて。</li></ol><p>ば表示如果…的话的含义的时候，后面不可以出现意志，命令，请求的形式。但是前半句话表示某个事情的状态。</p><p>前半句话表示某个事情的状态，可以使用なら。</p><ol start="10"><li>日本へ行く<strong>なら</strong>、奈良はいいですよ。</li></ol><p>给对方提供信息的时候，表示建议。这种情况下只能使用なら。</p><ol start="11"><li>車の運転する<strong>なら</strong>、酒は飲まないように。</li></ol><p>なら可以跳出时间先后顺序。比如上面那句话，喝酒肯定在开车之前，但是なら被用在了开车的半句上。</p><ol start="12"><li>明日雨が降る<strong>なら</strong>、今日のうち出かけよう。</li></ol><p>なら可以跳出时间先后顺序。なら在这里具体表达的含义是：站在现在的角度去预测未来要发生的事情，然后这件未来要发生的事情使用なら，表示未来。这种情况下也可以归咎于打乱时间顺序。</p><p>从这个角度解释たら，意思就变为了：等将来的事情发生之后，再去采取行动。这个时候，第二句话使用「今日…」很显然不合规。</p>]]></content>
      
      
      <categories>
          
          <category> 日语学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 日本語 </tag>
            
            <tag> 语法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>肖邦：大师之作（上）</title>
      <link href="/2024/05/12/chopin-masterpieces/"/>
      <url>/2024/05/12/chopin-masterpieces/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><blockquote><p>[!Warning]<br>本页面使用了比较多的 <code>iframe</code> 标签，它们大多使用懒加载策略。尽管 Youtube 针对于咱外页的优化有着极高水平，但是仍然会在一些配置不太好的电脑性能表现不佳。请尽量避免快速滑动页面，以造成大量的 iframe 一并加载。</p></blockquote><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>我自幼学习钢琴，并且极为侥幸地一直学了下来，至今 16 年感觉也算是小有所成。水平我自然是不太行，不过在这个过程中，我渐渐培养出了对这类音乐的喜爱。虽然说法不严谨，我们一般在大众的认知中称呼其为「古典音乐」——它泛指 20 世纪中叶前西方流派的，以钢琴，小提琴为代表的，历史悠久乐器为主演的音乐，以纯音乐为主。它名家辈出，从莫扎特，海顿，到贝多芬，后来进阶到一些更为细分领域的大师，肖邦，李斯特，德彪西，拉赫玛尼诺夫等。是他们的创作和表演，构成了西方近代史上，乃至全人类的一块壮丽的瑰宝。</p><p>我为什么想做这个系列：</p><ul><li>想使用一种另类的（区别于实体专辑）方式，在自己留下记忆的地方，以专辑的方式保存它们。</li><li>想使用文字描述聆听它们的感受。</li><li>缺乏与其他人交流的途径。博客是我没有限制的发声渠道，我可以畅所欲言。</li></ul><hr><p>一提到肖邦，人们几乎会下意识地将他与一个词联系在一起：浪漫。他被誉为十九世纪欧洲浪漫主义音乐的典范代表，在钢琴作品领域达到了浪漫主义时期的巅峰。尤其是他的一系列夜曲，旋律优美、内容丰富、情感细腻，使他获得了「钢琴诗人」的称号。</p><p>但是这绝对不意味着肖邦就等同于浪漫，唯美，温柔。这很可能是仅仅透过通俗易懂的「夜曲」系列就对肖邦进行的简单的评价。事实上，作为诗人，他最难能可贵的，是用诗一般的旋律向你娓娓道来，道来的，既有婉转的小调，更有宏大的篇章。</p><p>笔者文笔不佳，但是其它大家，赵越胜如此评价肖邦：肖邦的作品精致却不矫饰，抒情却不滥情，忧伤却不嚎哭，绮旎却不风骚。听懂了肖邦的人都能感到他的音乐织体丰厚繁复又晶莹剔透。深灰色的悲哀衬着宝蓝的底色。即使泪水盈眶，泪珠也不落下。</p><p>因此，我们透过肖邦，看到了是一个复杂的，全面的，多面的，有血有肉的，有思想有感情的，有才华有天赋的，有创造力有想象力的，有音乐有诗歌的，有浪漫有现实的，有激情有理智的，有温柔有坚强的，有天才有伟大的复合体。唯一不变的，是长居法国和波兰精神赋予他最核心内核，为那个时代，属于浪漫派时代的最闪亮的一颗明星之一。</p><p>本文接下来会对肖邦的主要之作，结合我的一些理解，进行流水账式列举。既然会进行鉴赏，那就不可能完全主观，因此一定存在立场偏向。选取的曲目亦有主观感受。<strong>本人没有专业学习过乐理，对于音乐的分析更多的凭借自己的感受和较为非专业性的描述，并且会在一些地方贴合主流观点进行说明。</strong>在这个内容中，如果您有特别想跟博主交流的地方，或者争议之处，欢迎通过邮件交流。现实中认识我的朋友，也可以直接找到我。如果这个过程中出现了冒犯之处，以你为准并且我提前向你致以诚挚的道歉。</p><p>那么，我们开始。</p><h2 id="Ballade-叙事曲"><a href="#Ballade-叙事曲" class="headerlink" title="Ballade&#x2F;叙事曲"></a>Ballade&#x2F;叙事曲</h2><p>肖邦共创作了四首叙事曲，皆为单乐章钢琴独奏，并需要较高弹奏技术。叙事曲在法文中原本是指谣曲，而肖邦则是钢琴叙事曲的首创者。如果让我选一个肖邦最推荐的作品，我应该不出意外的会从这四首里面进行选择。</p><h3 id="Ballade-No-1"><a href="#Ballade-No-1" class="headerlink" title="Ballade No.1"></a>Ballade No.1</h3><div style="position: relative; width: 100%; height: 0; padding-bottom: 56.3%; margin: 20px 0"><iframe style="position: absolute; width: 100%; height: 100%; left: 0; top: 0;" width="560" height="315" src="https://www.youtube-nocookie.com/embed/BSFNl4roGlI?si=i-xjAF3T48sw4JEw" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe></div><p>演奏者：Krystian Zimerman 克里斯蒂安·齐默尔曼</p><p>G 小调第 1 号叙事曲，作品 23，于 1831 年创作。当时是肖邦早年于维也纳生活，受思乡之苦，适逢波兰发生十一月起义，因此将感受反映于此曲中。</p><p>罗伯特·舒曼对这首曲目曾说：</p><blockquote><p>I received a new Ballade from Chopin. It seems to be a work closest to his genius (although not the most ingenious) and I told him that I like it best of all his compositions. After quite a lengthy silence he replied with emphasis, “I am happy to hear this since I too like it most and hold it dearest.”</p><p>我收到肖邦新一首叙事曲。虽然它并不是他最为精致的一首曲，但看来是最能反映他天分的，我告诉他这是他所有的作品中我最喜欢的。过了一段沉寂，他强调：『我很开心听到这，因为我也最喜欢它。』</p></blockquote><p>喜爱之情溢于言表。</p><blockquote><p>有人认为这首叙事曲是取材于密茨凯维茨的《格拉辛娜》，但一般认为应是密茨凯维茨的史诗剧作《康拉德·华伦洛德》。这部叙事诗剧写11世纪立陶宛被日尔曼骑士兵团所灭，立陶宛后裔华伦洛德被敌俘虏，并被抚养成人，受到敌方重用。立陶宛老人乔装成唱诗的歌手深入虎穴，得以接近华伦洛德。通过反复启发教育，终于使华伦洛德醒悟，立志牺牲个人为祖国效力，最后终于使立陶宛人得胜，而华伦洛德却被敌人处死。<br>乐曲采用自由奏鸣曲式写成。具有庄重的宣叙调特点的 8 小节序奏之后，出现了安详而略带忧虑的第一主题，老人开始回忆和讲述一个遥远的故事。第二主题是舒展明朗的，使人感受到华伦洛德在知道自己身世后的感慨之情。这两个主题在展开部构成了惊心动魄的戏剧性效果，第一主题不断地增强悲剧色彩，第二主题则发展成具有英雄气概的主题，以至在第二主题再现时，绝然不同于呈示部那抒情温柔的形象，已成长为成熟的、誓为祖国雪耻的英雄形象了。乐曲的尾声将全曲的情绪再一次推向高潮。结尾是悲壮的，象征着华伦洛德为国壮烈捐躯的英雄气概。</p></blockquote><p>反映的背景故事，和现实世界发生的故事如出一辙，遥相呼应。</p><p>本作的技术难点在于各种超八度大跳，这些部分正好对应曲目中华彩段，反映了现实世界十一月起义的激烈战斗。一般认为，华彩段的处理直接影响这部作品的演绎效果（当然对其它叙事曲也一样）。但是除了华彩段，本叙事曲的主旋律反映出来的低沉气氛，想要演绎的非常好，同样也需要用心。本作正是摆脱肖邦「浪漫」风格的最好证明。因为它是难得的写实作品。开头段以略微雄壮的六和弦作为开头，到主旋律低沉的处理，像是一副缓缓展开的史诗。之后主旋律和华彩段相互交接演绎，主旋律表达了低沉的氛围，而华彩段表现了革命的激烈战斗和紧张气氛。如果说驾驭一部革命史诗的难度不低，那么这就是演奏好这首曲子的代价。</p><h3 id="Ballade-No-2"><a href="#Ballade-No-2" class="headerlink" title="Ballade No.2"></a>Ballade No.2</h3><div style="position: relative; width: 100%; height: 0; padding-bottom: 56.3%; margin: 20px 0"><iframe style="position: absolute; width: 100%; height: 100%; left: 0; top: 0;" src="https://www.youtube-nocookie.com/embed/Wslm1ZL9EI8?si=h0VzUbFbdJLQ7g7Q" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe></div><p>演奏者：Krystian Zimerman 克里斯蒂安·齐默尔曼</p><p>F 大调第 2 号叙事曲，作品 38，在 1836 至 1839 年分别于法国的诺昂维克和西班牙的马约卡岛创作，并献于罗伯特·舒曼。</p><p>如果我们有参与这首曲子的评价，我们可以听到这样的言论：</p><blockquote><p>肖邦曾说，当他要写这首叙事曲时，是受密茨凯维茨的长诗《斯维台茨湖》的感动。那首长诗也是写立陶宛古代的爱国故事，大意是：立陶宛遭到异族侵略，青年人都去前方作战了，当留在城里的老幼妇孺听到敌人已迫近城门时，他们无力抵抗，只得乞求上苍，宁可让洪水淹没城市，与敌人同归于尽。果然，奇迹出现了，城市变成了一片湖泊。经过许多世代以后，立陶宛后裔漫步湖畔，探寻着这古代传说的遗迹。突然，有水仙从湖底浮起，向人们讲述了这个故事，然后又潜身返回湖底。肖邦这首叙事曲也并非是对这首长诗的具体描述。它由平静、优美的抒情乐段和暴风骤雨般的戏剧性乐段交织构成，我们只能根据它特定的音乐形象和情绪气氛，对密茨凯维茨的长诗进行一定的联想。</p></blockquote><p>但是实际上，通过英文世界的资料发现，这首曲子似乎并不像我们想象的那么美好。关于它的批评声很多，尤其是在对比他更加天才横溢的 1 号叙事曲后，更加如此。维基百科有这样的描述：「该作品受到一些著名钢琴家和音乐学家的批评，甚至包括其被奉献着舒曼，认为其不如第一部作品巧妙。关于其灵感，存在一定程度的分歧，人们经常声称它的灵感来自于亚当·密茨凯维奇的诗《斯维台茨湖》，但这种说法没有得到证实，《叙事曲第三号》有时被归因于这首诗也是如此。」</p><p>原文在这里 <a href="https://en.wikipedia.org/wiki/Ballade_No._2_(Chopin)">https://en.wikipedia.org/wiki/Ballade_No._2_(Chopin)</a>：</p><blockquote><p>The piece has been criticized by some prominent pianists and musicologists, including its dedicatee Schumann, as a less ingenious work than the first.There is some degree of disagreement as to its inspiration, with the claim, often made that it was inspired by Adam Mickiewicz’s poem Świtezianka, the lake of Willis, but this claim is unsubstantiated, and the Ballade No. 3 is sometimes attributed to this poem as well.</p></blockquote><p>但是就我看来，这首曲子同样也有很多可圈可点的地方。首先它在一定程度在和 1 有着相似之处，因为它同样是主旋律+华彩的基本架构。但是相比于 1 的写实，2 应该没有什么争议地被认为，肖邦融入了更多自己的想法。这体现在主题 1 和 2 肖邦的味道更浓厚（虽然这里同样存在非常多的争议，比如混乱感比较强），但是在第一个主题 2 呈现（小调部分）之后，F 大调主题以一种出色的方式扩展，而这种类似「史诗般」的华彩段相比于 1 来说，连贯性更强并且情绪渲染更加合理（看人，1 极有可能是受到了写实风格的影响）。最后的结尾说实在 2 比 1 更加干净，同样都是在高潮中收尾，1 有一种意犹未尽的感觉，2 则更加干净，更加纯粹。</p><h3 id="Ballade-No-3"><a href="#Ballade-No-3" class="headerlink" title="Ballade No.3"></a>Ballade No.3</h3><div style="position: relative; width: 100%; height: 0; padding-bottom: 56.3%; margin: 20px 0"><iframe loading="lazy" style="position: absolute; width: 100%; height: 100%; left: 0; top: 0;" src="https://www.youtube-nocookie.com/embed/BkPLDoZXlHQ?si=bTkxnWRUw_N4-PL1" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe></div><p>演奏者：Krystian Zimerman 克里斯蒂安·齐默尔曼</p><p>降 A 大调第 3 号叙事曲，作品 47，1841 年始作。这首叙事曲是献给他的学生宝琳·德·诺阿耶（Pauline de Noailles，1823-1844）。根据维基百科来源，它的灵感通常被认为是亚当·密茨凯维奇的诗《Undine》，也被称为 Świtezianka，这与第二首不谋而合地来自于同一位作者。不过需要说明的是，肖邦从未证实过哪些文学来源为他的叙事曲提供了创作动力。很可能他根本不希望听众知道，而是从他的音乐中汲取自己的叙述。</p><p>即便是来源类似，但是从这两首曲子的风格来说，肖邦应该选择了不同的故事。一般认为，这首诗是叙述对爱情不忠诚的人终遭报应的民间传说故事，故事的主人公是一位骑士和一位少女。它的来源无从考证，不过这依然影响不了第三首是完全独特于第一首、第二首的存在。</p><p>叙事曲以一段带有「dolce」字样的冗长介绍开始。引子在旋律上与作品的大部分内容无关，但在作品的结尾和高潮处重复出现，一如故事所言，「骑士向年轻美丽的少女表达自己的心意，少女被骑士的热情打动，愿意与骑士约会」，第一段作为这段故事的开头非常合适。在引子之后，肖邦在一个部分引入了一个新的主题 B，这个主题在我看来可以说是叙事曲中最像圆舞曲的部分，但是又不像圆舞曲那样子充满高贵典雅，而是一种非常轻灵的表现形式，宛如骑士与少女在嬉戏打闹。中音部分很快发展成激烈的 F 小调和弦部分，并再次回到A♭，就像男人与女人，也仿佛恋爱时的心情，跌宕起伏。</p><p>随后进入了变奏，这是主题 B 的变奏。对应故事的原文，很有可能这里就是对应了另外一位美丽的女子，相比之前的少女，更加精致且有魅力。这便是之前的少女——水仙女，化作的另一个女人，来考验骑士的真心。在 124 小节左右，骑士不由自主的跟着水仙女的舞步，愚蠢、负心汉的嘴脸慢慢的暴露出来。却不知水仙女已经看透了他，并且怒不可遏，决心报复。</p><p>157 小节开始音乐开始变得阴暗，右手的旋律像是不再伪装的水仙女在控诉骑士的种种行为，表达自己的愤怒。左手则像原本平静的湖水开始涌动，巨大的危机正向骑士席卷而来。随后进入本作的高潮部分——主题 B 以华丽，恢宏的形式展开，但是对我们的男主人公来说，这毫无疑问显示了这是水仙女的报复。如果说以前的水仙女和他在一起在水中嬉戏打闹，是一开始的主题 B。那么此时的主题 B 又嬉戏玩笑的水花，在这一刻化作了滔天巨浪，宛如回旋镖一般击中了骑士。随后短暂的宁静更像是骑士的哀求，可惜水仙女已经不给他机会。快速跑动的音阶和咆哮的和旋，一如水仙女掀起的滔天巨浪将骑士淹没，任他怎么挣扎都无法逃脱。最后曲子就在快音阶收尾，很显然骑士没有得到水仙女的原谅。</p><p>我的评价是：剧情太狗血，希望这不是真的。狗血的剧情不会影响音乐的美感。</p><h3 id="Ballade-No-4"><a href="#Ballade-No-4" class="headerlink" title="Ballade No.4"></a>Ballade No.4</h3><div style="position: relative; width: 100%; height: 0; padding-bottom: 56.3%; margin: 20px 0"><iframe loading="lazy" style="position: absolute; width: 100%; height: 100%; left: 0; top: 0;" src="https://www.youtube-nocookie.com/embed/pe-GrRQz8pk?si=Hvnnx6iXxrNa09gZ" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe></div><p>演奏者：Krystian Zimerman 克里斯蒂安·齐默尔曼</p><p>F小调第四叙事曲，作品 52，于 1842 年在巴黎完成。它通常被认为是 19 世纪钢琴音乐的杰作之一，和第一首有着极为类似的地位。维基百科说，在四首叙事曲中，它被许多钢琴家认为是技术上和音乐上最困难的。它也是最长的，大约需要十到十二分钟的表演时间。根据约翰·奥格登的说法，它是「肖邦所有作品中最崇高、最强烈和最强大的作品……令人难以置信的是它只持续了十二分钟，因为它包含了一生的经历。」该作品献给纳撒尼尔·德·罗斯柴尔德 (Nathaniel de Rothschild) 的妻子罗斯柴尔德男爵夫人 (Baroness Rothschild)。阿尔弗雷德·科尔托在他的肖邦叙事曲版本的序言中声称，这首叙事曲的灵感来自亚当·密茨凯维奇的诗《三个兄弟》，讲述了三兄弟被父亲派去寻找宝藏，并与三个波兰人一起返回的故事。</p><p>说实在，第四叙事曲确实可以听出来艺术含金量非常高。但是我个人确实没有太听懂，应该是我的理解层面还没有达到。它与肖邦的其他叙事诗有很大的不同，这不是一个戏剧性的史诗，而是一个抒情的故事（这不废话，事实上，2-4 号叙事曲都可以是这个风格）。在整部作品中，作曲家完全没有使用情感的对比，只有一些抒情色彩相近、音调完全不同的音乐形象相互交替，只有在结尾才出现肖邦大型作品中独有的悲壮、激情、慷慨的形象。</p><p>一般在中文互联网认为，这是肖邦对晚年生活的独白。这自然是无从考证的东西。不过从这首曲子的风格以及结构分析来说，确实自洽。咋听下来，曲子的前半段保持着另类的平静，但是结合肖邦中晚年（他没有生理意义的中晚年，因为他 39 岁就去世了。）的情况来看，这所谓的百般宁静，又何尝不是变着花子诉说着自己「成熟」的痛苦呢？宁静之下，潜藏着痛苦和不太容易被听出来的不甘和呐喊。时不时地和的力度变化，将这种不甘和呐喊，仿佛要把这种情绪推向高潮，却又不太坚决。与众不同的是，这首曲子主旋律的再现部的前面的一小段是一段凄凉的高音独奏，这和以往的风格截然不同。最后的高潮一波接着一波，但是最后的部分居然是休息了一小会才到来，很像是一种感觉，那就是呐喊声充满了无力感——也许是我自作多情了，肖邦似乎是比较怕让别人猜到他真正的想法的。</p><p>网络上的评价，我觉得也很有道理：</p><blockquote><p>这首叙事曲是肖邦晚期心情的自我抒发，没有较为具体的标题性。在结构上采用了奏鸣曲式与变奏相结合的方法。在这里，具有忧郁和幻想气质的抒情、叙事性的主部主题通过变奏发展加强了基本感情的色彩。在第三次陈述时，性格上起了变化，变得充满了悲剧性的热情，而在再现部中最后一次陈述时，活跃而紧张的运动带来了惊惶不安的色彩。副部则用了和声变奏手法，是明朗、柔和的抒情主题获得了色彩的变化。</p></blockquote><h2 id="Concerto-协奏曲"><a href="#Concerto-协奏曲" class="headerlink" title="Concerto&#x2F;协奏曲"></a>Concerto&#x2F;协奏曲</h2><h3 id="Concerto-Mo-1"><a href="#Concerto-Mo-1" class="headerlink" title="Concerto Mo.1"></a>Concerto Mo.1</h3><div style="position: relative; width: 100%; height: 0; padding-bottom: 56.3%; margin: 20px 0"><iframe loading="lazy" style="position: absolute; width: 100%; height: 100%; left: 0; top: 0;" src="https://www.youtube-nocookie.com/embed/gV_x_QY1P5c?si=fMIAGP6O8Ib9S9s3" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe></div><p>演奏者：Martha Argerich 玛莎·阿格里奇</p><p>e 小调第一钢琴协奏曲，作品第 11 号。它是弗雷德里克·肖邦于 1830 年创作的，当时他 20 岁。该曲于当年 10 月 12 日在波兰华沙的 Teatr Narodowy（国家剧院）首演，作曲家在他离开波兰之前的一场「告别」音乐会上担任独奏家。这首钢琴协奏曲是献给钢琴家兼作曲家弗里德里希·卡尔克布伦纳的。1830 年 10 月 12 日的首映「取得了成功……座无虚席」。七周后，波兰政变爆发后，肖邦在巴黎的普莱耶尔音乐厅首次在法国演奏了他的协奏曲，同样好评如潮。</p><p>该协奏曲由三个乐章组成，是该时期典型的器乐协奏曲：</p><ol><li>Allegro maestoso (E minor) &#x2F;庄严的快板</li><li>Romanze – Larghetto (E major) &#x2F;浪漫曲 - 甚缓板</li><li>Rondo – Vivace (E major) &#x2F;回旋曲 - 活泼地</li></ol><p>第一乐章有三个主题，由乐团引入。然后钢琴演奏第一主题（第 139 小节），然后是抒情的第二主题（第 155 小节）。第一主题与结尾交相呼应，是那个年代很正常的起手式。</p><p>抒情的第二主题，缓缓由钢琴演绎出来，是整个第一乐章最为触动我的部分…闭上双眼聆听，19 世纪欧洲广袤的肥沃土地，一直延伸到今天波兰所在的华沙，那片肥沃的土地上，曾经有过多少的浪漫故事，有过多少的爱情，有过多少的悲欢离合。</p><p>第三主题为E大调，由管弦乐队引入并由钢琴接管（第222小节）。发展从第 385 小节开始，钢琴演奏第二主题；然后管弦乐队发展第一个主题。这个过程存在着钢琴的华彩段，但是这个华彩段中，听着并不是一般华彩段那种辉煌的感觉，利落的跑动和交响乐一唱一和，让我想到了小孩子在广袤的土地上，奔跑，嬉戏，打闹….这也许并不很贴近时代背景。</p><p>开头的重演再次从第 486 小节开始，管弦乐队演奏了开场主题。第三个 E 大调主题回来了（第573小节），但最终，尾声又回到E小调，乐章以钢琴部分结束，随后是突然的强音E末尾的小和弦。我不喜欢这个小和旋，看起来收尾的有点突兀。</p><p>随后我们进入优美的第二乐章。这是本协奏曲中，最像诗歌的地方。引用肖邦曾经说过的话：</p><blockquote><p>Chopin wrote in the same letter to Tytus, saying, “It is not meant to create a powerful effect; it is rather a Romance, calm and melancholy, giving the impression of someone looking gently towards a spot that calls to mind a thousand happy memories. It is a kind of reverie in the moonlight on a beautiful spring evening.”</p></blockquote><p>肖邦在给泰图斯的同一封信中写道：「这并不是为了创造一种强大的效果；而是一种浪漫，平静而忧郁，给人的印象是一个人轻轻地看着一个地方，唤起我一千个幸福的回忆。这是一种美丽的春夜月光下的遐想。」</p><p>首先也是乐器起手，之后钢琴为主演奏主题。主题婉转，优美，并且非常意外地通俗易懂。听起来像是一段平静的诉说。</p><p>之后伴随着器乐进入第二主题，听起来像是在自问自答。随后我们进入了一段低音和管弦乐互相演奏的阶段，这个过程中有伴随第一、第二主题的变奏，低音的演绎就像是在沉思，和乐曲清灵，婉转地部分交相辉映。随后钢琴渐渐回到高声部，这个过程中，音色渐渐消退，只留下钢琴。</p><p>随着灵动的高音自问自答式地展开，我们进入了第二乐章的「升华段」——钢琴用更多装饰音的变奏，重新演绎一开始的第一主题，这是整个乐曲中最令人感动的部分——它显得更忧郁和幻美，像是月光下的凝思，有着眼泪的迷蒙，既是心中满怀爱意的衷曲转达，又是对恋人伤感的怀想与思念。</p><p>每当我听到这个部分的时候，我就会驻足停留，并且闭上眼睛——倾听着优雅、尊贵的音律。说它是「灵魂升华」无疑是违背唯物主义的，但如果你想让唯物主义者感觉到「灵魂升华」的感觉，同时他也对这种类型的乐曲不感冒，那么「仔细聆听这一段」，毫无疑问是最接近「灵魂升华」的一次体验。</p><p>随着几声管弦乐的「蹦蹦」声，仿佛将我们从离合的思绪中拉回。我们进入了第三乐章。</p><p>勇士舞 Krakowiak 是一种快速的波兰舞，节拍是 2&#x2F;4 拍，起源于旧首都克拉科夫及小波兰省。据传，第三乐章华丽回旋曲就是以此主题的。它的主题我们一进入就能听见。当然，既然是回旋曲，我们在后面也能多次听到这段旋律。歌曲轻快明亮，是完全不同于前面两个乐章的风格，不过同样是以管弦乐与钢琴交错展开。我们可以在回旋曲的中间听到插入的一段具有浓烈波兰风格的民曲，不过这段旋律很快就过去了。</p><p>关于第三乐章，最容易产生的联想是，我们正参加 Krakowiak 波兰舞的活动之中，随着舞者开始起舞，会场顿时进入了轻快的风格。民歌的加入让整首曲子的波兰民族味道更浓厚。我们可以渐渐感受到大家越来越热情，会场的气氛越来越浓厚。此时，钢琴进入了华彩段——这是一段难度非常高，但是却能把乐曲推向高潮的琶音。经过一次休息后，钢琴在管弦乐的帮助下将氛围推向顶点，之后全曲结束。不同于第一乐章结束的仓促，第三乐章的结束会有一种欢畅淋漓的感觉。</p><p>纵观全曲，三个乐章的风格完全不一样，但是都是波兰民族的各个部分，我甚至完全不介意称之为波兰民族音乐版本的百科全书——肖邦的民族性跃然纸上。在那个波兰仍处于沙皇俄国压迫的阶段，这样的音乐家创作的曲子，更显得难能可贵。</p><h3 id="Concerto-No-2"><a href="#Concerto-No-2" class="headerlink" title="Concerto No.2"></a>Concerto No.2</h3><div style="position: relative; width: 100%; height: 0; padding-bottom: 56.3%; margin: 20px 0"><iframe loading="lazy" style="position: absolute; width: 100%; height: 100%; left: 0; top: 0;" src="https://www.youtube-nocookie.com/embed/B3r4EgwLqMM?si=oVCCmBNhPMauFuJo" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe></div><p>演奏者：Arthur Rubinstein 亚瑟·鲁宾斯坦</p><p>f 小调第二钢琴协奏曲，作品第 21 号。是肖邦于 1829 年秋季创作的一部钢琴协奏曲。当时他大约 20 岁。一个有趣的事实是，虽然说这是第二号协奏曲，但是它比第一部更早出版，所以给到的编号只是 No.2.</p><p>该协奏曲由三个乐章组成：</p><ol><li>Maestoso (F minor) &#x2F;雄伟地</li><li>Larghetto (A-flat major) &#x2F;甚缓板</li><li>Allegro vivace (F minor – F major) &#x2F;甚极速地</li></ol><p>实际听下来，第一乐章和这个标题有出入之处。全曲雄壮的地方似乎不多，不过也有可能是中译英的锅，这一点我没办法考证了。不过我还是去了解了下背景信息，当时肖邦正在华沙音乐学院就读。据传，写这首曲子的时候肖邦正在暗恋学声乐的女同学康斯坦茨娅 (Konstancja Gladkowska)，只是肖邦也就处于这暗恋的状态中了，也一直没敢表白。也有出处说女同学拒绝了肖邦青涩的表白。有力的证据来源于肖邦曾在一封给友人的信：「写这首舒缓的协奏曲时，我的心绪始终和她在一起。」我们也似乎可以从乐曲中婉扬的部分中对这份情感有一个初步的认识。</p><p>开头一段略微奇怪的下行旋律可能来源于肖邦的天才想法，事实上听过千篇一律的旋律后一听这首曲子便立马起了兴致，这是第一主题。交响乐发起一阵巨响（和他在第一首曲子中的手法如出一辙），伴随着小提琴的乐句，我们便进入了第二主题。交响曲和钢琴连绵起伏，交错演奏。这个技法很常见，但是也很难不让人联想到肖邦包含的爱意，同样也是连绵起伏的。</p><p>第二主题为降 A 大调，并且不时插入第一主题的旋律。此刻，管弦乐已黯然失色。华丽的钢琴独奏，展开了广阔的音响世界。这一段内钢琴的展开很多且展开变奏之华丽，技巧之深，每每听到，我想大家都会由衷的赞叹肖邦在这个方面的音乐天赋。和协奏曲第一号的第二乐章（以及待会提到的第二乐章）来说，这里优美的旋律是穿插在钢琴和管弦乐之间的，在两者结合的时候，优美程度达到最高。钢琴通过快速的音阶将管弦乐进入一个小高潮部分后，又回到刚刚描述这段的状态中。</p><p>钢琴休息片刻，便又奏出第一主题。圆号与之为伴，弦乐与它同行。再现的乐段变得简洁凝炼，并在钢琴独奏中，更多地融入了年轻作曲家对爱情的幻求。第一乐章在管弦乐队沉闷的和弦中结束。</p><p><s>第二乐章可以说一听就是专门为女朋友准备的、太明显了</s>。我一般因为不懂所以不评价管弦乐的演奏，加之在协奏曲中往往也是以钢琴为主。但是排开优美的钢琴旋律，木管乐在这个乐章的表演同样超神——事实上，在第一协奏曲的第二乐章就已经初见端倪。但是开头，木管乐和弦乐的交相呼应仍然是我印象最深的片段之一，好似两种乐器在悄悄对话。钢琴在第二主题有一段从低音向上的旋律同样也是我最深刻的记忆，一如渐渐燃起了热情的火苗，它在颤音上跳动，在和弦中飘曳；乐曲的最后，由弦乐与木管的呢哺絮语中，钢琴从低音开始，几个音符攀援到稳定的降A主音上。第二乐章只要能梳理出几个旋律其实非常好懂，很多内容也和第一协奏曲的第二乐章比较相似，这里就不再展开。</p><p>第三乐章虽然不直接叫「回旋曲」，但确实一开始演奏就有回旋式的风格。不过一般认为它其实是波兰的玛祖卡。一开始首先从第二乐章的意犹未尽，钢琴轻轻、稍慢地地开始第一主题。不过轻快的风格已经十分明显了。在弦乐顿足般的同音反复节奏型中，钢琴粗犷地奏出第二主题，随后过渡到活跃的音阶和音调中，把人们带到火热的马祖卡舞蹈的行列里。宏大的管弦乐队要然而止。乐曲中的圆号是点睛之笔，它的演奏更像是呼唤，换来钢琴的回应。</p><p>就这样，钢琴和交响乐交替演奏，一直到钢琴一阵颤音后的华丽主题演奏后消退。之后回到第一乐章，开始回旋重复刚刚的过程。过了一阵，协奏曲在马祖卡舞曲所独有的三连音节奏型的持续涌进中，终于在向上的旋律中，冲出来转变为了 F 大调。最后，钢琴华丽的琶音配合乐队的激情和弦伴奏，给人们留下灿烂的光辉。在短暂的休息后，钢琴小爆发，使全曲在欢腾火热的气氛中结束。</p><p>第二首协奏曲给我的印象，其实没有第一首那么印象深刻。主要是因为第一首曲子描绘的内容确实很「大」。第二首曲子更多地参杂了肖邦个人的生活和想法，相对来说并没有那么写实。这一点和他的几首叙事曲的区别也比较像。不过我认为这恰恰是肖邦的一体两面，一面的他是民族性的，作为爱国音乐诗人，他写的曲子时不时反应历史背景和波兰精神，具备浓厚的民族味道。另一面是浪漫，他个人极强的音乐天赋和个人生活对于爱情的描写和向往，也有一部分是音乐家独特的浪漫天赋。两首协奏曲对这些内容表现的淋漓尽致。</p><h2 id="Sonata-奏鸣曲"><a href="#Sonata-奏鸣曲" class="headerlink" title="Sonata&#x2F;奏鸣曲"></a>Sonata&#x2F;奏鸣曲</h2><h3 id="Sonata-No-2"><a href="#Sonata-No-2" class="headerlink" title="Sonata No.2"></a>Sonata No.2</h3><div style="position: relative; width: 100%; height: 0; padding-bottom: 56.3%; margin: 20px 0"><iframe loading="lazy" style="position: absolute; width: 100%; height: 100%; left: 0; top: 0;" src="https://www.youtube-nocookie.com/embed/DhB59YCvxuw?si=pvb6De5W-1lnKTS0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe></div><p>演奏者：Krystian Zimerman 克里斯蒂安·齐默尔曼</p><h3 id="Sonata-No-3"><a href="#Sonata-No-3" class="headerlink" title="Sonata No.3"></a>Sonata No.3</h3><div style="position: relative; width: 100%; height: 0; padding-bottom: 56.3%; margin: 20px 0"><iframe loading="lazy" style="position: absolute; width: 100%; height: 100%; left: 0; top: 0;" src="https://www.youtube-nocookie.com/embed/qbd9-hYXK9M?si=cEfLmBcJtRNCt4NC" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe></div><p>演奏者：Krystian Zimerman 克里斯蒂安·齐默尔曼</p><h2 id="Etude-Op-10-练习曲作品之10"><a href="#Etude-Op-10-练习曲作品之10" class="headerlink" title="Etude Op.10&#x2F;练习曲作品之10"></a>Etude Op.10&#x2F;练习曲作品之10</h2><p>接下来会逐步开始介绍肖邦的练习曲。Youtube 能找到的演奏家，并且满足高播放的，我这里选取了 Rousseau，Kassia，还有瓦姐的。首先我还是最推荐瓦姐的版本，但是瓦姐的版本是 15 年前的了，无论是画质还是音效都不如现在。另外两个我更喜欢 Kassia，不过 Youtube 似乎还是 Rousseau 的粉丝更多些。</p><p>近些年来 Rousseau 这样的结合钢琴特点，演奏的可视化在 Youtube 这类的视频网站上多了很多，也不乏 Kassia 这样一看上去就知道实力强劲的选手，我本人非常喜欢这种模式。这样观众对于这首曲子如何演绎，有了更为直观的感受。</p><p>练习曲分为 Op.10 和 Op.25 这两部作品。这是业余选手能接触到的较为顶层的作品——中国大陆的钢琴考级，九级&#x2F;十级几乎都会选取肖邦的练习曲作为考级曲目，这正好说明了十级选手对于肖邦练习曲的掌握是有一定要求的，部分简单的曲目得信手捏来。不同于叙事曲、协奏曲的抽象，练习曲是很多练琴者真真切切遇到的困难。笔者有幸练过其中的几首作品，在叙述的时候会顺带讲解自己对于其中一些作品练习的看法。</p><p>按照难度，一般认为肖邦练习曲和车尔尼 740 练习曲的难度相当，实际上略微被认可的细分应该是 740 低速 &lt; 肖邦练习曲 &lt; 740 原速；实际上，740 一共有五十首，且部分曲目难度也非常大，而且在技巧性上更甚肖邦练习曲一筹，例如第 35 首，在肖邦练习曲中很难找到类似的练习类型。还有三度这种不常见的、难度大的技巧，虽然说肖邦练习曲也有涉及，但是难度明显不如 740. 在一些地方，比如激流和冬风练习曲，难度一般认为还是大于 740 中跑动的部分。</p><p>除了笔者选取的作者之外，在互联网上完全可以找到更为精彩的演绎。可视化也许也能给正在练习这些曲目的同学更多的一些帮助（笔者曾经通过 Rousseau 的月光三，学了一处指法）。</p><h3 id="No-3-Tristesse-离别"><a href="#No-3-Tristesse-离别" class="headerlink" title="No.3 Tristesse&#x2F;离别"></a>No.3 Tristesse&#x2F;离别</h3><div style="position: relative; width: 100%; height: 0; padding-bottom: 56.3%; margin: 20px 0"><iframe loading="lazy" style="position: absolute; width: 100%; height: 100%; left: 0; top: 0;" src="https://www.youtube-nocookie.com/embed/bzBH9Nm1BP8?si=gBVBxx3snpqHK4Ix" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe></div><p>演奏者：Rousseau</p><h3 id="No-4-Torrent-激流"><a href="#No-4-Torrent-激流" class="headerlink" title="No.4 Torrent&#x2F;激流"></a>No.4 Torrent&#x2F;激流</h3><div style="position: relative; width: 100%; height: 0; padding-bottom: 56.3%; margin: 20px 0"><iframe loading="lazy" style="position: absolute; width: 100%; height: 100%; left: 0; top: 0;" src="https://www.youtube-nocookie.com/embed/oHiU-u2ddJ4?si=g0hOf_-HTnrQSGd5" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe></div><p>演奏者：Rousseau</p><h3 id="No-5-Black-Keys-黑键"><a href="#No-5-Black-Keys-黑键" class="headerlink" title="No.5 Black Keys&#x2F;黑键"></a>No.5 Black Keys&#x2F;黑键</h3><div style="position: relative; width: 100%; height: 0; padding-bottom: 56.3%; margin: 20px 0"><iframe loading="lazy" style="position: absolute; width: 100%; height: 100%; left: 0; top: 0;" src="https://www.youtube-nocookie.com/embed/8tcnuRsfgUQ?si=7qajTsmjFytb5qdN" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe></div><p>演奏者：Rousseau</p><h3 id="No-8-Sunshine-阳光、滑翔机"><a href="#No-8-Sunshine-阳光、滑翔机" class="headerlink" title="No.8 Sunshine&#x2F;阳光、滑翔机"></a>No.8 Sunshine&#x2F;阳光、滑翔机</h3><div style="position: relative; width: 100%; height: 0; padding-bottom: 56.3%; margin: 20px 0"><iframe loading="lazy" style="position: absolute; width: 100%; height: 100%; left: 0; top: 0;" src="https://www.youtube-nocookie.com/embed/43mvd1lKd3k?si=0NPmespokGxeQgnR" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe></div><p>演奏者：Valentina Lisitsa 瓦伦廷娜·李斯特莎</p><h3 id="No-12-Revolutionary-革命"><a href="#No-12-Revolutionary-革命" class="headerlink" title="No.12 Revolutionary&#x2F;革命"></a>No.12 Revolutionary&#x2F;革命</h3><div style="position: relative; width: 100%; height: 0; padding-bottom: 56.3%; margin: 20px 0"><iframe loading="lazy" style="position: absolute; width: 100%; height: 100%; left: 0; top: 0;" src="https://www.youtube-nocookie.com/embed/g1uLrHq9TDg?si=eAFDZ-yRRcMsq_3o" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe></div><p>演奏者：Rousseau</p><h2 id="Etude-Op-25-练习曲作品之25"><a href="#Etude-Op-25-练习曲作品之25" class="headerlink" title="Etude Op.25&#x2F;练习曲作品之25"></a>Etude Op.25&#x2F;练习曲作品之25</h2><h3 id="No-1-Aeolian-Harp-风弦琴"><a href="#No-1-Aeolian-Harp-风弦琴" class="headerlink" title="No.1 Aeolian Harp&#x2F;风弦琴"></a>No.1 Aeolian Harp&#x2F;风弦琴</h3><div style="position: relative; width: 100%; height: 0; padding-bottom: 56.3%; margin: 20px 0"><iframe loading="lazy" style="position: absolute; width: 100%; height: 100%; left: 0; top: 0;" src="https://www.youtube-nocookie.com/embed/7MxFWmr8Wck?si=VPv03Uw8tq0lqzXu" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe></div><p>演奏者：Kassia</p><p>Op25 第 1 首《降 A 大调练习曲》，它同时有一个别的称号：《牧羊人的笛子》。这是因为肖邦自己对这首曲子的解释：『牧童因暴风雨来临，避难于安全的洞穴。远处风雨大作，牧童却若无其事地取出笛子，吹出风雅的旋律。』。最像诗的练习曲之一。</p><p>这首曲子主要的难点是大量的快速琶音和和弦。最为完美的演绎，应该是在比较清晰的弹出这些快速琶音和和弦的同时，将位于右手每组 16 分音符的第一个音和左手的根音组成的「旋律」也能较为清楚的演奏出来。</p><h3 id="No-2-The-Bees-蜜蜂"><a href="#No-2-The-Bees-蜜蜂" class="headerlink" title="No.2 The Bees&#x2F;蜜蜂"></a>No.2 The Bees&#x2F;蜜蜂</h3><div style="position: relative; width: 100%; height: 0; padding-bottom: 56.3%; margin: 20px 0"><iframe loading="lazy" style="position: absolute; width: 100%; height: 100%; left: 0; top: 0;" src="https://www.youtube-nocookie.com/embed/-o2lYktVy3I?si=OmlmVPQkZ1IGtOVr" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe></div><p>演奏者：Valentina Lisitsa 瓦伦廷娜·李斯特莎</p><p>Op25 第 2 首《f 小调练习曲》。不多说，选择它的原因也是因为这首曲子是 10 级的考级曲目，为了情怀选择的曲子。想必一直以来它都是各路琴童的噩梦之一。但是在肖邦练习曲中，这真是最简单的一首曲子了。</p><p>德国作曲家舒曼曾经评论它说:「它是那样美妙动人，充满幻想和静谧，宛如孩子梦中的歌声」。</p><h3 id="No-5-Wrong-Note-错音"><a href="#No-5-Wrong-Note-错音" class="headerlink" title="No.5 Wrong Note&#x2F;错音"></a>No.5 Wrong Note&#x2F;错音</h3><div style="position: relative; width: 100%; height: 0; padding-bottom: 56.3%; margin: 20px 0"><iframe loading="lazy" style="position: absolute; width: 100%; height: 100%; left: 0; top: 0;" src="https://www.youtube-nocookie.com/embed/koPbc8F7u1s?si=8J29RvHOzzzaIF-b" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe></div><p>演奏者：Kassia</p><p>Op25 第 5 首《e 小调练习曲》，错音练习曲，他的难点主要是在于对谱子。所谓错音练习曲，只是旋律写的像错音罢了，并不意味着将它弹错也是没有问题的。而这么做，无疑会增加识谱难度。在我们没有反复聆听他的情况下，咱们要想通过音色来进行识别是特别难的。因此，这周曲子强烈建议听熟练之后再去弹。</p><p>这周曲子也仅有第一主题才听起来像错音，第二主题可以说，反而像一个很优美的篇章——实际上，第一主题恰恰是第二主题的「错音版本」。所以在这首曲目中，咱们就也不用想太多，直接当成两个单独不同的旋律，这样子才不会弹岔。</p><p>除此之外，这周曲子既然是错音练习曲，肖邦也用了许多不和谐的黑键来进一步放大错音的不和谐感，因此本曲目也是训练黑键的一首不错的练习。</p><h3 id="No-6-Thirds-三度"><a href="#No-6-Thirds-三度" class="headerlink" title="No.6 Thirds&#x2F;三度"></a>No.6 Thirds&#x2F;三度</h3><div style="position: relative; width: 100%; height: 0; padding-bottom: 56.3%; margin: 20px 0"><iframe loading="lazy" style="position: absolute; width: 100%; height: 100%; left: 0; top: 0;" src="https://www.youtube-nocookie.com/embed/cpgjTR6p6oA?si=0MXK93Iwq0k8qtJm" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe></div><p>演奏者：Valentina Lisitsa 瓦伦廷娜·李斯特莎</p><p>Op25 第 6 首《升 g 小调练习曲》，三度练习曲，写的非常具备有东欧味道的练习曲。整首曲子不长，但是难度却一般被认为是肖邦练习曲中最难的几首曲子之一。在我看来，三度这周曲子，难点就是在反人类的「三度音」上，而这首曲子的完成度，也和三度音直接相关。顺便一提，740 中的三度练习曲，是比肖邦的更加难的。所以我们完全可以看到肖邦确实留下了不少「情面」。不过，将三度发扬光大的，毫无疑问是我们的李斯特同学，如果我还有精力能出李斯特的合集，那么对于老李的三度音我可要好好鉴赏一番。</p><p>关于这首练习曲，有这样一个传闻：据说肖邦在写作它的时候，心里想象着一个波兰流亡者在雪撬银铃声中，沿着茫茫无尽头的冰雪小道，流放到远方去的情景，这个传闻不一定可靠，但乐曲中那连续不断的三度和弦，确实很像雪撬前进时送来的铃声。我一直觉得特别多的人只关注这首曲子的难度，却忽略了这首曲子的音乐性。正相反，这首曲子的音乐性将一种寂静的感觉（实际上肖邦用了不少音符做到这一点），表现得恰当好处。</p><h3 id="No-9-Butterfly-蝴蝶"><a href="#No-9-Butterfly-蝴蝶" class="headerlink" title="No.9 Butterfly&#x2F;蝴蝶"></a>No.9 Butterfly&#x2F;蝴蝶</h3><div style="position: relative; width: 100%; height: 0; padding-bottom: 56.3%; margin: 20px 0"><iframe loading="lazy" style="position: absolute; width: 100%; height: 100%; left: 0; top: 0;" src="https://www.youtube-nocookie.com/embed/WZYHvEF84NQ?si=KLkIvcpLW5V4yfG3" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe></div><p>演奏者：Rousseau</p><p>Op25 第 9 首《降 G 大调前奏曲》，蝴蝶练习曲，旋律非常轻巧的一手练习曲，旋律好听。通俗易懂。就是弹好这首曲子不容易。因为确实没有怎么接触过所以不过多评价。主要的难点在于右手的六度音（确实不太了解，但六度音相当的不好弹，比三度音更难弹）。左手的旋律也不轻松。</p><h3 id="No-11-Winter-Wind-冬风"><a href="#No-11-Winter-Wind-冬风" class="headerlink" title="No.11 Winter Wind&#x2F;冬风"></a>No.11 Winter Wind&#x2F;冬风</h3><div style="position: relative; width: 100%; height: 0; padding-bottom: 56.3%; margin: 20px 0"><iframe loading="lazy" style="position: absolute; width: 100%; height: 100%; left: 0; top: 0;" src="https://www.youtube-nocookie.com/embed/60Upg8Hz0rI?si=HjbZr0-io_v2_PPT" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe></div><p>演奏者：Kassia</p><p>Op25 第 11 首《a 小调练习曲》，冬风练习曲。这位更是同激流一般的高难度曲目，也是在各大主流平台「非常出圈」的一首曲目。相当多的人接触肖邦练习曲就是因为这首曲子，也因此建立了对于肖邦的恐惧233… 不过根据之前的分析也应该非常清楚了，那就是所谓的肖邦练习曲，冬风在里面实际上也是最难的几首曲目之一了。</p><p>这首曲子有一个非常缓和的开头，简单的简直让人觉得是弹错了。在一阵宁静后，伴随着右手快速的跑动音，冬风就来临了，肖邦是通过一种特定的练习音型来来表现这一点。冬风之所以能够出圈也跟这段的反差有着非常密切的关系。随后，在第一主题被反复的用多个不同的调子跑动完成之后，本来我们想舒一口气，未曾想过第二主题丝毫没有倦怠——正如冬风也是凛冽的，一阵高过一阵。第二主题像是一首革命进行曲，将肖邦的革命性展现的淋漓尽致。从这个角度上来说，《冬风练习曲》同样也将革命意识和反抗压迫的心愿，一如既往的表现出来。整首曲子是用一段快速跑动的音阶进行收尾，和另外一首有着类似意境的曲目《追雪》（李斯特的超技练习曲）有着截然不同的处理。追雪是寒风慢慢的减弱，冬风则有点戛然而止的味道，因此在意境的表现上我会投《追雪》一票。但即便是有点小瑕疵，也不影响这首曲子同样有着极高的音乐性。</p><p>彪罗对此曲评价：「在你能想象的范围内展现着最丰富的音。」</p><h3 id="No-12-Ocean-大海"><a href="#No-12-Ocean-大海" class="headerlink" title="No.12 Ocean&#x2F;大海"></a>No.12 Ocean&#x2F;大海</h3><div style="position: relative; width: 100%; height: 0; padding-bottom: 56.3%; margin: 20px 0"><iframe loading="lazy" style="position: absolute; width: 100%; height: 100%; left: 0; top: 0;" src="https://www.youtube-nocookie.com/embed/7EBRJbGYfSg?si=qk5mFr7hSluKzVyI" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe></div><p>演奏者：Kassia</p><p>Op25 第 12 首《c 小调练习曲》，大海练习曲。这首曲子肖邦作于 1831 年，正值「华沙起义」失败之时，据说肖邦是因为听到革命失败的时候所作的曲子。这首曲子和《冬风》差不多同一时间创立，具备极高的革命性质。这首练习曲听起来是一首爱国主义的音诗，肖邦在这里叙述了他的爱国主义激情。在川流不息的分解和弦和短小、坚毅、果断的插句里，都使人感到一股不可抗衡的巨大力量。</p><p>未完待续…</p><p>为了性能的保证，只能分级出个下集，下集主要写一些零散的篇章，夜曲，圆舞曲，玛祖卡，谐谑曲等内容。其中的很大一部分展示了肖邦浪漫的一面。</p><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p>维基百科：肖邦叙事曲 <a href="https://zh.wikipedia.org/wiki/%E5%8F%99%E4%BA%8B%E6%9B%B2_(%E8%82%96%E9%82%A6)">https://zh.wikipedia.org/wiki/%E5%8F%99%E4%BA%8B%E6%9B%B2_(%E8%82%96%E9%82%A6)</a></p>]]></content>
      
      
      <categories>
          
          <category> 音乐鉴赏 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Music </tag>
            
            <tag> Chopin </tag>
            
            <tag> 肖邦 </tag>
            
            <tag> 音乐 </tag>
            
            <tag> 近代浪漫派 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JSON 转换为 TypeScript 接口</title>
      <link href="/2024/05/04/convert-json2interface/"/>
      <url>/2024/05/04/convert-json2interface/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><textarea style="width: 100%; height: 400px; background: rgba(255, 255, 255, 0.3); border-radius: 5px; padding: 8px;" id="textSrc">{  "url": "https://blog.pengdonglai.com/",  "posts": [    { "title": "日记", "date": "2016.06.08" },    { "title": "随笔", "date": "2016.06.09" }  ],  "last-update": 1465388410306}</textarea><p><button id="btnConvert" class="btn btn-small">点我转换</button></p><textarea style="width: 100%; height: 400px; background: rgba(255, 255, 255, 0.3); border-radius: 5px; padding: 8px;" id="textOut" rows="20" readonly></textarea><h3 id="感谢"><a href="#感谢" class="headerlink" title="感谢"></a>感谢</h3><p>代码 forked from <a href="https://static.jixun.moe/json2tsinterface.html">https://static.jixun.moe/json2tsinterface.html</a>，我做了一些改良。</p><p>有了这个工具之后<s>摸鱼</s>的效率明显高了许多。</p><script>(function ($) {  function toInterface (variable) {    var interfaceNames = ['IUnknown'];    var extra_interface = '';    function getVariableType (variable, name) {      if (variable === undefined) {        return 'void /* undefined */';      }      var type = typeof variable;      if (type == 'object') {        if (!variable)          return 'void /* 未知类型 */';        if (name.slice(-2) == 'es') {          name = name.slice(0, -2);        } else if (name.slice(-1) == 's') {          name = name.slice(0, -1);        }        if (variable.constructor.name == 'Array') {          return getVariableType(variable[0], name) + '[]';        }        if (name) {          name = name[0].toUpperCase() + name.slice(1);        } else {          name = 'Unknown';        }        var ifName = 'I' + name;        if (interfaceNames.indexOf(ifName) != -1) {          var i = 1;          while (interfaceNames.indexOf(ifName + '_' + i) != -1) {            i++;          }          ifName = ifName + '_' + i;        }        interfaceNames.push(ifName);        var extra = generateInterface(ifName, variable, '');        extra_interface = extra + extra_interface;        return ifName;      }      return type;    }    function formatKey (key) {      if (!/^[a-z][a-z\d]*$/i.test(key))        return JSON.stringify(key);      return key;    }    function generateInterface (pref_name, variable, indent) {      var r = '\n' + indent + 'interface ' + pref_name + ' {\n';      var sub_indent = '\t' + indent;      r += Object.keys(variable).map(function(k){        return sub_indent + formatKey(k) + ': ' + getVariableType(variable[k], k);      }).join(';\n') + ';\n';      r += indent + '}\n\n';      return r;    }    var interface = generateInterface('IUnknown', variable, '');    return (interface + '\n/* 自动生成的 Interface */\n' + extra_interface).trim();  };  var $src = $('textSrc'),    $out = $('textOut');  function procClick () {    try {      var data = JSON.parse($src.value);      $out.value = toInterface(data);    } catch (err) {      $out.value = err;    }  }  $('btnConvert').onclick = procClick;  procClick();})(document.getElementById.bind(document));</script>]]></content>
      
      
      <categories>
          
          <category> 开箱即用 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JSON </tag>
            
            <tag> interface </tag>
            
            <tag> Typescript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>图床数据库插入 SQL 生成</title>
      <link href="/2024/05/04/generate-img-insert-sql/"/>
      <url>/2024/05/04/generate-img-insert-sql/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><style>.dragover-area {  border: 1px dashed #7f7f7f;  border-radius: 8px;  margin-top: 20px;  margin-bottom: 20px;}.dragover-area-inner {  margin-top: 2.5rem;  margin-bottom: 2.5rem;  display: flex;  flex-direction: column;  align-items: center;  justify-content: center;}</style><p>假设你有一些存储在对象存储上的图片，现在想要将这些图片的 URL 存入到数据库中。只需要将图片在本地的那一份拖入并添加，在下面填写好被插入的表名和对象存储的 URL，就可以生成 SQL 语句了。</p><div class="mt-3 mb-3 dragover-area" id="dropzone" ondrop="drop(event)" ondragover="allowDrop(event)">  <div class="dragover-area-inner">    <p>拖放图片到此处来添加</p>    <div class="d-grid mx-auto d-sm-block gap-3">      <button type="button" class="btn btn-small" onclick="clearFiles()">清空图片</button>    </div>  </div></div><p>已添加的图片数：<span id="addedPicsCount">0</span></p><label class="switch">  <input type="checkbox" id="isReconstructTable">  <span>删除并重建表格</span></label><p>开：生成的 SQL 会删除 (Drop) 并重建 (Create) 表格，然后插入 (Insert) 图片数据。也就是说，表格中的所有旧数据都会被删除。适合初次使用或者想要清空表格的情况。</p><p>关：生成的 SQL 只会插入 (Insert) 图片数据。也就是说，表格中的所有旧数据都会被保留。适合已经有数据，只想追加图片的情况。</p><p>被插入的表名（比如 tableName）：<br><input type="text" class="form-control form-control-lg" id="tableName"></p><p>对象存储的根 UR（<a href="https://aaa.xxx.com/">https://aaa.xxx.com</a>）：<br><input type="text" class="form-control form-control-lg" id="baseUrl"></p><p><button type="button" class="btn btn-small btn-lg mb-3" onclick="generateSQL()">生成并下载 SQL</button></p><p>建议：使用 id 索引进行查询优化，这样子可以极大的节省查询的行数。毕竟一个表成千上万，Cloudflare 5M 的查询消耗会比想象中要快得多。</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">INDEX</span> <span class="token identifier"><span class="token punctuation">`</span>[tableName]-id<span class="token punctuation">`</span></span> <span class="token keyword">ON</span> <span class="token identifier"><span class="token punctuation">`</span>[tableName]<span class="token punctuation">`</span></span> <span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><script>let addedImages = [];const addedPicsCountControl = document.getElementById("addedPicsCount");const tableNameControl = document.getElementById("tableName");const baseUrlControl = document.getElementById("baseUrl");const isReconstructTableControl = document.getElementById("isReconstructTable");function allowDrop(event) {    event.preventDefault();}function drop(event) {    event.preventDefault();    const files = event.dataTransfer.files;    if (files.length > 0) {        // 把每一张图片都添加到 addedImages 数组中        for (let i = 0; i < files.length; i++) {            if (files[i].type.startsWith("image/")) {                addedImages.push(files[i]);            }        }    }    addedPicsCountControl.textContent = addedImages.length.toString();}async function getImageDimensions(objURL) {    return new Promise((resolve) => {        var img = new Image();        img.src = URL.createObjectURL(objURL);        img.onload = function () {            var width = img.width;            var height = img.height;            resolve({ width, height });        };    });}async function generateSQL() {    let sqls = [];    const dropTableSql = `DROP TABLE IF EXISTS \`${tableNameControl.value}\`;`;    const createTableSql = `CREATE TABLE IF NOT EXISTS \`${tableNameControl.value}\` (            id INTEGER PRIMARY KEY   AUTOINCREMENT,    name VARCHAR(255),    url VARCHAR(255),    size INT,    width INT,    height INT,    ratio DECIMAL(5, 3),    landscape BOOLEAN,    near_square BOOLEAN,    big_size BOOLEAN,    small_size BOOLEAN,    mid_size BOOLEAN,    big_res BOOLEAN,    small_res BOOLEAN,    mid_res BOOLEAN,    bjn BOOLEAN);`;    if (isReconstructTableControl.checked)    {        sqls.push(dropTableSql);        sqls.push(createTableSql);    }    if (addedImages) {        for (let i = 0; i < addedImages.length; i++) {            let a = null;            try {                const dimensions = await getImageDimensions(addedImages[i]);                a = dimensions; // 此时 a 包含宽度和高度信息            } catch (error) {                console.error('Error:', error);            }            const fileName = addedImages[i].name;            const url = baseUrlControl.value + "/" + encodeURIComponent(fileName);            const fileSize = addedImages[i].size;            const width = a.width;            const height = a.height;            // 保留三位小数            const ratio = parseFloat((width / height).toFixed(3));            const landscape = width > height;            const nearSquare = ratio > 0.9090909 && ratio < 1.1;            const bigSize = fileSize > 600000;            const smallSize = fileSize < 100000;            const midSize = !bigSize && !smallSize;            // 短边大于1440            const bigRes = width > 1440 || height > 1440;            // 短边小于640            const smallRes = width < 640 || height < 640;            const midRes = !bigRes && !smallRes;            // 名字包含bjn字样            const bjn = fileName.includes("bjn");                        sqls.push(`INSERT INTO \`${tableNameControl.value}\` (name, url, size, width, height, ratio, landscape, near_square, big_size, small_size, mid_size, big_res, small_res, mid_res, bjn) VALUES ('${fileName}', '${url}', ${fileSize}, ${width}, ${height}, ${ratio}, ${landscape}, ${nearSquare}, ${bigSize}, ${smallSize}, ${midSize}, ${bigRes}, ${smallRes}, ${midRes}, ${bjn});`);        }        // 保存为 txt 文件        const sqlsText = sqls.join("\n");        const blob = new Blob([sqlsText], { type: "text/plain;charset=utf-8" });        const objectURL = URL.createObjectURL(blob);        const aTag = document.createElement("a");        aTag.href = objectURL;        aTag.download = `${tableNameControl.value}.txt`;        aTag.click();        // 释放一个之前已经存在的、通过调用 URL.createObjectURL() 创建的 URL 对象。        // 当你结束使用某个 URL 对象之后，应该通过调用这个方法来让浏览器知道不用在内存中继续保留对这个文件的引用了。        URL.revokeObjectURL(objectURL);    }    else {        alert("请先拖放一张图片，然后点击“开始”按钮。");    }}function clearFiles() {    addedImages = [];    addedPicsCountControl.textContent = "0";}</script>]]></content>
      
      
      <categories>
          
          <category> 开箱即用 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tools </tag>
            
            <tag> 数据库 </tag>
            
            <tag> 图床 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>新博客从出生到迁移的变化记录</title>
      <link href="/2024/05/01/change-log/"/>
      <url>/2024/05/01/change-log/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><blockquote><p>记忆是知识的唯一管库人。</p></blockquote><h3 id="2024-05-12"><a href="#2024-05-12" class="headerlink" title="2024-05-12"></a>2024-05-12</h3><p>将文档站添加到了博客的导航栏。并且完善了文档站的第一个 API。</p><p>开了一个新坑：《肖邦：大师之作》，准备留下我听古典的回忆。</p><h3 id="2024-05-05"><a href="#2024-05-05" class="headerlink" title="2024-05-05"></a>2024-05-05</h3><p>将工具与文章分开，并且优化类布局和展现逻辑。修改了绿色主题让它与其它颜色一致。</p><h3 id="2024-05-04"><a href="#2024-05-04" class="headerlink" title="2024-05-04"></a>2024-05-04</h3><p>发布了一个转换图片为链接插入 sql 的工具。</p><h3 id="2024-05-03"><a href="#2024-05-03" class="headerlink" title="2024-05-03"></a>2024-05-03</h3><p>个人主页 index 页正式发布，并且修复了一些 bug，主要是代码框的展开按钮的 <code>z-index</code> 居然是 999，原作者有点东西。</p><h3 id="2024-05-01"><a href="#2024-05-01" class="headerlink" title="2024-05-01"></a>2024-05-01</h3><p>发布了文章《changelog》保存的记忆，又多了一份。</p><h3 id="2024-04-30"><a href="#2024-04-30" class="headerlink" title="2024-04-30"></a>2024-04-30</h3><p>进一步优化了文章内「目录」的样式。看起来不再别扭。</p><h3 id="2024-04-29"><a href="#2024-04-29" class="headerlink" title="2024-04-29"></a>2024-04-29</h3><p>暗黑模式推倒重建，主要的目标是履行最好的实践，让背景看起来不那么黑。目前改动已上线。</p><h3 id="2024-04-27"><a href="#2024-04-27" class="headerlink" title="2024-04-27"></a>2024-04-27</h3><p>最近有大量处理图片的需求，并且对图片的原理也做了进一步的学习，所以发布了第二篇技术文章《图片压缩的不同姿势》，以总结为主。应该是市面上最全的图片压缩的总结，文章历经多次更新最终达到了万字规模。</p><h3 id="2024-04-20"><a href="#2024-04-20" class="headerlink" title="2024-04-20"></a>2024-04-20</h3><p>博客样式微调。</p><h3 id="2024-04-19"><a href="#2024-04-19" class="headerlink" title="2024-04-19"></a>2024-04-19</h3><p>博客文章图片实现懒加载，访问速度提升。</p><p>博客上线四周年，终于实现了长久以来的 breaking change 梦想！</p><h3 id="2024-04-14"><a href="#2024-04-14" class="headerlink" title="2024-04-14"></a>2024-04-14</h3><p>发布了文章《国内二次元随机图片 API》汇总，具备非常高的收藏意义。不过文章后续 API 发生了变化，维护是个大问题。</p><h3 id="2024-04-12"><a href="#2024-04-12" class="headerlink" title="2024-04-12"></a>2024-04-12</h3><p>breaking change:</p><ul><li>迁移到了 Vercel 上，并且把节点换成香港的服务器</li><li>启动 PWA 功能，缓存覆盖率提升</li><li>删除了网易云的 iframe，启用了音乐页面，使用 APlayer 播放器，并且针对博客进行了样式优化</li><li>导航栏的样式进行了优化</li><li>改进了部分 alt 文案，和文案选择的逻辑，a11y 评分提升。</li></ul><p>做完了以上，博客速度 LightHouse 评分从 81 分优化到了 90+ 分。</p><h3 id="2024-04-11"><a href="#2024-04-11" class="headerlink" title="2024-04-11"></a>2024-04-11</h3><p>breaking change:</p><ul><li>给博客添加了 CDN 访问，挂载到了 jsDelivr</li><li>所有的图片全部经历一次更新，换成了更符合 XP 和美观的，原神浓度下降。全部换成 webp 格式</li><li>图片再经历一次压缩</li><li>对所有的资源文件进行了压缩</li></ul><p>做完了以上，博客速度 LightHouse 评分从 56 分优化到了 81 分。</p><h3 id="2024-04-05"><a href="#2024-04-05" class="headerlink" title="2024-04-05"></a>2024-04-05</h3><p>尝试做了个工具，帮助记忆日语动词。但是更新了 20 个动词后就咕咕了。因为博主又病了。</p><h3 id="2024-02-09"><a href="#2024-02-09" class="headerlink" title="2024-02-09"></a>2024-02-09</h3><p>深感日语学习的语法之零碎，于是开了个新坑，发布了文章《一些较为零散的日语语法点归总》。准备后续来慢慢打理这篇文章。</p><h3 id="2024-01-11"><a href="#2024-01-11" class="headerlink" title="2024-01-11"></a>2024-01-11</h3><p>更新了博客的颜色细节。</p><h3 id="2024-01-09"><a href="#2024-01-09" class="headerlink" title="2024-01-09"></a>2024-01-09</h3><p>首次在博客更新去年一年的总结，发布了《海星来来的 2023 年总结》</p><h3 id="2023-11-19"><a href="#2023-11-19" class="headerlink" title="2023-11-19"></a>2023-11-19</h3><p>因为在公司写脚手架，所以学习了 Node.js 开发 CLI 程序，并且发布了《How to create a CLI program using Node.js》，这篇文章是博客的第一个技术文章。</p><h3 id="2023-11-11"><a href="#2023-11-11" class="headerlink" title="2023-11-11"></a>2023-11-11</h3><p>博客上线了简繁体转换的功能。</p><h3 id="2023-10-29"><a href="#2023-10-29" class="headerlink" title="2023-10-29"></a>2023-10-29</h3><p>将以前的剑桥雅思做题记录慢慢的发上来，发布了大作文心得《Task 2 理念篇》，这是以前看 Vince 大佬的视频写的笔记总结。</p><h3 id="2023-10-24"><a href="#2023-10-24" class="headerlink" title="2023-10-24"></a>2023-10-24</h3><p>发布了《部分剑桥雅思的做题记录和沉淀》2。</p><h3 id="2023-10-21"><a href="#2023-10-21" class="headerlink" title="2023-10-21"></a>2023-10-21</h3><p>上线了《通过一些句子增加雅思听力词汇》其中的 4 篇，这个系列就完结了。成为了本博客第一个被完结的系列。</p><h3 id="2023-10-19"><a href="#2023-10-19" class="headerlink" title="2023-10-19"></a>2023-10-19</h3><p>将以前的剑桥雅思做题记录慢慢的发上来，首先发布了《部分剑桥雅思的做题记录和沉淀》1。</p><h3 id="2023-10-17"><a href="#2023-10-17" class="headerlink" title="2023-10-17"></a>2023-10-17</h3><p>总结了雅思听力常考的一些偏僻听力词汇，并且组成了几百个句子，并且在博客上线了《通过一些句子增加雅思听力词汇》其中的 1-3 篇。</p><p>上线了一个文字格式化的工具，以文章的形式发布。主要用于 markdown 的校正以及中英文之间的间隔。现在已经不太更新了，好像使用确实也会有点问题。</p><h3 id="2023-10-09"><a href="#2023-10-09" class="headerlink" title="2023-10-09"></a>2023-10-09</h3><p>游戏《冒险王精灵物语》作为小时候最喜欢玩的游戏之一，在博客重新上线。</p><h3 id="2023-10-07"><a href="#2023-10-07" class="headerlink" title="2023-10-07"></a>2023-10-07</h3><p>暗黑的机制完善了，可以在 js 的层面感知到页面的暗黑变化。暗黑模式建设告一段落。</p><h3 id="2023-10-06"><a href="#2023-10-06" class="headerlink" title="2023-10-06"></a>2023-10-06</h3><p>breaking change:</p><ul><li>图片进行进一步替换</li><li>给博客上线了 live-2d 功能，并增强它的功能</li><li>更新了大量颜色细节，看起来更加协调</li><li>上线了暗黑模式，并且给暗黑模式设计了一套主题色</li><li>几个 4399 童年最喜欢玩的游戏，以文章的形式被发布</li><li>发布文章《英语听力磨耳朵》，尝试最佳的写作范式</li></ul><h3 id="2023-10-05"><a href="#2023-10-05" class="headerlink" title="2023-10-05"></a>2023-10-05</h3><p>breaking change:</p><ul><li>图片进行进一步替换</li><li>给博客上线了 404，分类，友链，标签，归档功能</li><li>从网易云拿来了个 iframe，可以在博客内播音乐</li><li>更新了大量颜色细节，看起来更加协调</li><li>主题色更新为：橙 蓝 紫 绿四种颜色，并且根据图片的色调每天做更换</li><li>在本地更新了开发、上线范式</li></ul><h3 id="2023-10-04"><a href="#2023-10-04" class="headerlink" title="2023-10-04"></a>2023-10-04</h3><p>博客的主人开始对 Matery 主题进行大幅度的自定义更新，这一天是 breaking change 的日子。</p><ul><li>将原生的图片全数替换，替换成二次元的模样</li><li>主题更新，换了个好看的，纯 css 加载的新背景</li><li>更新了大量颜色细节，看起来更加协调</li><li>花里胡哨的东西，看起来像是进了夜店的装饰，通通删掉</li><li>更新了另一种不同的主题色</li></ul><h3 id="2023-10-03"><a href="#2023-10-03" class="headerlink" title="2023-10-03"></a>2023-10-03</h3><p>选择 Matery 为 Hexo 主题，并且更新主题上线。</p><h3 id="2023-10-02"><a href="#2023-10-02" class="headerlink" title="2023-10-02"></a>2023-10-02</h3><p>博客在一夜之间从 WordPress 迁移到了 Hexo。因为 WordPress 的语言 PHP 实在是不会用。</p><h3 id="2023-10-01"><a href="#2023-10-01" class="headerlink" title="2023-10-01"></a>2023-10-01</h3><p>转眼间来到了 10 月，此时一切都已经尘埃落定。博客的主人开始对博客进行 breaking change。</p><h3 id="2023-04-19"><a href="#2023-04-19" class="headerlink" title="2023-04-19"></a>2023-04-19</h3><p>三周年，无事发生。</p><h3 id="2023-02-01"><a href="#2023-02-01" class="headerlink" title="2023-02-01"></a>2023-02-01</h3><p>博客的主人在毕设的重压下，选择不更新。</p><h3 id="2022-12-28"><a href="#2022-12-28" class="headerlink" title="2022-12-28"></a>2022-12-28</h3><p>博客的主人毕业后有了新去处，准备考虑是否要恢复博客更新。</p><h3 id="2022-04-19"><a href="#2022-04-19" class="headerlink" title="2022-04-19"></a>2022-04-19</h3><p>上线两周年，没时间打理博客。博客的主人在年初去<a href="https://www.bytedance.com/en/">字节跳动</a>搬砖了，鸽的有些顺理成章。<s>你甚至在博客里面看不到他更新面试心得。</s></p><p>此时博客还只是 WordPress 的静态博客，没有评论功能，没有搜索功能，没有归档功能，没有标签功能。甚至连样式都是最原始的。只有两篇文章。</p><h3 id="2021-12-19"><a href="#2021-12-19" class="headerlink" title="2021-12-19"></a>2021-12-19</h3><p>工信部的人不懂海祇岛怎么念，笑喷了。然后就是很疑惑为什么备案不能出现「博客」等字眼。</p><h3 id="2021-12-12"><a href="#2021-12-12" class="headerlink" title="2021-12-12"></a>2021-12-12</h3><p>给博客起名「海祇岛的珊瑚森林」，虽然原神我应该没时间玩了，但是这个昵称我仍然非常满意，会一直用下去。</p><h3 id="2021-12-10"><a href="#2021-12-10" class="headerlink" title="2021-12-10"></a>2021-12-10</h3><p>注册了域名 <a href="https://starfishdl.site/">https://starfishdl.site</a>，之后给博客添加了这个域名，并且在工信部完成备案。</p><h3 id="2021-11-10"><a href="#2021-11-10" class="headerlink" title="2021-11-10"></a>2021-11-10</h3><p>博客使用 WordPress 重新发布，并且使用 WordPress 发布了一篇现在已经找不到了的文章。</p><h3 id="2021-04-19"><a href="#2021-04-19" class="headerlink" title="2021-04-19"></a>2021-04-19</h3><p>博客上线一周年，它无事发生。主要是主人离线太久了。</p><h3 id="2020-04-19"><a href="#2020-04-19" class="headerlink" title="2020-04-19"></a>2020-04-19</h3><p>发现 GitHub Pages 这个好东西，然后博客用 GitHub Pages 发布。是为博客上线日。链接就是刚刚注册的那种，以 github.io 结尾的。</p><h3 id="2020-04-02"><a href="#2020-04-02" class="headerlink" title="2020-04-02"></a>2020-04-02</h3><p>苦修前端三件套，写好的 HTML 文件发布在 GitHub 上。</p><h3 id="2019-10-01"><a href="#2019-10-01" class="headerlink" title="2019-10-01"></a>2019-10-01</h3><p>博客正式建立，最开始是以云笔记的形式存在，当天我注册了 GitHub，想着需要在 GitHub 上也上传点东西，可是那个时候也不怎么会写代码，于是我将笔记发在了 GitHub 上。</p>]]></content>
      
      
      <categories>
          
          <category> 碎碎念 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 碎碎念 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>图片压缩的不同姿势</title>
      <link href="/2024/04/27/picture-compress-api/"/>
      <url>/2024/04/27/picture-compress-api/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="写在前面"><a href="#写在前面" class="headerlink" title="写在前面"></a>写在前面</h2><p>众所周知，前端有许多切图的需求，其中对于图片的优化与前端也息息相关。因此无论是前端工作，还是博客的运营，亦或是希望可以用更小的成本玩转图片，必定涉及大量图片操作需求。与图片打过一些交道了，自然而然就会产生一些心得。</p><p>而在这其中，图片压缩是优化的重要手段。LCP 同样作为用户感知明显的指标之一，而图片的加载直接影响 LCP。在众多的前端面试题中，我们会经常看到图片优化的手段，但是一些优化手段如懒加载，其实也会影响用户的体验。而图片压缩，只要使用无损压缩，那么用户的体验会更好，是典型的无副作用方案。本文将介绍我平时用的顺手，并且效率也相对较高的图片处理模式。</p><blockquote><p>本文仍然在施工中…只是个半成品，后续如果有更好用的方法，我会及时更新。</p></blockquote><h2 id="图片格式转换"><a href="#图片格式转换" class="headerlink" title="图片格式转换"></a>图片格式转换</h2><p>WebP 是一种现代图片格式，可为网络上的图片提供出色的无损和有损压缩。使用 WebP，网站站长和 Web 开发者可以创建更小、更丰富的图片，从而提高网页加载速度。</p><p>与 PNG 相比，WebP 无损图片的尺寸<a href="https://developers.google.com/speed/webp/docs/webp_lossless_alpha_study?hl=zh-cn#results">缩小了 26%</a>。WebP 有损图片比采用等效 <a href="https://en.wikipedia.org/wiki/Structural_similarity">SSIM</a> 质量指数的同等 JPEG 图片<a href="https://developers.google.com/speed/webp/docs/webp_study?hl=zh-cn">小 25-34%</a>。</p><p>无损 WebP 支持透明度（也称为 Alpha 通道），但只需<a href="https://developers.google.com/speed/webp/docs/webp_lossless_alpha_study?hl=zh-cn#results">额外增加 22% 的字节</a>。对于可以接受有损 RGB 压缩的情况，有损 WebP 也支持透明度，其文件大小通常比 PNG 小 3 倍。</p><p>动画 WebP 图片支持有损、无损和透明度，与 GIF 和 APNG 相比，此类图片可缩减大小。</p><p>如今都 2024 了，我们没有理由继续使用不再支持 <code>WebP</code> 格式的设备。事实上不支持的设备凤毛麟角。所以放心大胆的将图片转换为 <code>WebP</code> 吧！除了 Python 提供类似于 image 这样的库之外，还有一些工具可以帮助我们完成图片格式的转换。</p><p>以下为 Python 提供的能力，可谓是门槛最低的方法了：</p><ul><li>使用 cv2 库将图片从 png 格式转换为 webp 格式</li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> cv2<span class="token comment"># 读入 PNG 格式的图片</span>img <span class="token operator">=</span> cv2<span class="token punctuation">.</span>imread<span class="token punctuation">(</span><span class="token string">'input.png'</span><span class="token punctuation">)</span><span class="token comment"># 转换为 WebP 格式的图片，并保存</span>cv2<span class="token punctuation">.</span>imwrite<span class="token punctuation">(</span><span class="token string">'output.webp'</span><span class="token punctuation">,</span> img<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">(</span>cv2<span class="token punctuation">.</span>IMWRITE_JPEG_QUALITY<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>使用 PIL 库将图片从 webp 格式转换为 png 格式</li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> PIL <span class="token keyword">import</span> Imageimg <span class="token operator">=</span> Image<span class="token punctuation">.</span><span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'input.webp'</span><span class="token punctuation">)</span>img<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token punctuation">)</span>img<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token string">'output.png'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="集成到系统原生"><a href="#集成到系统原生" class="headerlink" title="集成到系统原生"></a>集成到系统原生</h3><p><a href="https://developers.google.com/speed/webp/docs/precompiled?hl=zh-cn">https://developers.google.com/speed/webp/docs/precompiled?hl=zh-cn</a></p><p>考虑到 WebP 是由 Google 发起的，我们可以方便的使用 Google Developer 提供的建议。我们甚至可以将 WebP 格式转换的能力内置进入系统，像 node 一样使用。如果我们这么做了，可能第一次操作的时候需要摸索，但是一旦习惯了，以后我们可以方便的使用命令行文件进行处理。</p><p>笔者使用的是 MacOS 系统，因此会比较详细的列举 Mac 的使用方法。或许我们日后可以使用类似的方法在 Linux 上使用它。Windows 系统的话，<s>先咕了，去官网应该能看懂怎么下载。</s></p><ol><li>使用 homebrew 安装 webp。<code>brew install webp</code>. 请先确保你的 brew 可用，然后再进行安装。</li></ol><p>homebrew 链接：<a href="https://formulae.brew.sh/formula/webp">https://formulae.brew.sh/formula/webp</a></p><p>以上过程会将整个 webp 的转换工具都安装到你的系统中，如果你的系统已经安装了 webp，那么可以使用 <code>brew info webp</code> 查看<s>实际上也就是把 homebrew 的官网文字给你输出了一遍而已</s>。</p><p>它包括了：<code>cwebp</code> <code>dwebp</code>(将图片转换为原来的格式) <code>img2webp</code> 等工具。这里我们先使用 <code>cwebp</code> 举例子，进行转换。</p><ol start="2"><li>压缩为 WebP 无损压缩，需要保证 input.png 在当前目录下。</li></ol><p>我们使用 <code>cwebp</code> 工具中的“无损”选项将 PNG 转换为 WebP 无损格式。要获得最少的输出，所使用的确切命令行如下所示：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">cwebp input.png <span class="token parameter variable">-lossless</span> <span class="token parameter variable">-m</span> <span class="token number">6</span> <span class="token parameter variable">-q</span> <span class="token number">100</span> <span class="token parameter variable">-o</span> webp_lossless.webp<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="3"><li>压缩为 WebP 有损压缩（使用 alpha 通道）</li></ol><p>我们使用 <code>cwebp</code> 工具将 PNG 转换为 WebP 有损（带有 alpha 通道）。我们选择的 WebP 质量为 90（有损压缩），alpha 质量为 100（无损压缩）。使用的确切命令行如下所示：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">cwebp input.png <span class="token parameter variable">-q</span> <span class="token number">90</span> <span class="token parameter variable">-alpha_q</span> <span class="token number">100</span> <span class="token parameter variable">-m</span> <span class="token number">6</span> <span class="token parameter variable">-o</span> webp_alpha.webp<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>关于 <code>cwebp</code> 的文档，可以查看：<a href="https://developers.google.com/speed/webp/docs/cwebp?hl=zh-cn">https://developers.google.com/speed/webp/docs/cwebp?hl=zh-cn</a></p><p>有了上述技能，我们完全可以写一个脚本，批量将图片转换为 webp 格式。例如，如需转换文件夹中的所有 jpeg 文件，请尝试执行以下操作：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token keyword">for</span> <span class="token for-or-select variable">F</span> <span class="token keyword">in</span> *.jpg<span class="token punctuation">;</span> <span class="token keyword">do</span> cwebp <span class="token variable">$F</span> <span class="token parameter variable">-o</span> <span class="token variable"><span class="token variable">`</span><span class="token function">basename</span> $<span class="token punctuation">&#123;</span>F%.jpg<span class="token punctuation">&#125;</span><span class="token variable">`</span></span>.webp<span class="token punctuation">;</span> <span class="token keyword">done</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>如果是无损压缩，我们只需要使用 <code>-lossless</code> 参数即可，当然，为确保最大的压缩比率，这里也可以使用 <code>-q</code>。</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token keyword">for</span> <span class="token for-or-select variable">F</span> <span class="token keyword">in</span> *.jpg<span class="token punctuation">;</span> <span class="token keyword">do</span> cwebp <span class="token string">"<span class="token variable">$F</span>"</span> <span class="token parameter variable">-lossless</span> <span class="token parameter variable">-q</span> <span class="token number">100</span> <span class="token parameter variable">-o</span> <span class="token string">"<span class="token variable"><span class="token variable">`</span><span class="token function">basename</span> $<span class="token punctuation">&#123;</span>F%.jpg<span class="token punctuation">&#125;</span><span class="token variable">`</span></span>.webp"</span><span class="token punctuation">;</span> <span class="token keyword">done</span><span class="token keyword">for</span> <span class="token for-or-select variable">F</span> <span class="token keyword">in</span> *.png<span class="token punctuation">;</span> <span class="token keyword">do</span> cwebp <span class="token string">"<span class="token variable">$F</span>"</span> <span class="token parameter variable">-lossless</span> <span class="token parameter variable">-q</span> <span class="token number">100</span> <span class="token parameter variable">-o</span> <span class="token string">"<span class="token variable"><span class="token variable">`</span><span class="token function">basename</span> $<span class="token punctuation">&#123;</span>F%.png<span class="token punctuation">&#125;</span><span class="token variable">`</span></span>.webp"</span><span class="token punctuation">;</span> <span class="token keyword">done</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>当然，用这两种方法不会删除原有的图片，如果我们需要删除原有的图片，可以使用 <code>rm</code> 命令。</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">rm</span> <span class="token parameter variable">-rf</span> *.png<span class="token function">rm</span> <span class="token parameter variable">-rf</span> *.jpg<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>或者集成：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token keyword">for</span> <span class="token for-or-select variable">F</span> <span class="token keyword">in</span> *.jpg<span class="token punctuation">;</span> <span class="token keyword">do</span> cwebp <span class="token string">"<span class="token variable">$F</span>"</span> <span class="token parameter variable">-lossless</span> <span class="token parameter variable">-q</span> <span class="token number">100</span> <span class="token parameter variable">-o</span> <span class="token string">"<span class="token variable"><span class="token variable">`</span><span class="token function">basename</span> $<span class="token punctuation">&#123;</span>F%.jpg<span class="token punctuation">&#125;</span><span class="token variable">`</span></span>.webp"</span> <span class="token operator">&amp;&amp;</span> <span class="token function">rm</span> <span class="token parameter variable">-rf</span> <span class="token string">"<span class="token variable">$F</span>"</span><span class="token punctuation">;</span> <span class="token keyword">done</span><span class="token keyword">for</span> <span class="token for-or-select variable">F</span> <span class="token keyword">in</span> *.png<span class="token punctuation">;</span> <span class="token keyword">do</span> cwebp <span class="token string">"<span class="token variable">$F</span>"</span> <span class="token parameter variable">-lossless</span> <span class="token parameter variable">-q</span> <span class="token number">100</span> <span class="token parameter variable">-o</span> <span class="token string">"<span class="token variable"><span class="token variable">`</span><span class="token function">basename</span> $<span class="token punctuation">&#123;</span>F%.png<span class="token punctuation">&#125;</span><span class="token variable">`</span></span>.webp"</span> <span class="token operator">&amp;&amp;</span> <span class="token function">rm</span> <span class="token parameter variable">-rf</span> <span class="token string">"<span class="token variable">$F</span>"</span><span class="token punctuation">;</span> <span class="token keyword">done</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>当然，这种方法的另一个好处是，我们完全可以从开源的源代码自行编译成我们需要的程序，可以参考这个链接，这里不再做说明：<a href="https://developers.google.com/speed/webp/docs/compiling?hl=zh-cn">https://developers.google.com/speed/webp/docs/compiling?hl=zh-cn</a></p><h3 id="修图工具"><a href="#修图工具" class="headerlink" title="修图工具"></a>修图工具</h3><h4 id="PhotoShop"><a href="#PhotoShop" class="headerlink" title="PhotoShop"></a>PhotoShop</h4><p>如果 2024 年了，仍然有修图工具不支持导出 <code>WebP</code> 格式，那么你也完全没必要使用它了。</p><p>这里以 PhotoShop 为例子，大致说下如何转换：</p><ol><li>打开图像处理软件，如 PhotoShop、GIMP 等。</li><li>导入要转换的图片文件。</li><li>在软件中打开“文件”菜单，选择“另存为”。</li><li>在弹出的“另存为”对话框中，选择“<code>WebP</code>”格式作为输出格式。</li></ol><p>这里也有一位作者分享了他批量转换格式的姿势：<a href="https://blog.zhheo.com/p/1d8e31d8.html#%E5%A4%A7%E5%8A%9F%E5%91%8A%E6%88%90">https://blog.zhheo.com/p/1d8e31d8.html#%E5%A4%A7%E5%8A%9F%E5%91%8A%E6%88%90</a></p><p>不过，如果我们只是打开 PS 然后改下图片的格式，未免太大材小用。尤其是部分性能不好的电脑，PS 启动关闭可能都需要 1 分钟以上，我开个 PS 就为了改个图片格式？更不用说很多程序员的电脑里面都没有携带 PS 这款软件。自然而然，我们会倾向于使用更轻量化的工具。</p><h4 id="ImageManager"><a href="#ImageManager" class="headerlink" title="ImageManager"></a>ImageManager</h4><p>ImageManager 是一款 VS Code 插件。相比起 PhotoShop，它具备两个优点：可以在 VS Code 内「自给自足」，并且足够轻量化。当然，它之所以能轻量化的原因是因为它明白它主要的功能都是给程序员提供的。因此，它提供的所有功能都是程序员用的比较多的，对于研发来说是比较实用的。</p><p>顺便也膜拜下原作者，这是他在稀土掘金发布的本文链接：<a href="https://juejin.cn/post/7348004403016794147">https://juejin.cn/post/7348004403016794147</a></p><p>作者对于自己的工具，显得十分自信：</p><blockquote><p>同一张图片，TinyPNG 压缩结果为 136kb，时间大概 5s；而 image-manager 压缩效果为 92kb，不到 1s！<br>如果把上传图片、下载图片这些繁琐的操作加到一起，或许 vscode 插件的效率要高上 10 倍有余</p></blockquote><p>这个插件的主要使用方法，作者仍然定义为了「图片压缩」，所以才会去和后文提到的 TinyPNG 进行对比。不过，这个插件也可以实现批量格式转换。如图所示，Image Manager 中，我们选择了一个文件夹下的图片，然后点击「转换」。转换成 webp 后，确实减少了 68% 的体积，同时也会对图片进行压缩。</p><p>在使用的时候，MacOS 使用 <code>Shift+Command+P</code> 快捷键，打开命令面板，输入 <code>Image Manager</code> 即可进入这个页面。</p><div align="center">  <img src="../../../../loading2.svg" data-original="/2024/04/27/picture-compress-api/10.webp"></div><p>不过就笔者的使用体验而言，原生转换为 webp 格式后，使用 TinyPNG 压缩的效果是比这个插件要好的，所以感觉也不能直接把结论下了，应该是和图片本身存在一定的联系，部分图片使用 TinyPNG 效果好，部分使用插件效果好。不过就易用性而言，这个插件确实是做到了极致，而且转换的速度确实也非常快。</p><h3 id="在线转换"><a href="#在线转换" class="headerlink" title="在线转换"></a>在线转换</h3><p>网站上提供在线转换的服务商一大把，这里需要选取几个放在这里展示也是很不容易的。需要说明的是我的选取标准，首先就是质量。至少转换的质量非常高，转换后需要用肉眼看不出来。在某些能选择转换质量的网站上，把质量选到最高，需要能满足这一条件。其次是必须要免费，咱不能为了这唾手可得的功能花钱啊。当然，在线服务的网络状况也是一个重要因素，如果说图片上传下载的体验不好，那么实际上再好的压缩算法，易用性也很差。其中也有部分服务在国内体验可能不太好，因为众首周知的原因。当然，这个部分具体取决于当前使用者的网络状态，我会尽力说明。</p><h4 id="To-WebP"><a href="#To-WebP" class="headerlink" title="To WebP"></a>To WebP</h4><p>ToWebp.io 是一款免费在线工具，可立即转换 WebP，无需将文件上传为标准 JPG、JPEG、PNG、AVIF、GIF 和 ICO。同时，将所有可能的图像格式转换为WebP图像格式。</p><p>这个网站应该是最纯净的将图片转换为 WebP 的网站，并且完全免费。</p><p><a href="https://towebp.io/">https://towebp.io/</a></p><div align="center">  <img src="../../../../loading2.svg" data-original="/2024/04/27/picture-compress-api/9.webp"></div><p>如图所示，它支持拖拽上传，并且支持批量转换。并且具有为数不多的可以调整一些参数的功能。例如不想要太高的转换质量，那么可以调整一下，这个在极致优化的时候感觉会很有用。除此之外，他可以将图片进行缩放，这一下子就将图片压缩的「三板斧」都集齐了。</p><p>可惜的是，它不支持 API 调用。所以仅仅适合于顺手使用下的场景。</p><h4 id="Pixelied"><a href="#Pixelied" class="headerlink" title="Pixelied"></a>Pixelied</h4><p>Pixelied 是一家提供相片编辑器的服务商，旗下有个「Free Image Converter」的图片格式转换工具，让使用者通过浏览器进行在线批次编辑，而且不用担心降低照片画质，也无需下载或安装任何应用程序，提供最快速、免费且易于使用的图片转文件功能，这项服务支持各种常见图片格式包括 PNG、JPG、WebP、SVG、GIF、AVIF 和 TIFF 等超过 100 种格式。</p><div align="center">  <img src="../../../../loading2.svg" data-original="/2024/04/27/picture-compress-api/7.webp"></div><p><a href="https://pixelied.com/convert/jpg-converter/jpg-to-webp">https://pixelied.com/convert/jpg-converter/jpg-to-webp</a></p><p>它最大的优点是：免费且无限制的转换。（后文介绍的一些在线转换服务实际上有转换限制），这让我们在转换的时候可以无负担的使用。</p><p>他们家主要靠图片编辑收钱，因此提供了一些类似于云的服务。好在免费用户也能享受到部分存储空间。据介绍，免费用户有 2GB 的存储空间，确实比较良心。因此完全可以把他家进一步使用当成简易的图片编辑器来使用。付费版的区别主要是能使用更多素材，更多空间和一些 AI 能力，这些对于写代码来说反而不是很需要。</p><p>不过他家似乎没有 API 调用，因此我们无法通过代码来实现批量转换。</p><hr><h4 id="Convertio"><a href="#Convertio" class="headerlink" title="Convertio"></a>Convertio</h4><p>Convertio 是一个线上文件转换工具，它允许用户将文件从一种格式转换为另一种格式。它支持大多数常见的档案格式，包括图像、文件、音讯、影片、电子表格和更多。Convertio 还提供一些额外的功能，例如将 PDF 转换为可编辑的档案格式，或者将多个文件合并为一个单一的文件。</p><div align="center">  <img src="../../../../loading2.svg" data-original="/2024/04/27/picture-compress-api/4.jpeg"></div><p><a href="https://convertio.co/zh/jpg-%60WebP%60/">https://convertio.co/zh/jpg-WebP/</a></p><p>进去之后，我想它友好的页面设计会让您知道怎么操作的，这里就不详细展开了。</p><p>当然，它仍然有一些缺点，并且可能在部分人看来实际上没办法接受。首先是国内访问速度可能较慢，并且在特定条件下，下载的速度极慢。其次，它的免费计划限制较多，文件最大只能 100MB，在 24h 内只能转换 10 个文件，并且最多并行 2 个文件。</p><p>它支持 API 调用的方式，这块单独写在后面。</p><h4 id="CloudConvert"><a href="#CloudConvert" class="headerlink" title="CloudConvert"></a>CloudConvert</h4><p><a href="https://cloudconvert.com/">https://cloudconvert.com/</a></p><p>CloudConvert 最引以为豪的就是它支持 218 种文件格式的转换，当然也可以随意转换图片格式。在它的网站上，你能看到它「Convert Anything to Anything」的标语。事实上，CloudConvert 不但支持转换同类别的文件格式（比如将 JPG 转换为 PNG），它甚至可以跨类别转换，比如将 DOCX 文档转换成 PNG。</p><div align="center">  <img src="../../../../loading2.svg" data-original="/2024/04/27/picture-compress-api/8.webp"></div><p>不过它的免费额度也有限制，每天最多转换 25 个文件，和上面的那家如出一辙。</p><p>它同样支持 API 调用方式。</p><h4 id="改图宝"><a href="#改图宝" class="headerlink" title="改图宝"></a>改图宝</h4><p>改图宝是我比较用的顺手的在线工具，主要是它特别轻量化，并且也会对图片进行一些损害不高的压缩操作。至少我个人用着没啥问题，也没有遇到过收费的情况。</p><div align="center">  <img src="../../../../loading2.svg" data-original="/2024/04/27/picture-compress-api/5.jpeg"></div><p><a href="https://www.gaitubao.com/jpg-gif-png">https://www.gaitubao.com/jpg-gif-png</a></p><p>它的页面也十分友好，进去之后很容易找到图片格式转换的地方。</p><h3 id="比-WebP-更优秀的格式"><a href="#比-WebP-更优秀的格式" class="headerlink" title="比 WebP 更优秀的格式"></a>比 WebP 更优秀的格式</h3><p>当然，比 <code>WebP</code> 格式更好的图片，例如 <code>avif</code>，<code>heic</code> 等格式，目前还不支持多数浏览器的解析，贸然使用可能会导致图片无法正常显示。这种时候我们需要使用图片降级渲染策略。</p><p><a href="https://zh.wikipedia.org/zh-hans/AVIF">AVIF 的维基百科，想仔细研究的去这里！</a></p><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>picture</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>source</span> <span class="token attr-name">srcset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>img/photo.avif<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>image/avif<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> // 如果浏览器支持使用  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>source</span> <span class="token attr-name">srcset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>img/photo.webp<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>image/webp<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>img/photo.jpg<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Description of Photo<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> // 浏览器不支持<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>picture</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>当然，我们也可以使用 JS 方法来进行判断：</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// npm install avif.js</span><span class="token comment">// 下面代码放到reg.js中，然后把avif-sw.js放在web服务器根目录</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"avif.js"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token string">"/avif-sw.js"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>  <span class="token comment">&lt;!-- 注册worker --></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>reg.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>  <span class="token comment">&lt;!-- 使用IMG标签嵌入AVIF图像 --></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>image.avif<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  <span class="token comment">&lt;!-- 或者通过CSS属性 --></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">background</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>image2.avif<span class="token punctuation">)</span></span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>如上图，我们甚至可以依赖 service worker 的请求拦截特性，当页面发出 <code>fetch</code> 操作时，它可以将请求拦截住，然后给出自己的响应，这样就能在请求完 <code>avif</code> 格式的图片以后，在 service worker 当中调用解码器，将图片转码。同时，因为是运行在 service worker 线程当中，解码操作并不会阻塞 UI 线程。</p><p>另外，由于 <code>avif</code> 是基于 AV1 视频编码的，Chrome 等浏览器在很早之前的版本就内置了 AV1 的解码器，但是直到最近才支持 <code>avif</code> 的解析。</p><p>所以实际上在内置了原生解码器的浏览器版本里面，我们就不需要使用这个 polyfill 实现的 JS 版本解码器了，可以直接使用效率更高的原生解码器。</p><p>当你还在犹豫不决时，<a href="https://www.bilibili.com/">bilibili</a>已经在他们的网站上使用了上了 avif 格式~ 你可以点进去它们的一篇专栏，然后用最新版本的 Chrome 去查看，看看是不是已经使用了 <code>avif</code> 格式的图片了。</p><div align="center">  <img alt="b站现在越来越露了，233" src="../../../../loading2.svg" data-original="/2024/04/27/picture-compress-api/3.png"></div><h3 id="使用-API-进行转换"><a href="#使用-API-进行转换" class="headerlink" title="使用 API 进行转换"></a>使用 API 进行转换</h3><h4 id="Convertio-1"><a href="#Convertio-1" class="headerlink" title="Convertio"></a>Convertio</h4><p><a href="https://developers.convertio.co/zh/">https://developers.convertio.co/zh/</a></p><p>首先需要注册获得一个 API_KEY。这个过程是免费的。</p><p>这是 API 文档：<a href="https://developers.convertio.co/zh/api/docs/">https://developers.convertio.co/zh/api/docs/</a>，官方给出了一些参数：</p><table class="files-table api-params-table">                            <thead>                            <tr>                                <td style="width:170px">Field</td>                                <td style="width:80px"></td>                                <td style="width:80px">Type</td>                                <td>Description</td>                            </tr>                            </thead>                            <tbody>                                                        <tr class="user-file-row">                                <td class="param-name">apikey</td>                                <td></td>                                <td>String</td>                                <td style="word-break: break-word">Your API Key                                                                                                </td>                            </tr>                                                        <tr class="user-file-row">                                <td class="param-name">input</td>                                <td></td>                                <td>String</td>                                <td style="word-break: break-word">Method of providing the input file.                                <br>Default Value:url                                <br>Allowed Values: url,raw,base64,upload                                </td>                            </tr>                                                        <tr class="user-file-row">                                <td class="param-name">file</td>                                <td></td>                                <td>String</td>                                <td style="word-break: break-word">URL of the input file (if input=url), or file content (if input = raw/base64)                                                                                                </td>                            </tr>                                                        <tr class="user-file-row">                                <td class="param-name">filename</td>                                <td><span class="param-opt">optional</span></td>                                <td>String</td>                                <td style="word-break: break-word">Input filename including extension (file.ext). Required if input = raw/base64                                                                                                </td>                            </tr>                                                        <tr class="user-file-row">                                <td class="param-name">outputformat</td>                                <td></td>                                <td>String</td>                                <td style="word-break: break-word">Output format, to which the file should be converted to.                                                                                                </td>                            </tr>                                                        <tr class="user-file-row">                                <td class="param-name">options</td>                                <td><span class="param-opt">optional</span></td>                                <td>Object</td>                                <td style="word-break: break-word">Conversion options. Now used to define callback URL, enable OCR and setting up its options. <b>You may find available OCR conversion options <a href="#options" style="color: #e41000">here</a> and callback example <a href="#options_callback" style="color: #e41000">here</a>.</b>                                                                                                </td>                            </tr>                                                        </tbody>                        </table><p>不过也像上面所说，它拥有一个免费计划，因此 API 的调用并不是无限的，好在它的限制措施也不多，只有一条：每 24h 转换 25 个文件，其它的限制也没有了，不会像有些产品，指定一堆复杂的政策骗钱。不过具体的我还没试用过，所以暂时没有 demo，平时一般都是线上服务解决问题也够了。</p><p>另外，这家的 API 服务似乎没有一些常用语言的 SDK，这可能会对开发者带来一些麻烦。（只有 PHP 的，所以 PHP 是不是世界上最好的语言呢 233）</p><p><s>不得不说，换个账号大法确实好用，希望这些网站的管理者没有看到我说的这句话。</s></p><h4 id="CloudConvert-1"><a href="#CloudConvert-1" class="headerlink" title="CloudConvert"></a>CloudConvert</h4><p><a href="https://cloudconvert.com/pricing">https://cloudconvert.com/pricing</a></p><p>它也同样需要注册来免费获取一个 key。相比于 Convertio，它的好处是支持了各种语言的 SDK，在开发的时候更加得心应手。不过他的免费额度也只有每天 25 个文件。</p><p>以 node 为例子，它的 SDK 在 Github 给出了比较详细的 demo：<a href="https://github.com/cloudconvert/cloudconvert-node">https://github.com/cloudconvert/cloudconvert-node</a></p><p>它的调用相比于其他的 API 来说，心智相对复杂一些。这可能是为了兼容多种文件的转换格式，因此它提供了 <code>job</code> 的概念。比如说下图就是创建了一种「工作」，其中包括了上传，转换，导出 3 个步骤。</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// npm install cloudconvert --save</span><span class="token keyword">const</span> CloudConvert <span class="token operator">=</span>  <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'cloudconvert'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> cloudConvert <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CloudConvert</span><span class="token punctuation">(</span><span class="token string">'api_key'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> importUrl <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'my-file.jpg'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> outputName <span class="token operator">=</span> <span class="token string">'output-file'</span><span class="token punctuation">;</span><span class="token keyword">let</span> job <span class="token operator">=</span> <span class="token keyword">await</span> cloudConvert<span class="token punctuation">.</span>jobs<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>    <span class="token literal-property property">tasks</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>        <span class="token string-property property">'import-my-file'</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>            <span class="token literal-property property">operation</span><span class="token operator">:</span> <span class="token string">'import/url'</span><span class="token punctuation">,</span>            <span class="token literal-property property">url</span><span class="token operator">:</span> importUrl        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>        <span class="token string-property property">'convert-my-file'</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>            <span class="token literal-property property">operation</span><span class="token operator">:</span> <span class="token string">'convert'</span><span class="token punctuation">,</span>            <span class="token literal-property property">input</span><span class="token operator">:</span> <span class="token string">'import-my-file'</span><span class="token punctuation">,</span>            <span class="token literal-property property">output_format</span><span class="token operator">:</span> <span class="token string">'webp'</span><span class="token punctuation">,</span>            <span class="token literal-property property">some_other_option</span><span class="token operator">:</span> <span class="token string">'value'</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>        <span class="token string-property property">'export-my-file'</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>            <span class="token literal-property property">operation</span><span class="token operator">:</span> <span class="token string">'export/url'</span><span class="token punctuation">,</span>            <span class="token literal-property property">input</span><span class="token operator">:</span> outputName        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>CloudConvert 给每个使用了 <code>export/url</code> 的任务都会返回一个公共的，能在互联网访问的 url，我们就可以通过这个 url 来获取到转换后的文件。</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">job <span class="token operator">=</span> <span class="token keyword">await</span> cloudConvert<span class="token punctuation">.</span>jobs<span class="token punctuation">.</span><span class="token function">wait</span><span class="token punctuation">(</span>job<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Wait for job completion</span><span class="token keyword">const</span> file <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>cloudConvert<span class="token punctuation">.</span>jobs<span class="token punctuation">.</span><span class="token function">getExportUrls</span><span class="token punctuation">(</span>job<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">const</span> writeStream <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">createWriteStream</span><span class="token punctuation">(</span><span class="token string">'./out/'</span> <span class="token operator">+</span> file<span class="token punctuation">.</span>filename<span class="token punctuation">)</span><span class="token punctuation">;</span>https<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span>url<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    response<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>writeStream<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">await</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    writeStream<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'finish'</span><span class="token punctuation">,</span> resolve<span class="token punctuation">)</span><span class="token punctuation">;</span>    writeStream<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">,</span> reject<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>这个 SDK 还提供了沙盒环境，使得用户在测试 API 的时候不至于使用掉免费额度。</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// Pass `true` to the constructor</span><span class="token keyword">const</span> cloudConvert <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CloudConvert</span><span class="token punctuation">(</span><span class="token string">'api_key'</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>总体使用下来，API 还是最推荐这款，虽然说免费额度一致，相比于 Convertio 使用友好，也可以避免在测试的时候丢失配额。速度也总体上比 Convertio 来的更快。</p><h2 id="图片压缩"><a href="#图片压缩" class="headerlink" title="图片压缩"></a>图片压缩</h2><p>除了格式转换之外，我们还需要考虑图片压缩的问题。一般来说，图片压缩在绝大多数情况下可以取得非常好的效果。毕竟一般图片的生产方没有压缩的意识。</p><p>如果说格式的转换可能有比较固定的范式，那么图片压缩可以说是十分考验压缩算法的水平了。不同的压缩算法，在压缩率、压缩速度、压缩质量上都有着不同的表现。市面上能提供十分有竞争力的压缩能力的厂商属实不多，愿意免费的更是少之又少。除开压缩算法，如果我们正好有让图片大小变小的需求，那么图片的大小优化也肯定会很可观。比如说网站的大图没有必要使用 8k 的大图做展示，4k 就够了。如果不是刻意的保存需求，那么我们往往能创造一个改变图片大小的环境。不过图片大小也是一定会损害图片质量的。</p><p>在这个过程中，我们自然是希望图片的质量不能损失太多。毕竟很多图片一旦失去了高清晰度，就会让显示效果大打折扣。</p><h3 id="系统自带"><a href="#系统自带" class="headerlink" title="系统自带"></a>系统自带</h3><p>MacOS 系统自带图片的压缩功能。Apple 的官方说明中提及了这一点：</p><p><a href="https://support.apple.com/zh-cn/guide/preview/prvw2015/mac">https://support.apple.com/zh-cn/guide/preview/prvw2015/mac</a></p><ol><li>在 Mac 上的“预览” App  中，打开想要更改的文件。</li><li>选取“工具” &gt; “调整大小”，然后选择“重新采样图像”。</li><li>在“分辨率”栏中输入一个较小的值。</li><li>新的大小显示在底部。</li></ol><blockquote><p>【提示】若要同时减小多个图像的文件大小，请在同一个窗口中显示这些图像，并在窗口的边栏中选择它们，然后选取“工具” &gt; “调整大小”。</p></blockquote><p>首先 Apple 的能力确实还是值得信赖的，压缩图片很快。并且在这个过程中，可以选择一些常见的图片大小，系统能力集成，也让这个过程执行的非常丝滑方便。但是缺点也很明显：那就是能选择的尺寸太少了，且最高只支持到 <code>1280*720</code>. 在当前场景下，它确实用处只会越来越小。</p><p>在这个过程中，甚至还能顺带转换下图片的格式，可惜不支持 <code>WebP</code>。如果转换为 <code>png</code> 格式，有的时候甚至图片还会变大…</p><h3 id="imagemin"><a href="#imagemin" class="headerlink" title="imagemin"></a>imagemin</h3><p>作为前端开发，imagemin 自然是我们再熟悉不过的产品之一了。它的最大优势是我们可以集成在 CI&#x2F;CD 环境中。每当我们进行打包的时候，我们可以在打包的过程中直接使用 imagemin 来进行图片压缩。</p><p>Imagemin 是围绕「插件」构建的。插件是用于压缩特定图片格式的 npm 软件包（例如，<code>mozjpeg</code> 会压缩 JPEG）。选择插件时，最重要的考虑因素是它是「有损」还是「无损」。在无损压缩中，不会丢失任何数据。有损压缩会减小文件大小，但代价是可能会降低图片质量。如果插件未提及它是「有损」还是「无损」，您可以通过其 API 来判断：如果您可以指定输出的图片质量，则它是「有损」的。</p><table>    <thead>      <tr>        <th>图片格式</th>        <th>有损插件</th>        <th>无损插件</th>      </tr>    </thead>    <tbody>      <tr>        <td>JPEG</td>        <td>          <a href="https://www.npmjs.com/package/imagemin-mozjpeg">imagemin-mozjpeg</a>        </td>        <td>          <a href="https://www.npmjs.com/package/imagemin-jpegtran">imagemin-jpegtran</a>        </td>      </tr>      <tr>        <td>PNG</td>        <td>          <a href="https://www.npmjs.com/package/imagemin-pngquant">imagemin-pngquant</a>        </td>        <td>          <a href="https://www.npmjs.com/package/imagemin-optipng">imagemin-optipng</a>        </td>      </tr>      <tr>        <td>GIF</td>        <td>          <a href="https://www.npmjs.com/package/imagemin-giflossy">imagemin-giflossy</a>        </td>        <td>          <a href="https://www.npmjs.com/package/imagemin-gifsicle">imagemin-gifsicle</a>        </td>      </tr>      <tr>        <td>SVG</td>        <td>          <a href="https://www.npmjs.com/package/imagemin-svgo">imagemin-svgo</a>        </td>        <td></td>      </tr>      <tr>        <td>WebP</td>        <td>          <a href="https://www.npmjs.com/package/imagemin-webp">imagemin-webp</a>        </td>        <td>          <a href="https://www.npmjs.com/package/imagemin-webp">imagemin-webp</a>        </td>      </tr>    </tbody>  </table><p>在通过跟打包工具集成 imagemin 之后，我们就可以在打包的过程中，使用 imagemin 来进行图片压缩。这里使用 Webpack 为例子：</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> ImageminPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'imagemin-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>default<span class="token punctuation">;</span><span class="token keyword">const</span> CopyWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'copy-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">&#123;</span>  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token string">'./index.js'</span><span class="token punctuation">,</span>  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">'bundle.js'</span><span class="token punctuation">,</span>    <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'dist'</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>    <span class="token keyword">new</span> <span class="token class-name">CopyWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">&#123;</span>        <span class="token literal-property property">from</span><span class="token operator">:</span> <span class="token string">'img/**/**'</span><span class="token punctuation">,</span>        <span class="token literal-property property">to</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'dist'</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token keyword">new</span> <span class="token class-name">ImageminPlugin</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>      <span class="token literal-property property">pngquant</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">&#123;</span> <span class="token literal-property property">quality</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">]</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>  <span class="token punctuation">]</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>此代码会告知 Imagemin 使用 Pngquant 插件压缩 PNG。quality 字段使用 min 和 max 值范围来确定压缩级别 - 0 是最低压缩级别，1 是最高压缩级别。如需强制所有图片以 50% 质量压缩，请将 0.5 同时作为最小值和最大值传递。</p><p>假设我们还需要压缩 jpg 文件，那么我们需要添加如下配置：</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> imageminMozjpeg <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'imagemin-mozjpeg'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">new</span> <span class="token class-name">ImageminPlugin</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>  <span class="token literal-property property">pngquant</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">&#123;</span> <span class="token literal-property property">quality</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">]</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 已有配置，无需新增</span>  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">imageminMozjpeg</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> <span class="token literal-property property">quality</span><span class="token operator">:</span> <span class="token number">50</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>可以说，每种插件的具体用法都不一样，具体得您自己去查阅对应插件的文档。然后我们根据项目的需要，按需进行配置。比如你的项目如果确实只是用了 <code>png</code> 和 <code>jpg</code> 两种图片格式，那么你只需要配置 <code>pngquant</code> 和 <code>mozjpeg</code> 即可。</p><p>我们甚至还可以将 Imagemin 本身用作 Node 脚本。以下代码使用 <code>imagemin-mozjpeg</code> 插件将 JPEG 文件的质量压缩为 50（0 表示最差；100 表示最佳）：</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> imagemin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'imagemin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> imageminMozjpeg <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'imagemin-mozjpeg'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">(</span><span class="token keyword">async</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> files <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">imagemin</span><span class="token punctuation">(</span>      <span class="token punctuation">[</span><span class="token string">'source_dir/*.jpg'</span><span class="token punctuation">,</span> <span class="token string">'another_dir/*.jpg'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>      <span class="token punctuation">&#123;</span>        <span class="token literal-property property">destination</span><span class="token operator">:</span> <span class="token string">'destination_dir'</span><span class="token punctuation">,</span>        <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">imageminMozjpeg</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token literal-property property">quality</span><span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">]</span>      <span class="token punctuation">&#125;</span>  <span class="token punctuation">)</span><span class="token punctuation">;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>files<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="TinyPNG"><a href="#TinyPNG" class="headerlink" title="TinyPNG"></a>TinyPNG</h3><div align="center">  <img src="../../../../loading2.svg" data-original="/2024/04/27/picture-compress-api/6.jpeg"></div><p>在官网的介绍中，他们这么写：TinyPNG 使用智能有损压缩技术将您的 <code>WebP</code>, <code>PNG</code> 和 <code>JPEG</code> 图片的文件大小降低。 通过选择性的减少图片中的颜色，只需要很少的字节数就能保存数据。 对视觉的影响几乎不可见，但是在文件大小上有非常大的差别。</p><p>经过实测，无论是什么环境下，他们的图片损失都很小，但是压缩率非常高。</p><p><a href="https://tinypng.com/">https://tinypng.com/</a> 进入之后直接上传即可，每次最多上传 20 张图片。一般来说足够支持需要顺手支持的场景。</p><h3 id="黑魔法"><a href="#黑魔法" class="headerlink" title="黑魔法"></a>黑魔法</h3><p>偶然在知乎上看到了无限制使用 node 压缩图片的解法，先上 Github 地址：（这个并不是我写的，特此注明下）</p><p><a href="https://github.com/zhanyuzhang/super-tinypng">super-tinypng</a></p><p>知乎原文链接：<a href="https://zhuanlan.zhihu.com/p/152317953">https://zhuanlan.zhihu.com/p/152317953</a></p><p>这里我概括下作者的思路（大部分为作者原文，这里稍微提炼了下）：</p><blockquote><p>网页版的服务，我们仍然可以达到「无限使用」的效果——事实上我们完全不需要在云端保存那 20 张图片，这在不登录的情况下，是一定存在漏洞的。因此我们可以直接尝试使用网页和服务器的接口实现图片的压缩。<br>一般来说，这种免登录就可试用的系统，都是通过用户 IP 来限制用户的操作次数的。目前的 web 架构大多数都是通过 <code>nginx</code> 作为反向代理的，换句话说，客户端并不是直接请求应用服务的，而是通过统一接入层（往往是 <code>nginx</code>） 来转发请求的。而 <code>nginx</code> 恰恰约定了 <code>X-Forwarded-For</code> 请求头告知下游服务用户的 IP。实际上，基本上所有的反向代理服务都实现了这个约定，以确保下游的服务可以感知到经过的反向代理，并从中获取到用户的 IP 地址。<br>那么我们能不能在客户端伪造这个头部，每次上传图片的时候都设置一个随机的 IP 呢？所以就决定尝试一下。结果发现，该方法确实可行！</p></blockquote><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> options <span class="token operator">=</span> <span class="token punctuation">&#123;</span>  <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">'POST'</span><span class="token punctuation">,</span>  <span class="token literal-property property">hostname</span><span class="token operator">:</span> <span class="token string">'TinyPNG – Compress PNG images while preserving transparency'</span><span class="token punctuation">,</span>  <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/web/shrink'</span><span class="token punctuation">,</span>  <span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>    <span class="token literal-property property">rejectUnauthorized</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>    <span class="token string-property property">'Postman-Token'</span><span class="token operator">:</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token string-property property">'Cache-Control'</span><span class="token operator">:</span> <span class="token string">'no-cache'</span><span class="token punctuation">,</span>    <span class="token string-property property">'Content-Type'</span><span class="token operator">:</span> <span class="token string">'application/x-www-form-urlencoded'</span><span class="token punctuation">,</span>    <span class="token string-property property">'User-Agent'</span><span class="token operator">:</span>      <span class="token string">'Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36'</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token comment">// 上传图片的时候加上这两行：</span>options<span class="token punctuation">.</span>headers<span class="token punctuation">[</span><span class="token string">'X-Forwarded-For'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">getRandomIP</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">fileUpload</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// console.log('可以压缩：' + file);</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>完整的代码原作者已经在知乎、Github 上开源了，感兴趣的可以自行尝试。</p><p>同时，作者也发布到了 npm 上面。只需要全局安装：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">pnpm</span> i super-tinypng <span class="token parameter variable">-g</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>然后在你想要压缩图片的目录里面运行 <code>super-tinypng</code> 就能自动压缩图片了，并且不会有数量限制！</p><p>不过 TinyPNG 在未来是完全有可能将这个办法给封杀的，大家能用就早用早享受。</p><h3 id="不受限制的站点"><a href="#不受限制的站点" class="headerlink" title="不受限制的站点"></a>不受限制的站点</h3><p>Free TinyPNG <a href="https://free.tinypng.site/">https://free.tinypng.site/</a></p><p>这个网站和 TinyPNG 网站几乎一样，不同的是它取消了数量限制，和大小限制。图片超过 5MB，是不能被免费 TinyPNG 的网站服务和 API 接受的。但是在这个站点就可以。</p><p>这个网站有宣称自己的算法和 TinyPNG 一致，不过具体有待考证。</p><h3 id="API-服务"><a href="#API-服务" class="headerlink" title="API 服务"></a>API 服务</h3><p>他们家的 API 服务同样也十分慷慨，对每个账户每个月有 500 次的免费调用次数。更惊喜的是，他们对于主流的代码环境都支持。比如针对于 <code>node.js</code> 他们专门开发了易用的 SDK，实际在最简单的环境中，我们仅需4行代码就可以使用 API 进行图片压缩了。</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// npm install tinify</span><span class="token keyword">const</span> tinify <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"tinify"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>tinify<span class="token punctuation">.</span>key <span class="token operator">=</span> <span class="token string">"API_KEY"</span><span class="token punctuation">;</span><span class="token keyword">const</span> source <span class="token operator">=</span> tinify<span class="token punctuation">.</span><span class="token function">fromFile</span><span class="token punctuation">(</span>imagePath<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">await</span> source<span class="token punctuation">.</span><span class="token function">toFile</span><span class="token punctuation">(</span>outputPath<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>要获取 API_KEY，只需要注册一个账号，然后就能在官网的控制台中获取。</p><div align="center">  <img src="../../../../loading2.svg" data-original="/2024/04/27/picture-compress-api/2.jpeg"></div><p>我们可以在控制台看到我们这个月使用的次数。</p><div align="center">  <img src="../../../../loading2.svg" data-original="/2024/04/27/picture-compress-api/1.png"></div><p>如果说想批量压缩图片，这里有个 demo 供参考使用，可以直接在 node 环境下运行。</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> tinify <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"tinify"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>tinify<span class="token punctuation">.</span>key <span class="token operator">=</span> <span class="token string">"API_KEY"</span><span class="token punctuation">;</span><span class="token keyword">const</span> folderPath <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'..'</span><span class="token punctuation">,</span> <span class="token string">'OLD_FOLDER_NAME'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 替换为您在外面一级的文件夹路径</span><span class="token keyword">const</span> folderName <span class="token operator">=</span> <span class="token string">'NEW_FOLDER_NAME'</span><span class="token punctuation">;</span> <span class="token comment">// 新文件夹的名称，会在当前目录生成</span><span class="token keyword">const</span> imageCount <span class="token operator">=</span> <span class="token number">500</span><span class="token punctuation">;</span> <span class="token comment">// 替换为要压缩的图片数量</span><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">compressImage</span><span class="token punctuation">(</span><span class="token parameter">imagePath<span class="token punctuation">,</span> outputPath</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">const</span> source <span class="token operator">=</span> tinify<span class="token punctuation">.</span><span class="token function">fromFile</span><span class="token punctuation">(</span>imagePath<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">await</span> source<span class="token punctuation">.</span><span class="token function">toFile</span><span class="token punctuation">(</span>outputPath<span class="token punctuation">)</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">压缩成功：</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>outputPath<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">压缩失败：</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>imagePath<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">compressImagesInFolder</span><span class="token punctuation">(</span><span class="token parameter">folderPath<span class="token punctuation">,</span> count</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">const</span> imageFiles <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">readdirSync</span><span class="token punctuation">(</span>folderPath<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">file</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>      <span class="token keyword">const</span> extension <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">extname</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">return</span> extension <span class="token operator">===</span> <span class="token string">'.png'</span> <span class="token operator">||</span> extension <span class="token operator">===</span> <span class="token string">'.jpg'</span> <span class="token operator">||</span> extension <span class="token operator">===</span> <span class="token string">'.jpeg'</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">const</span> selectedImages <span class="token operator">=</span> imageFiles<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> count<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> imageFile <span class="token keyword">of</span> selectedImages<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">const</span> imagePath <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>folderPath<span class="token punctuation">,</span> imageFile<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">const</span> compressedImagePath <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> folderName<span class="token punctuation">,</span> imageFile<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 修改输出路径</span>      <span class="token keyword">await</span> <span class="token function">compressImage</span><span class="token punctuation">(</span>imagePath<span class="token punctuation">,</span> compressedImagePath<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 传递输出路径给compressImage函数</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'压缩图片时发生错误：'</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">createOutputFolder</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> folderPath <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> folderName<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>fs<span class="token punctuation">.</span><span class="token function">existsSync</span><span class="token punctuation">(</span>folderPath<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    fs<span class="token punctuation">.</span><span class="token function">mkdirSync</span><span class="token punctuation">(</span>folderPath<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">return</span> folderPath<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token function">createOutputFolder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">compressImagesInFolder</span><span class="token punctuation">(</span>folderPath<span class="token punctuation">,</span> imageCount<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>图片压缩的不同姿势，希望能帮助到仔细看完这篇文章的你。</p><p>如果让我说一个总结，我认为在当下（2024.4）我使用这些方法的频率是这样的：</p><ol><li>如果是在不改变当前图片格式的情况下，我会优先使用 tinypng 进行压缩。毕竟我们有办法无限白嫖它。</li><li>如果是在项目中使用，那么 imagemin 是我们优先的考量。能集成在 CI&#x2F;CD 自然是开发的最佳实践之一。</li><li>如果是针对于博客项目，或者一些图片服务，imagemin 有可能不支持对应的脚手架，那么就会使用命令行。这种时候我会统一将图片转成 webp，这样子用户的体验是最好的。</li><li>如果是针对于图片需要小幅修改的场景，那么依据需要修改好的范围，我会针对性的使用 Luna Paint 等集成在 VS Code 中的插件服务 &gt; 能云存储的在线服务 &gt; 到 Photoshop 等图片修改工具进行修改。</li><li>除去以上情形无法解决，我会使用本文提到的部分在线服务。</li></ol><h2 id="参考文档-感谢："><a href="#参考文档-感谢：" class="headerlink" title="参考文档 &amp; 感谢："></a>参考文档 &amp; 感谢：</h2><p><a href="https://web.dev/articles/codelab-imagemin-webpack?hl=zh-cn">https://web.dev/articles/codelab-imagemin-webpack?hl=zh-cn</a></p>]]></content>
      
      
      <categories>
          
          <category> 技术总结 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> API </tag>
            
            <tag> web </tag>
            
            <tag> 图片 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>国内二次元图片API汇总保存</title>
      <link href="/2024/04/14/anime-pictures/"/>
      <url>/2024/04/14/anime-pictures/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="写在前面"><a href="#写在前面" class="headerlink" title="写在前面"></a>写在前面</h2><blockquote><p>本文由「赵苦瓜のBlog~」改编而来，原文地址：<a href="https://blog.jixiaob.cn/?post=93">https://blog.jixiaob.cn/?post=93</a></p></blockquote><p>「国内」包含范围：中国大陆。港澳台会和海外放到另外的一个 Post 中去。</p><p>首先感谢原作者能一下子提供这么多的 API，并且绝大部分质量还是非常不错的，覆盖到的图片应该有十万量级了。本文会根据作者自己的癖好做出修改<s>才不是删去了非二次元OvO</s>。</p><p>发出来之前应该是做了一些补完计划，目前所有的 API，已做好过滤并且附上了图。针对于可能的加载情况做了一些懒加载优化（毕竟图片这么多）。</p><p>后续的计划是，附上一些 API 的说明，之后会对文章进行分类，并逐渐淘汰一些不用了的&#x2F;使用频率低的 API。另外，这些 API 还是国内使用为主，后续应该会补一篇国外的，质量会更好。以及本人秉承着自给自足丰衣足食的原则，二次元<s>摄图</s>应该也会开发（已经有了），并且不是 API 套皮。推销一波自己的 API，图源来自 Jitsu，后面也会有他的 API 分享。然后我也会一直补充这些 API。</p><p><a href="https://moe.starfishdl.site/api/setu/v1">https://moe.starfishdl.site/api/setu/v1</a></p><p>（取消了横屏和竖屏的展示，因为需要花费很多查询次数）</p><p style="text-align:center;"><img src="../../../../loading2.svg" data-original="https://moe.starfishdl.site/api/setu/v1" height="300" alt="点击刷新预览图" title="点击刷新预览图" style="height:300px;" onclick="event.stopPropagation();src=src+'?'+Math.random()*5;"></p><p>希望大家可以找到自己喜欢的二次元美图，也希望大家爱惜好身体！以下为正文：</p><hr><p>记录一些随机图API的地址&#x3D;w&#x3D;，点击图片即可刷新预览图。</p><p>关于图片保存：</p><p>如果在这个页面刷到一些好看的图片想保存的话，<s>直接右键另存为或者下载是保存不到你看到的图片的，而是另一张随机图</s>有可能是可以保存原图的。而且如果复制粘贴到 word 这种会二次从互联网上下载的软件里也会是另一张随机图。</p><p>可以复制图片然后粘贴到画图之类的不会从互联网上二次下载的软件中然后保存。</p><h2 id="1-次元API-举个栗子随机二次元图床API"><a href="#1-次元API-举个栗子随机二次元图床API" class="headerlink" title="1 次元API-举个栗子随机二次元图床API"></a>1 次元API-举个栗子随机二次元图床API</h2><p><a href="https://t.mwm.moe/">https://t.mwm.moe/</a></p><p>此外还有萌图、风景图、白底图、自适应屏幕、原神、AI图和随机二次元头像的接口，点击上方链接即可查看</p><p>另外在接口后面加上&#x2F;img.txt即可查看图片链接列表，非常方便。</p><p>PC端（横屏）：</p><p><a href="https://t.mwm.moe/pc">https://t.mwm.moe/pc</a></p><p style="text-align:center;"><img src="../../../../loading2.svg" data-original="https://t.mwm.moe/pc" height="300" alt="点击刷新预览图" title="点击刷新预览图" style="height:300px;" onclick="event.stopPropagation();src=src+'?'+Math.random()*5;"></p><p>移动端（竖屏）：</p><p><a href="https://t.mwm.moe/mp">https://t.mwm.moe/mp</a></p><p style="text-align:center;"><span style="font-size:16px;"><img src="../../../../loading2.svg" data-original="https://t.mwm.moe/mp" height="300" alt="点击刷新预览图" title="点击刷新预览图" style="height:300px;" onclick="event.stopPropagation();src=src+'?'+Math.random() * 5;"><br></span></p><p>二次元风景：</p><p><a href="https://t.mwm.moe/fj">https://t.mwm.moe/fj</a></p><p style="text-align:center;"><span style="font-size:16px;"><img src="../../../../loading2.svg" data-original="https://t.mwm.moe/fj" height="300" alt="点击刷新预览图" title="点击刷新预览图" style="height:300px;" onclick="event.stopPropagation();src=src+'?'+Math.random() * 5;"><br></span></p><h2 id="2-98情缘API"><a href="#2-98情缘API" class="headerlink" title="2 98情缘API"></a>2 98情缘API</h2><p>随机壁纸</p><p><a href="http://www.98qy.com/sjbz/api.php">http://www.98qy.com/sjbz/api.php</a></p><p style="text-align:center;"><span style="font-size:16px;"><img src="../../../../loading2.svg" data-original="http://www.98qy.com/sjbz/api.php" height="300" alt="点击刷新预览图" title="点击刷新预览图" style="height:300px;" onclick="event.stopPropagation();src=src+'?'+Math.random()*5;"><br></span></p><h2 id="3-Lolicon-API"><a href="#3-Lolicon-API" class="headerlink" title="3 Lolicon API"></a>3 Lolicon API</h2><p>神代绮凛大佬是神！</p><p>这个不是直接返回图片，而是一个json信息，图片的链接在json里面。</p><p>同时这个也可以加tag、r18等参数来缩小图片查找范围，很好用&#x3D;w&#x3D;</p><p>可以拿来做QQ群的涩图机器人</p><p><a href="https://api.lolicon.app/setu/v2">https://api.lolicon.app/setu/v2</a></p><h2 id="4-NyanCatdaの小站"><a href="#4-NyanCatdaの小站" class="headerlink" title="4 NyanCatdaの小站"></a>4 NyanCatdaの小站</h2><p>这个也是返回json，不过现在好像不能用了qwq</p><p><a href="https://api.nyan.xyz/httpapi/sexphoto/">https://api.nyan.xyz/httpapi/sexphoto/</a></p><p>跟站长确认过了，上面的接口停用了，不过有另一个新的涩图接口</p><p><a href="https://sex.nyan.xyz/">https://sex.nyan.xyz/</a></p><p>这个也是可以返回json，也可以直接返回图片</p><p>可以筛选r18，指定作者pid，指定返回数量，指定tag关键字等等</p><p><a href="https://sex.nyan.xyz/api/v2/img">https://sex.nyan.xyz/api/v2/img</a></p><p style="text-align:center;"><span style="font-size:16px;"><img src="../../../../loading2.svg" data-original="https://sex.nyan.xyz/api/v2/img" height="300" alt="点击刷新预览图" title="点击刷新预览图" style="height:300px;" onclick="event.stopPropagation();src=src+'?'+Math.random()*5;"><br></span></p><h2 id="5-超级小兔的随机图"><a href="#5-超级小兔的随机图" class="headerlink" title="5 超级小兔的随机图"></a>5 超级小兔的随机图</h2><p>随机图</p><p><a href="https://imgapi.xl0408.top/index.php">https://imgapi.xl0408.top/index.php</a></p><p style="text-align:center;"><span style="font-size:16px;"><img src="../../../../loading2.svg" data-original="https://imgapi.xl0408.top/index.php" height="300" alt="点击刷新预览图" title="点击刷新预览图" style="height:300px;" onclick="event.stopPropagation();src=src+'?'+Math.random()*5;"><br></span></p><h2 id="6-EEE-DOG随机图API"><a href="#6-EEE-DOG随机图API" class="headerlink" title="6 EEE.DOG随机图API"></a>6 EEE.DOG随机图API</h2><p>呓喵酱的随机图</p><p>这个也可以加参数，指定筛选的尺寸，是否显示r18，是否显示为网页等，同时也有必应和头像的随机图接口</p><p><a href="https://api.yimian.xyz/img">https://api.yimian.xyz/img</a></p><p style="text-align:center;"><img src="../../../../loading2.svg" data-original="https://api.yimian.xyz/img" height="300" alt="点击刷新预览图" title="点击刷新预览图" style="height:300px;" onclick="event.stopPropagation();src=src+'?'+Math.random() * 5;"></p><h2 id="7-岁月小筑随机背景API"><a href="#7-岁月小筑随机背景API" class="headerlink" title="7 岁月小筑随机背景API"></a>7 岁月小筑随机背景API</h2><p><a href="https://img.xjh.me/random_img.php">https://img.xjh.me/random_img.php</a></p><p>这个好像返回的不是纯图片，需要用iframe引用</p><p>多了一个百度统计的东西emmm</p><p>感觉有点因噎废食了</p><p>由于返回的不是纯图片感觉用处不是很广泛（</p><p> 找到一个调用岁月小筑但是是直接返回图片的：</p><p><a href="https://cloud.qqshabi.cn/api/images/api.php">https://cloud.qqshabi.cn/api/images/api.php</a></p><p><a href="https://cloud.qqshabi.cn/apidetail/33.html">https://cloud.qqshabi.cn/apidetail/33.html</a></p><h2 id="8-樱花随机二次元图片API"><a href="#8-樱花随机二次元图片API" class="headerlink" title="8 樱花随机二次元图片API"></a>8 樱花随机二次元图片API</h2><p>好像用樱花的这个的人也挺多的</p><p><a href="https://www.dmoe.cc/random.php">https://www.dmoe.cc/random.php</a></p><p style="text-align:center;"><span style="font-size:16px;"><img src="../../../../loading2.svg" data-original="https://www.dmoe.cc/random.php" height="300" alt="点击刷新预览图" title="点击刷新预览图" style="height:300px;" onclick="event.stopPropagation();src=src+'?'+Math.random()*5;"> <br></span></p><h2 id="9-韩小韩API接口站"><a href="#9-韩小韩API接口站" class="headerlink" title="9 韩小韩API接口站"></a>9 韩小韩API接口站</h2><p>韩小韩API除了这两个图片还有好多其他的，比如风景图、电脑壁纸、桌面壁纸、随机头像等</p><p>不过感觉他用的图片CDN访问速度有点慢（</p><p>随机二次元图片API接口</p><p><a href="https://api.vvhan.com/api/wallpaper/acg">https://api.vvhan.com/api/wallpaper/acg</a></p><p style="text-align:center;"><img src="../../../../loading2.svg" data-original="https://api.vvhan.com/api/wallpaper/acg" height="300" alt="点击刷新预览图" title="点击刷新预览图" style="height:300px;" onclick="event.stopPropagation();src=src+'?'+Math.random()*5;"></p><h2 id="10-缙哥哥的博客"><a href="#10-缙哥哥的博客" class="headerlink" title="10 缙哥哥的博客"></a>10 缙哥哥的博客</h2><p>原神随机图</p><p>收录了数千张原神图片，还有特别大的那种（一张二三十兆）</p><p><a href="https://api.dujin.org/pic/yuanshen/">https://api.dujin.org/pic/yuanshen/</a></p><p style="text-align:center;"><img src="../../../../loading2.svg" data-original="https://api.dujin.org/pic/yuanshen/" height="300" alt="点击刷新预览图" title="点击刷新预览图" style="height:300px;" onclick="event.stopPropagation();src=src+'?'+Math.random()*5;"></p><h2 id="11-PAULZZH-东方Project随机图片API"><a href="#11-PAULZZH-东方Project随机图片API" class="headerlink" title="11 PAULZZH 东方Project随机图片API"></a>11 PAULZZH 东方Project随机图片API</h2><p>东方随机图，全都是东方的图，图库总量也很大</p><p><a href="https://blog.paulzzh.com/archives/50.html">https://blog.paulzzh.com/archives/50.html</a></p><p><a href="https://img.paulzzh.com/touhou/random">https://img.paulzzh.com/touhou/random</a></p><p style="text-align:center;"><img src="../../../../loading2.svg" data-original="https://img.paulzzh.com/touhou/random" height="300" alt="点击刷新预览图" title="点击刷新预览图" style="height:300px;" onclick="event.stopPropagation();src=src+'?'+Math.random()*5;"></p><h2 id="12-随机二次元图片API"><a href="#12-随机二次元图片API" class="headerlink" title="12 随机二次元图片API"></a>12 随机二次元图片API</h2><p>作者似乎没有给自己站点起名字，那就发下链接，这位大大的图说实在的质量也非常不错：<a href="https://api.sretna.cn/">https://api.sretna.cn/</a></p><p>API: <a href="https://api.sretna.cn/comic.php">https://api.sretna.cn/comic.php</a></p><p>电脑端随机二次元（2560*1440）：</p><p style="text-align:center;"><img src="../../../../loading2.svg" data-original="https://api.sretna.cn/layout/pc.php" height="300" alt="点击刷新预览图" title="点击刷新预览图" style="height:300px;" onclick="event.stopPropagation();src=src+'?'+Math.random()*5;"></p><p>手机端随机二次元（1440*2560）：</p><p style="text-align:center;"><img src="../../../../loading2.svg" data-original="https://api.sretna.cn/layout/pe.php" height="300" alt="点击刷新预览图" title="点击刷新预览图" style="height:300px;" onclick="event.stopPropagation();src=src+'?'+Math.random()*5;"></p><p>动漫头像随机二次元（1000*1000）：</p><p style="text-align:center;"><img src="../../../../loading2.svg" data-original="https://api.sretna.cn/layout/ar.php" height="300" alt="点击刷新预览图" title="点击刷新预览图" style="height:300px;" onclick="event.stopPropagation();src=src+'?'+Math.random()*5;"></p><h2 id="13-保罗API"><a href="#13-保罗API" class="headerlink" title="13 保罗API"></a>13 保罗API</h2><p>白底二次元图片，适合当作纯色桌面背景之类的</p><p><a href="https://api.paugram.com/wallpaper/">https://api.paugram.com/wallpaper/</a></p><p style="text-align:center;"><img src="../../../../loading2.svg" data-original="https://api.paugram.com/wallpaper/" height="300" alt="点击刷新预览图" title="点击刷新预览图" style="height:300px;" onclick="event.stopPropagation();src=src+'?'+Math.random()*5;"></p><h2 id="14-小歪API"><a href="#14-小歪API" class="headerlink" title="14 小歪API"></a>14 小歪API</h2><p>小歪除了这个动漫的随机图，还有表情包少女Menhera-chan和三次元风景壁纸的接口</p><p><a href="https://api.aixiaowai.cn/api/api.php">https://api.aixiaowai.cn/api/api.php</a></p><p>二次元动漫</p><p style="text-align:center;"><img src="../../../../loading2.svg" data-original="https://api.aixiaowai.cn/api/api.php" height="300" alt="点击刷新预览图" title="点击刷新预览图" style="height:300px;" onclick="event.stopPropagation();src=src+'?'+Math.random()*5;"></p><p>mc酱动漫</p><p style="text-align:center;"><img src="../../../../loading2.svg" data-original="https://api.aixiaowai.cn/mcapi/mcapi.php" height="300" alt="点击刷新预览图" title="点击刷新预览图" style="height:300px;" onclick="event.stopPropagation();src=src+'?'+Math.random()*5;"></p><h2 id="15-樱道随机图片API接口"><a href="#15-樱道随机图片API接口" class="headerlink" title="15 樱道随机图片API接口"></a>15 樱道随机图片API接口</h2><p>樱道这里有非常多的系列可以选择，包含二次元与三次元</p><p>二次元动漫综合系列、赛马娘系列、东京食尸鬼系列、Fate系列、为美好世界献上祝福系列、某科学的超电磁炮系列、原神系列、我的世界系列、神奇宝贝系列、龙珠系列、罪恶王冠系列、鬼灭之刃系列、火影忍者系列、海贼王系列、进击的巨人系列、从零开始的异世界生活系列、刀剑神域系列、钢之炼金术师系列、妖精的尾巴系列、缘之空系列、东方project系列、猫娘系列、风景系列、物语系列、少女前线系列、明日方舟系列、重装战姬系列、P站系列、CG系列、守望先锋系列、王者荣耀系列、少女写真系列、橘里橘气系列<br>这些系列里面还有细分，超级精细</p><p>这里以二次元动漫综合系列的动漫综合1为例：</p><p><a href="https://api.r10086.com/%E6%A8%B1%E9%81%93%E9%9A%8F%E6%9C%BA%E5%9B%BE%E7%89%87api%E6%8E%A5%E5%8F%A3.php?%E5%9B%BE%E7%89%87%E7%B3%BB%E5%88%97=%E5%8A%A8%E6%BC%AB%E7%BB%BC%E5%90%881">https://api.r10086.com/%E6%A8%B1%E9%81%93%E9%9A%8F%E6%9C%BA%E5%9B%BE%E7%89%87api%E6%8E%A5%E5%8F%A3.php?%E5%9B%BE%E7%89%87%E7%B3%BB%E5%88%97=%E5%8A%A8%E6%BC%AB%E7%BB%BC%E5%90%881</a></p><p style="text-align:center;"><img src="../../../../loading2.svg" data-original="https://api.r10086.com/%E6%A8%B1%E9%81%93%E9%9A%8F%E6%9C%BA%E5%9B%BE%E7%89%87api%E6%8E%A5%E5%8F%A3.php?%E5%9B%BE%E7%89%87%E7%B3%BB%E5%88%97=%E5%8A%A8%E6%BC%AB%E7%BB%BC%E5%90%881" height="300" alt="点击刷新预览图" title="点击刷新预览图" style="height:300px;" onclick="event.stopPropagation();src=src+'&amp;'+Math.random()*5;"></p><p>还有少女写真系列里面的COS系列：</p><p><a href="https://api.r10086.com/%E6%A8%B1%E9%81%93%E9%9A%8F%E6%9C%BA%E5%9B%BE%E7%89%87api%E6%8E%A5%E5%8F%A3.php?%E5%9B%BE%E7%89%87%E7%B3%BB%E5%88%97=%E5%B0%91%E5%A5%B3%E5%86%99%E7%9C%9F1S">https://api.r10086.com/%E6%A8%B1%E9%81%93%E9%9A%8F%E6%9C%BA%E5%9B%BE%E7%89%87api%E6%8E%A5%E5%8F%A3.php?%E5%9B%BE%E7%89%87%E7%B3%BB%E5%88%97=%E5%B0%91%E5%A5%B3%E5%86%99%E7%9C%9F1S</a></p><p style="text-align:center;"><img src="../../../../loading2.svg" data-original="https://api.r10086.com/%E6%A8%B1%E9%81%93%E9%9A%8F%E6%9C%BA%E5%9B%BE%E7%89%87api%E6%8E%A5%E5%8F%A3.php?%E5%9B%BE%E7%89%87%E7%B3%BB%E5%88%97=%E5%B0%91%E5%A5%B3%E5%86%99%E7%9C%9F1" height="300" alt="点击刷新预览图" title="点击刷新预览图" style="height:300px;" onclick="event.stopPropagation();src=src+'&amp;'+Math.random()*5;""></p><h2 id="16-搏天api"><a href="#16-搏天api" class="headerlink" title="16 搏天api"></a>16 搏天api</h2><p>这里面还有其他的接口，比如随机动漫头像之类的</p><p><a href="https://api.btstu.cn/sjbz/api.php">https://api.btstu.cn/sjbz/api.php</a></p><p>三次元图片</p><p>名称 必填 类型 说明<br>  method 否 string 输出壁纸端[mobile|pc|zsy]默认为pc<br>  lx 否 string 选择输出分类[meizi|dongman|fengjing|suiji]，为空随机输出<br>  format 否 string 输出壁纸格式[json|images]默认为images</p><p style="text-align:center;"><span style="font-size:16px;"><img src="../../../../loading2.svg" data-original="https://api.btstu.cn/sjbz/api.php?lx=dongman&format=images" height="300" alt="点击刷新预览图" title="点击刷新预览图" style="height:300px;" onclick="event.stopPropagation();src=src+'?'+Math.random()*5;"></span></p><h2 id="17-小C的每日漫图介绍页的随机图"><a href="#17-小C的每日漫图介绍页的随机图" class="headerlink" title="17 小C的每日漫图介绍页的随机图"></a>17 小C的每日漫图介绍页的随机图</h2><p><a href="https://pixiv.xiaoc.cn/v1/img/random?vertical=1">https://pixiv.xiaoc.cn/v1/img/random?vertical=1</a></p><p>返回json格式，包含图片标题、pid、作者和图片链接，vertical&#x3D;1表示只有竖图</p><h2 id="18-Jitsuの随机涩图API-docs-anosu-top"><a href="#18-Jitsuの随机涩图API-docs-anosu-top" class="headerlink" title="18 Jitsuの随机涩图API(docs.anosu.top)"></a>18 Jitsuの随机涩图API(docs.anosu.top)</h2><p>具体使用就看文档吧，可以返回json，可以直接返回图片，可以加tag标签、r18等参数等等。</p><p><a href="https://docs.anosu.top/intro/params.html">请求参数 | API Docs (anosu.top)</a></p><p style="text-align:center;"><img src="../../../../loading2.svg" data-original="https://image.anosu.top/pixiv/direct" height="300" alt="点击刷新预览图" title="点击刷新预览图" align onclick="event.stopPropagation();src=src+'?'+Math.random()*5;" style="height:300px;"></p><pre class="line-numbers language-python" data-language="python"><code class="language-python">收录来自群里传的梗：可以看到只不过是把r18参数设为了<span class="token number">1</span>然后标签做了对应以下链接<span class="token number">100</span><span class="token operator">%</span>出现涩图请用浏览器打开链接新年第一天大家祝大家冲个痛快https<span class="token punctuation">:</span><span class="token operator">//</span>image<span class="token punctuation">.</span>anosu<span class="token punctuation">.</span>top<span class="token operator">/</span>pixiv<span class="token operator">/</span>direct?r18<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>keyword<span class="token operator">=</span>azurlane碧蓝航线涩图https<span class="token punctuation">:</span><span class="token operator">//</span>image<span class="token punctuation">.</span>anosu<span class="token punctuation">.</span>top<span class="token operator">/</span>pixiv<span class="token operator">/</span>direct?r18<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>keyword<span class="token operator">=</span>bluearchive碧蓝档案涩图https<span class="token punctuation">:</span><span class="token operator">//</span>image<span class="token punctuation">.</span>anosu<span class="token punctuation">.</span>top<span class="token operator">/</span>pixiv<span class="token operator">/</span>direct?r18<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>keyword<span class="token operator">=</span>genshinimpact原神涩图https<span class="token punctuation">:</span><span class="token operator">//</span>image<span class="token punctuation">.</span>anosu<span class="token punctuation">.</span>top<span class="token operator">/</span>pixiv<span class="token operator">/</span>direct?r18<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>keyword<span class="token operator">=</span>arknights明日方舟涩图https<span class="token punctuation">:</span><span class="token operator">//</span>image<span class="token punctuation">.</span>anosu<span class="token punctuation">.</span>top<span class="token operator">/</span>pixiv<span class="token operator">/</span>direct?r18<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>keyword<span class="token operator">=</span>honkai崩坏三涩图https<span class="token punctuation">:</span><span class="token operator">//</span>image<span class="token punctuation">.</span>anosu<span class="token punctuation">.</span>top<span class="token operator">/</span>pixiv<span class="token operator">/</span>direct?r18<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>keyword<span class="token operator">=</span>fate命运涩图https<span class="token punctuation">:</span><span class="token operator">//</span>image<span class="token punctuation">.</span>anosu<span class="token punctuation">.</span>top<span class="token operator">/</span>pixiv<span class="token operator">/</span>direct?r18<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>keyword<span class="token operator">=</span>frontline少女前线涩图https<span class="token punctuation">:</span><span class="token operator">//</span>image<span class="token punctuation">.</span>anosu<span class="token punctuation">.</span>top<span class="token operator">/</span>pixiv<span class="token operator">/</span>direct?r18<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>keyword<span class="token operator">=</span>princess公主连接涩图https<span class="token punctuation">:</span><span class="token operator">//</span>image<span class="token punctuation">.</span>anosu<span class="token punctuation">.</span>top<span class="token operator">/</span>pixiv<span class="token operator">/</span>direct?r18<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>keyword<span class="token operator">=</span>idolmaster偶像大师涩图https<span class="token punctuation">:</span><span class="token operator">//</span>image<span class="token punctuation">.</span>anosu<span class="token punctuation">.</span>top<span class="token operator">/</span>pixiv<span class="token operator">/</span>direct?r18<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>keyword<span class="token operator">=</span>hololive皮套人涩图https<span class="token punctuation">:</span><span class="token operator">//</span>image<span class="token punctuation">.</span>anosu<span class="token punctuation">.</span>top<span class="token operator">/</span>pixiv<span class="token operator">/</span>direct?r18<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>keyword<span class="token operator">=</span>touhou东方涩图<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="19-Jitsuの随机涩图API-img-jitsu-top"><a href="#19-Jitsuの随机涩图API-img-jitsu-top" class="headerlink" title="19 Jitsuの随机涩图API(img.jitsu.top)"></a>19 Jitsuの随机涩图API(img.jitsu.top)</h2><p><a href="https://blog.jitsu.top/archives/3/" style="white-space:normal;"><span style="font-size:16px;">随机涩图API——随机返回我老婆（ - 迷途之旅 (jitsu.top)</span></a></p><p>这个也可以指定参数，调整图片大小，选择图片类型等，详见使用文档</p><p><a href="https://img.jitsu.top/#/instruction/?id=%e8%b0%83%e7%94%a8%e7%a4%ba%e4%be%8b"><span style="font-size:16px;">使用说明 - 随机漫图API 使用文档 (jitsu.top)</span></a></p><p><a href="https://moe.jitsu.top/api">https://moe.jitsu.top/api</a></p><p><a href="https://moe.jitsu.top/r18">https://moe.jitsu.top/r18</a></p><p style="text-align:center;"><img src="../../../../loading2.svg" data-original="https://moe.jitsu.top/api" height="300" alt="点击刷新预览图" title="点击刷新预览图" align onclick="event.stopPropagation();src=src+'?'+Math.random()*5;" style="height:300px;"></p><h2 id="20-零七生活API"><a href="#20-零七生活API" class="headerlink" title="20 零七生活API"></a>20 零七生活API</h2><p><a href="https://api.oick.cn/random/api.php">https://api.oick.cn/random/api.php</a></p><p>可以加参数?type&#x3D;pc或者?type&#x3D;pe，表示电脑图或者手机图（横图和竖图）</p><p style="text-align:center;"><img src="../../../../loading2.svg" data-original="https://api.oick.cn/random/api.php" height="300" alt="点击刷新预览图" title="点击刷新预览图" align onclick="event.stopPropagation();src=src+'?'+Math.random()*5;" style="height:300px;"></p><h2 id="21-桑帛云API"><a href="#21-桑帛云API" class="headerlink" title="21 桑帛云API"></a>21 桑帛云API</h2><p>这个里面也有一大堆接口，好像大部分都是用在qq群里根据别人的头像生成表情包的，也有一些随机图随机视频啥的，详情可以点进去看。</p><p>随机二次元动漫图</p><p><a href="https://api.lolimi.cn/API/dmt/api.php?type=image">https://api.lolimi.cn/API/dmt/api.php?type=image</a></p><p style="text-align:center;"><img src="../../../../loading2.svg" data-original="https://api.lolimi.cn/API/dmt/api.php?type=image" height="300" alt="点击刷新预览图" title="点击刷新预览图" onclick="event.stopPropagation();src=src+'&amp;'+Math.random()*5;" style="height:300px;"></p><p>随机原神壁纸，返回来的是 text</p><p><a href="https://api.lolimi.cn/API/yuan/?type=text">https://api.lolimi.cn/API/yuan/?type=text</a></p><p>点击刷新预览图</p><h2 id="22-星河随机图片API"><a href="#22-星河随机图片API" class="headerlink" title="22 星河随机图片API"></a>22 星河随机图片API</h2><p>最近有更新的API</p><p>图片都是webp格式，速度很快</p><p>使用说明：随机图片API | ASXE &#x3D; 月落星沉</p><p>旧API：</p><p><a href="https://api.lovezyc.club/random.php">https://api.lovezyc.club/random.php</a></p><p>新API：</p><p><a href="https://api.asxe.vip/random.php">https://api.asxe.vip/random.php</a></p><p style="text-align:center;"><img src="../../../../loading2.svg" data-original="https://api.asxe.vip/random.php" height="300" alt="点击刷新预览图" title="点击刷新预览图" align onclick="event.stopPropagation();src=src+'?'+Math.random()*5;" style="height:300px;"></p><p>二次元风景：</p><p><a href="https://api.asxe.vip/scenery.php">https://api.asxe.vip/scenery.php</a></p><p style="text-align:center;"><img src="../../../../loading2.svg" data-original="https://api.asxe.vip/scenery.php" height="300" alt="点击刷新预览图" title="点击刷新预览图" align onclick="event.stopPropagation();src=src+'?'+Math.random()*5;" style="height:300px;"></p><h2 id="23-LoliAPI-LoliAPI"><a href="#23-LoliAPI-LoliAPI" class="headerlink" title="23 LoliAPI | LoliAPI"></a>23 LoliAPI | LoliAPI</h2><p>有自适应二次元图片，手机端和PC端，随机二次元头像等。</p><p>二次元自适应：</p><p><a href="https://www.loliapi.com/acg/">https://www.loliapi.com/acg/</a></p><p style="text-align:center;"><img src="../../../../loading2.svg" data-original="https://www.loliapi.com/acg/" height="300" alt="点击刷新预览图" title="点击刷新预览图" align onclick="event.stopPropagation();src=src+'?'+Math.random()*5;" style="height:300px;"></p><p>二次元头像：</p><p><a href="https://www.loliapi.com/acg/pp/">https://www.loliapi.com/acg/pp/</a></p><p style="text-align:center;"><img src="../../../../loading2.svg" data-original="https://www.loliapi.com/acg/pp/" height="300" alt="点击刷新预览图" title="点击刷新预览图" align onclick="event.stopPropagation();src=src+'?'+Math.random()*5;" style="height:300px;"></p><h2 id="24-魅影随机图片API"><a href="#24-魅影随机图片API" class="headerlink" title="24 魅影随机图片API"></a>24 魅影随机图片API</h2><p>有二次元图，三次元图，风景图和必应图，可以通过category选择</p><p>type可以选择直接302跳转图片地址或者返回xml或者返回json等。</p><p>二次元自适应随机图</p><p><a href="https://tuapi.eees.cc/api.php?category=dongman&amp;type=302">https://tuapi.eees.cc/api.php?category=dongman&amp;type=302</a></p><p style="text-align:center;"><img src="../../../../loading2.svg" data-original="https://tuapi.eees.cc/api.php?category=dongman&type=302" height="300" alt="点击刷新预览图" title="点击刷新预览图" align onclick="event.stopPropagation();src=src+'?'+Math.random()*5;" style="height:300px;"></p><h2 id="25-赫萝随机图片API"><a href="#25-赫萝随机图片API" class="headerlink" title="25 赫萝随机图片API"></a>25 赫萝随机图片API</h2><p><a href="https://api.horosama.com/random.php">https://api.horosama.com/random.php</a></p><p>可以指定type（pc横图，mobile竖图，profile头像），format（jpg&#x2F;json）和分辨率resolution （1080p，2k，4k，small（头像适用））</p><p style="text-align:center;"><img src="../../../../loading2.svg" data-original="https://api.horosama.com/random.php" height="300" alt="点击刷新预览图" title="点击刷新预览图" align onclick="event.stopPropagation();src=src+'?'+Math.random()*5;" style="height:300px;"></p><h2 id="26-如诗的API接口"><a href="#26-如诗的API接口" class="headerlink" title="26 如诗的API接口"></a>26 如诗的API接口</h2><p>除了这个pixiv壁纸外还有单独的PC、手机、表情包少女 Menhera-chan、必应壁纸和三次元风景壁纸的接口等等</p><p><a href="https://api.likepoems.com/img/pc">https://api.likepoems.com/img/pc</a></p><p style="text-align:center;"><img src="../../../../loading2.svg" data-original="https://api.likepoems.com/img/pc" height="300" alt="点击刷新预览图" title="点击刷新预览图" align onclick="event.stopPropagation();src=src+'?'+Math.random()*5;" style="height:300px;"></p><h2 id="27-小小API"><a href="#27-小小API" class="headerlink" title="27 小小API"></a>27 小小API</h2><p>二次元（type是pc或者wap表示横图或者竖图）：</p><p><a href="https://v2.api-m.com/api/randomAcgPic?type=pc&amp;return=302">https://v2.api-m.com/api/randomAcgPic?type=pc&amp;return=302</a></p><p style="text-align:center;"><img src="../../../../loading2.svg" data-original="https://v2.api-m.com/api/randomAcgPic?type=pc&return=302" height="300" alt="点击刷新预览图" title="点击刷新预览图" align onclick="event.stopPropagation();src=src+'?'+Math.random()*5;" style="height:300px;"></p><h2 id="28-素颜API"><a href="#28-素颜API" class="headerlink" title="28 素颜API"></a>28 素颜API</h2><p>里面有原神、甘城猫猫（猫羽雫）、jk、黑丝、随机二次元等随机图，还有其他可用的api接口。</p><p>原神随机图</p><p><a href="https://api.suyanw.cn/api/ys">https://api.suyanw.cn/api/ys</a></p><p style="text-align:center;"><img src="../../../../loading2.svg" data-original="https://api.suyanw.cn/api/ys" height="300" alt="点击刷新预览图" title="点击刷新预览图" align onclick="event.stopPropagation();src=src+'?'+Math.random()*5;" style="height:300px;"></p><p>甘城猫猫随机图</p><p><a href="https://api.suyanw.cn/api/mao">https://api.suyanw.cn/api/mao</a></p><p style="text-align:center;"><img src="../../../../loading2.svg" data-original="https://api.suyanw.cn/api/mao" height="300" alt="点击刷新预览图" title="点击刷新预览图" align onclick="event.stopPropagation();src=src+'?'+Math.random()*5;" style="height:300px;"></p><p>自适应二次元随机图</p><p><a href="https://api.suyanw.cn/api/comic/api.php">https://api.suyanw.cn/api/comic/api.php</a></p><p style="text-align:center;"><img src="../../../../loading2.svg" data-original="https://api.suyanw.cn/api/comic/api.php" height="300" alt="点击刷新预览图" title="点击刷新预览图" align onclick="event.stopPropagation();src=src+'?'+Math.random()*5;" style="height:300px;"></p><h2 id="29-无铭API"><a href="#29-无铭API" class="headerlink" title="29 无铭API"></a>29 无铭API</h2><p>里面也收录了很多API，不过大部分需要免费注册之后获取key之后才能使用。</p><p>随机动漫壁纸（需要注册后免费获取key）</p><p><a href="https://jkapi.com/api/dm_wallpaper">https://jkapi.com/api/dm_wallpaper</a></p><h2 id="30-御坂API"><a href="#30-御坂API" class="headerlink" title="30 御坂API"></a>30 御坂API</h2><p>随机p站插画（支持r18与非r18）<br><a href="https://ybapi.cn/API/pixiv.php">https://ybapi.cn/API/pixiv.php</a><br>参数1<br>r18&#x3D;非必填，填true为输出r18，不填则输出非r18<br>参数2<br>type&#x3D;非必填，填text输出文本格式，不填则输出json格式</p><p>新随机二次元PC横图</p><p>请求地址：<br><a href="https://ybapi.cn/API/dmt.php">https://ybapi.cn/API/dmt.php</a></p><p>随机二次元动漫图片（输出pc端横图）<br>请求地址：<br><a href="https://ybapi.cn/API/pc_acgimg.php">https://ybapi.cn/API/pc_acgimg.php</a></p><p>随机二次元动漫图片（输出pe端竖图）<br>请求地址：<br><a href="https://ybapi.cn/API/pe_acgimg.php">https://ybapi.cn/API/pe_acgimg.php</a></p><h2 id="31-夏沫博客美图古风二次元接口"><a href="#31-夏沫博客美图古风二次元接口" class="headerlink" title="31 夏沫博客美图古风二次元接口"></a>31 夏沫博客美图古风二次元接口</h2><p>作者开了防盗链，不过应该还能给qq机器人之类的用一用</p><p>接口文档：</p><p><a href="https://cdn.seovx.com/">https://cdn.seovx.com/</a></p><p><a href="https://www.seovx.com/73.html">https://www.seovx.com/73.html</a></p><p>防盗链白名单域名授权申请：</p><p><a href="https://www.seovx.com/1480.html">https://www.seovx.com/1480.html</a></p><p>二次元：</p><p><a href="https://cdn.seovx.com/d/">https://cdn.seovx.com/d/</a></p><p><a href="https://cdn.seovx.com/d/?mom=302">https://cdn.seovx.com/d/?mom=302</a></p><p>古风：</p><p><a href="https://cdn.seovx.com/ha/">https://cdn.seovx.com/ha/</a></p><p><a href="https://cdn.seovx.com/ha/?mom=302">https://cdn.seovx.com/ha/?mom=302</a></p><h2 id="32-糖豆子API"><a href="#32-糖豆子API" class="headerlink" title="32 糖豆子API"></a>32 糖豆子API</h2><p>他家的都是返回文本，所以只能访问后再查看了。</p><p>糖豆子api <a href="http://api.tangdouz.com/">http://api.tangdouz.com/</a><br>随机二次元<a href="http://api.tangdouz.com/sjdmbz.php">http://api.tangdouz.com/sjdmbz.php</a><br>随机兽耳<a href="http://api.tangdouz.com/sjer.php">http://api.tangdouz.com/sjer.php</a><br>随机二次元竖图<a href="http://api.tangdouz.com/abz/dm.php">http://api.tangdouz.com/abz/dm.php</a><br>随机美腿<a href="http://api.tangdouz.com/mt.php">http://api.tangdouz.com/mt.php</a><br>美女图<a href="http://api.tangdouz.com/mn.php">http://api.tangdouz.com/mn.php</a></p><h2 id="33-希速云API"><a href="#33-希速云API" class="headerlink" title="33 希速云API"></a>33 希速云API</h2><p>他家现在需要 APIKey，所以暂不支持显示预览。</p><p>随机二次元</p><p><a href="https://api.sdbj.top/api/ecy?apiKey=%E4%BD%A0%E7%9A%84apikey">https://api.sdbj.top/api/ecy?apiKey=你的apikey</a></p><h2 id="34-遇见API"><a href="#34-遇见API" class="headerlink" title="34 遇见API"></a>34 遇见API</h2><p><a href="https://api.yujn.cn/">https://api.yujn.cn/</a></p><p>随机动漫图：</p><p style="text-align:center;"><img src="../../../../loading2.svg" data-original="http://api.yujn.cn/api/ecy.php" height="300" alt="点击刷新预览图" title="点击刷新预览图" align onclick="event.stopPropagation();src=src+'?'+Math.random()*5;" style="height:300px;"></p><p>高质量acg图片：</p><p style="text-align:center;"><img src="../../../../loading2.svg" data-original="http://api.yujn.cn/api/ACG.php" height="300" alt="点击刷新预览图" title="点击刷新预览图" align onclick="event.stopPropagation();src=src+'?'+Math.random()*5;" style="height:300px;"></p><p>原神图：</p><p style="text-align:center;"><img src="../../../../loading2.svg" data-original="http://api.yujn.cn/api/ys.php" height="300" alt="点击刷新预览图" title="点击刷新预览图" align onclick="event.stopPropagation();src=src+'?'+Math.random()*5;" style="height:300px;"></p><h2 id="35-最要学习API"><a href="#35-最要学习API" class="headerlink" title="35 最要学习API"></a>35 最要学习API</h2><p><a href="https://api.zylearning.top/">https://api.zylearning.top/</a></p><p>动漫壁纸：</p><p style="text-align:center;"><img src="../../../../loading2.svg" data-original="http://api.zylearning.top/api/wallpaper?lx=dm" height="300" alt="点击刷新预览图" title="点击刷新预览图" align onclick="event.stopPropagation();src=src+'?'+Math.random()*5;" style="height:300px;"></p><h2 id="36-TenAPI"><a href="#36-TenAPI" class="headerlink" title="36 TenAPI"></a>36 TenAPI</h2><p><a href="https://tenapi.cn/">https://tenapi.cn/</a></p><p>随机动漫图 <a href="https://tenapi.cn/v2/acg">https://tenapi.cn/v2/acg</a></p><p>请求示例一：</p><p style="text-align:center;"><img src="../../../../loading2.svg" data-original="https://api.qicaiyun.top/sjbz/api.php?lx=dongman" height="300" alt="点击刷新预览图" title="点击刷新预览图" align onclick="event.stopPropagation();src=src+'?'+Math.random()*5;" style="height:300px;"></p><p>请求示例二：</p><p style="text-align:center;"><img src="../../../../loading2.svg" data-original="https://api.qicaiyun.top/sjbz/api.php?method=mobile&lx=suiji" height="300" alt="点击刷新预览图" title="点击刷新预览图" align onclick="event.stopPropagation();src=src+'?'+Math.random()*5;" style="height:300px;"></p><p>请求参数说明：<br>名称    必填    类型    说明<br>method         string    mobiel(手机端),pc(电脑端)<br>lx         string    dongman(动漫壁纸),meizi(美女壁纸),fengjing(风景壁纸)suiji(动漫和美女随机)</p><h2 id="37-ALAPI"><a href="#37-ALAPI" class="headerlink" title="37 ALAPI"></a>37 ALAPI</h2><p><a href="https://www.alapi.cn/">https://www.alapi.cn/</a></p><p>随机动漫图</p><p style="text-align:center;"><img src="../../../../loading2.svg" data-original="https://v2.alapi.cn/api/acg?token=KA6k5H7oBNZavgEJ" height="300" alt="点击刷新预览图" title="点击刷新预览图" align onclick="event.stopPropagation();src=src+'?'+Math.random()*5;" style="height:300px;"></p><h2 id="38-玖逸API"><a href="#38-玖逸API" class="headerlink" title="38 玖逸API"></a>38 玖逸API</h2><p><a href="http://api.idcnow.cn/">http://api.idcnow.cn/</a></p><p>这个貌似是点进去后下载<br>二次元随机背景图：<a href="http://api.idcnow.cn/api/ecyimg.php">http://api.idcnow.cn/api/ecyimg.php</a><br>新浪反代：<a href="https://cdn.cdnjson.com/%E5%90%8E%E9%9D%A2%E5%8A%A0%E6%96%B0%E6%B5%AA%E5%9B%BE%E7%89%87%E7%9A%84%E5%9F%9F%E5%90%8D%EF%BC%8C%E4%B8%8D%E5%B8%A6https://">https://cdn.cdnjson.com/后面加新浪图片的域名，不带https://</a></p><h2 id="39-故梦API"><a href="#39-故梦API" class="headerlink" title="39 故梦API"></a>39 故梦API</h2><p><a href="https://api.gumengya.com/">https://api.gumengya.com</a></p><p>随机二次元壁纸</p><p style="text-align:center;"><img src="../../../../loading2.svg" data-original="https://api.gumengya.com/Api/DmImg?format=image" height="300" alt="点击刷新预览图" title="点击刷新预览图" align onclick="event.stopPropagation();src=src+'?'+Math.random()*5;" style="height:300px;"></p><h2 id="40-殇白API"><a href="#40-殇白API" class="headerlink" title="40 殇白API"></a>40 殇白API</h2><p><a href="http://api.caonmtx.cn/">http://api.caonmtx.cn/</a></p><p>随机动漫图片</p><p style="text-align:center;"><img src="../../../../loading2.svg" data-original="http://api.caonmtx.cn/api/dongman.php" height="300" alt="点击刷新预览图" title="点击刷新预览图" align onclick="event.stopPropagation();src=src+'?'+Math.random()*5;" style="height:300px;"></p><p>写在最后：如果你也有好的图片API，欢迎联系博主反馈！</p>]]></content>
      
      
      <categories>
          
          <category> 真正的生产力 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 二次元图片 </tag>
            
            <tag> API </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>日语动词练习——N5上</title>
      <link href="/2024/04/05/japanese-words-1/"/>
      <url>/2024/04/05/japanese-words-1/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><link rel="stylesheet" type="text/css" href="https://japanese-beta.vercel.app/words/verb/words.css"><!-- <link rel="stylesheet" type="text/css" href="./words.css"> -->写在前面：<p>本博客的主人在这段时间内学日语，这里会列举一些日语动词以便于帮助记忆，并且可以提供一些打字练习。</p><h2 id="变化规则"><a href="#变化规则" class="headerlink" title="变化规则"></a>变化规则</h2><h3 id="ます形"><a href="#ます形" class="headerlink" title="ます形"></a>ます形</h3><p>①五段动词：将结尾假名变成它同行的前一个假名后+ます</p><p>例：行く～行きます 買う～買います</p><p>②一段动词：去る＋ます</p><p>例：食べる～食べます 起きる～起きます</p><p>③カ变动词：来（く）る～来（き）ます</p><p>④サ变动词：する～します</p><p>例：勉強する～勉強します</p><p>特殊五段动词：帰る～帰ります 知る～知ります</p><p>入る～入ります 要る～要ります</p><p>切る～切ります 走る～走ります</p><h3 id="ない形"><a href="#ない形" class="headerlink" title="ない形"></a>ない形</h3><p>①五段动词：将结尾假名变成它同行的あ段上的假名后+ない。</p><p>例：行く→行かない 買う→買わない</p><p>②一段动词：去る+ない</p><p>例：食べる→食べない 起きる→起きない</p><p>③カ变动词：来る→来（こ）ない</p><p>④サ变动词：する→しない</p><p>例：勉強する→勉強しない</p><p>特殊五段动词：帰る→帰らない 知る→知らない</p><p>其它的以此类推，将る变成ら+ない</p><h3 id="て形"><a href="#て形" class="headerlink" title="て形"></a>て形</h3><p>（1）五段动词：</p><p>①く→いて ぐ→いで</p><p>例：書く→書いて 脱ぐ→脱いで</p><p>②う、つ、る为结尾的，去掉う、つ、る＋って</p><p>例：買う→買って 立つ→立って 終わる→終わって</p><p>③む、ぬ、ぶ为结尾的去掉+む、ぬ、ぶ＋んで</p><p>例：飲む→飲んで 死ぬ→死んで 飛ぶ→飛んで</p><p>④以す为结尾的す→して</p><p>例：話す→話して</p><p>（2）一段动词：去る+て</p><p>例：食べる→食べて 起きる→起きて</p><p>（3）カ变动词：来る→来（き）て</p><p>（4）サ变动词：する→して</p><p>例：勉強する→勉強して</p><p>例外：行く→行って 帰る→帰って 知る→知って</p><h3 id="た型"><a href="#た型" class="headerlink" title="た型"></a>た型</h3><p>同て型，将て变为た即可。</p><h3 id="可能形"><a href="#可能形" class="headerlink" title="可能形"></a>可能形</h3><p>①五段动词：将结尾假名变成它同行的下一个假名后+る。</p><p>例：行く→行ける 買う→買える</p><p>②一段动词：去る+られる。</p><p>例：食べる→食べられる 起きる→起きられる</p><p>③カ变动词：来る→来（こ）られる</p><p>④サ变动词：する→できる</p><p>例：勉強する→勉強できる</p><h3 id="假定形"><a href="#假定形" class="headerlink" title="假定形"></a>假定形</h3><p>①五段动词：将结尾假名变成它同行的下一个假名后+ば</p><p>例：行く→行けば 買う→買えば</p><p>②一段动词：去る+れば</p><p>例：食べる→食べれば 起きる→起きれば</p><p>③カ变动词：来る→来（く）れば</p><p>④サ变动词：する→すれば</p><p>例：散歩する→散歩すれば</p><p>⑤形容词：去い+ければ</p><p>例：安い→安ければ おいしい→おいしければ</p><p>⑥形容动词：去だ+なら</p><p>例：暇だ→暇なら 簡単だ→簡単なら</p><p>名词：名词直接+なら</p><p>例：日本人→日本人なら</p><h3 id="意向形"><a href="#意向形" class="headerlink" title="意向形"></a>意向形</h3><p>①五段动词：将结尾假名变成它同行的最后一个假名后+う</p><p>例：行く→行こう 買う→買おう</p><p>②一段动词：去る+よう</p><p>例：食べる→食べよう 起きる→起きよう</p><p>③カ变动词：来る→来（こ）よう</p><p>④サ变动词： する→しよう</p><p>例：散歩する→散歩しよう</p><h3 id="命令形"><a href="#命令形" class="headerlink" title="命令形"></a>命令形</h3><p>①五段动词：将结尾假名变成它同行的下一个假名即可.</p><p>例：行く→行け 買う→買え</p><p>②一段动词：去る+ろ</p><p>例：起きる→起きろ 食べる→食べろ</p><p>③カ变动词：来る→来（こ）い</p><p>④サ变动词：する→しろ</p><p>例：勉強する→勉強しろ</p><h3 id="禁止形"><a href="#禁止形" class="headerlink" title="禁止形"></a>禁止形</h3><p>所有词的字典形（原形、基本形）+な</p><p>例：行く→行くな 起きる→起きるな 来る→来（く）るな 勉強する→勉強するな</p><h3 id="被动形"><a href="#被动形" class="headerlink" title="被动形"></a>被动形</h3><p>①五段动词：将结尾假名变成它所在行的あ段上假名后+れる</p><p>例：踏む→踏まれる 呼ぶ→呼ばれる</p><p>②一段动词：去る+られる</p><p>例：褒める→褒められる 食べる→食べられる</p><p>③カ变动词： 来る→来（こ）られる</p><p>④サ变动词：する→される</p><p>例：発明する→発明される</p><h3 id="使役形"><a href="#使役形" class="headerlink" title="使役形"></a>使役形</h3><p>①五段动词：将结尾假名变成它所在行的あ段上假名后+せる。</p><p>例：行く→行かせる 飲む→飲ませる</p><p>②一段动词：去る+させる</p><p>例：食べる→食べさせる 起きる→起きさせる</p><p>③カ变动词：来る→来（こ）させる</p><p>④サ变动词： する→させる</p><p>例：勉強する→勉強させる</p><h2 id="练习"><a href="#练习" class="headerlink" title="练习"></a>练习</h2><p>本篇介绍 N5 他动词。具体来说，可以通过本篇内容去对动词本身记忆，以及它的变形，进行刷题练习，达到记忆的效果。接下来是关于练习的说明：</p><ul><li>这里点击按钮你要学习的词性，点击后展开，再点击关闭</li></ul><div class="flex-row-box"><button class="btn-small waves-effect waves-light" onclick="hideALine(event, 'chinese')">隐藏中文</button><button class="btn-small waves-effect waves-light" onclick="hideALine(event, 'jisyo')">隐藏字典型</button><button class="btn-small waves-effect waves-light" onclick="hideALine(event, 'masu')">隐藏ます型</button><button class="btn-small waves-effect waves-light" onclick="hideALine(event, 'te')">展开て型</button><button class="btn-small waves-effect waves-light" onclick="hideALine(event, 'nai')">展开ない型</button><button class="btn-small waves-effect waves-light" onclick="hideALine(event, 'ta')">展开た型</button><button class="btn-small waves-effect waves-light" onclick="hideALine(event, 'meirei')">展开命令型</button><button class="btn-small waves-effect waves-light" onclick="hideALine(event, 'ishi')">展开意志型</button><button class="btn-small waves-effect waves-light" onclick="hideALine(event, 'ba')">展开ば型</button><button class="btn-small waves-effect waves-light" onclick="hideALine(event, 'kanou')">展开可能型</button><button class="btn-small waves-effect waves-light" onclick="hideALine(event, 'ukemi')">展开被动型</button><button class="btn-small waves-effect waves-light" onclick="hideALine(event, 'shieki')">展开使役型</button></div><ul><li>这里点击测试按钮，可以测试一下自己是否能正确打出单词，会以选择的词性为判断正确答案</li></ul><div class="flex-row-box"><button class="btn-small waves-effect waves-light" onclick="changeHeimuStatus('chinese')">测试中文</button><button class="btn-small waves-effect waves-light" onclick="changeHeimuStatus('jisyo')">测试字典型</button><button class="btn-small waves-effect waves-light" onclick="changeHeimuStatus('masu')">测试ます型</button><button class="btn-small waves-effect waves-light" onclick="changeHeimuStatus('te')">测试て型</button><button class="btn-small waves-effect waves-light" onclick="changeHeimuStatus('nai')">测试ない型</button><button class="btn-small waves-effect waves-light" onclick="changeHeimuStatus('ta')">测试た型</button><button class="btn-small waves-effect waves-light" onclick="changeHeimuStatus('meirei')">测试命令型</button><button class="btn-small waves-effect waves-light" onclick="changeHeimuStatus('ishi')">测试意志型</button><button class="btn-small waves-effect waves-light" onclick="changeHeimuStatus('ba')">测试ば型</button><button class="btn-small waves-effect waves-light" onclick="changeHeimuStatus('kanou')">测试可能型</button><button class="btn-small waves-effect waves-light" onclick="changeHeimuStatus('ukemi')">测试被动型</button><button class="btn-small waves-effect waves-light" onclick="changeHeimuStatus('shieki')">测试使役型</button></div><div class="test-mode">当前测试模式：无</div><div class="japanese-words"></div><script src="https://cdn.jsdelivr.net/npm/kuroshiro@1.1.0/dist/kuroshiro.min.js"></script><script src="https://cdn.jsdelivr.net/npm/kuroshiro-analyzer-kuromoji@1.1.0/dist/kuroshiro-analyzer-kuromoji.min.js"></script><script src="https://japanese-beta.vercel.app/words/verb/words.js"></script><!-- <script src="./words.js"></script> --><script>  process('n5t');</script><div align="center">  <img src="../../../../loading2.svg" data-original="/2024/04/05/japanese-words-1/1.webp"></div>]]></content>
      
      
      <categories>
          
          <category> 日语学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 日本語 </tag>
            
            <tag> 动词 </tag>
            
            <tag> 自动化测试 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>N4 日语部分语法点归总</title>
      <link href="/2024/02/09/japanese-grammar-1/"/>
      <url>/2024/02/09/japanese-grammar-1/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><blockquote><p>本文会不定期打补丁。本文引用了部分公开于互联网的信息，若部分内容对您的著作权等权利造成了侵犯，请及时联系我，我会核实后及时删除这部分内容。</p></blockquote><p>我们一般说 N4N5 两个级别，是日语的初级级别。这个级别相对来说学习的语法比较简单，单词也很多都是在日常当中出现的比较多的。这其中，N5 的考试标准是学完新标准日本语初级上册，N4 的考试标准是学完新标准日本语上下册，比 N5 多了一本书。N5 需要学完一本书，词汇量大概在 1200 左右。</p><p>作为参考，官方对 N4 给出了这样的定义：</p><p>读：能够阅读和理解由基本词汇及汉字所组成的讲述日常生活中最熟悉话题的文章。<br>听：能够大致听懂语速稍慢的日常会话。</p><p>听的部分，后面会和之前英语一样，整理几篇学习的资料。不过，这个方面应该各位喜欢二次元的同好如果抱着对二次元的热爱，从学习的角度出发去一边训练听力，一边追求爱好，那进步应该会更加潜移默化一些。</p><p>在笔者看来，如果把初级语法定义为「稍微会一点」日语的门槛，这个门槛进入之后，对于日语的理解对于完全的小白来说，会有个完全不一样的认知。也拥有了所谓自学的能力。初级的语法中，相对比较难的部分，就放在了 N4。因此从 N4 开始，我会对所有的语法进行总结，从而让我自己能对知识进行快速定位。</p><h2 id="第一类：名词类"><a href="#第一类：名词类" class="headerlink" title="第一类：名词类"></a>第一类：名词类</h2><h3 id="规律汇总"><a href="#规律汇总" class="headerlink" title="规律汇总"></a>规律汇总</h3><h4 id="名词：N-二类形容词：A2"><a href="#名词：N-二类形容词：A2" class="headerlink" title="名词：N &#x2F; 二类形容词：A2"></a>名词：N &#x2F; 二类形容词：A2</h4><p>N＋の＋N・A2＋な＋N</p><p>Nではない＋N・A2ではない＋N</p><p>Nだった＋N・A2だった＋N</p><p>Nではなかった＋N・A2ではなかった＋N</p><h4 id="一类形容词：A1"><a href="#一类形容词：A1" class="headerlink" title="一类形容词：A1"></a>一类形容词：A1</h4><p>A1い＋N</p><p>A1くない＋N</p><p>A1かった＋N</p><p>A1くなかった＋N</p><h4 id="动词：する"><a href="#动词：する" class="headerlink" title="动词：する"></a>动词：する</h4><p>动词普通型+N</p><p>する＋N</p><p>しない＋N</p><p>した＋N</p><p>しなかった＋N</p><h3 id="详细介绍"><a href="#详细介绍" class="headerlink" title="详细介绍"></a>详细介绍</h3><h4 id="つもり、予定"><a href="#つもり、予定" class="headerlink" title="つもり、予定"></a>つもり、予定</h4><p>〜つもり：打算</p><p>留学のつもり。打算留学。</p><p>タバコを吸わないつもり。不打算抽烟。</p><p>〜予定 计划（比つもり正式,有具体的安排）</p><p>一週間滞在の予定です。计划逗留一周。</p><p>出張する予定。计划出差。</p><h4 id="はず"><a href="#はず" class="headerlink" title="はず"></a>はず</h4><p>〜はず：照理说应该 客观推断</p><p>行くはず、行かないはず、綺麗なはず、忙しいはず</p><p>留守のはず</p><p>その単語は先週勉強したはずですが、忘れてしまいました。那个单词应该上周学过的，但现在却忘了。</p><h4 id="ほうがいい、たらどうですか"><a href="#ほうがいい、たらどうですか" class="headerlink" title="ほうがいい、たらどうですか"></a>ほうがいい、たらどうですか</h4><p>均表示某种「提议」。</p><p>〜ほうがいい：我建议你还是…的好</p><p>タバコは止めたほうがいいです。我建议你香烟还是别抽的好</p><p>飲まないほうがいいです。 我建议你还是不要吃的好</p><p>注意这个意思和后面的〜たらどうですか意思是差不多的。这个相比于〜たらどうですか更为委婉。</p><p>〜たらどうですか：「…那样做怎么样」，表示提议或劝诱。这种意思下，どうですか是可以省略的内容，尤其是在口语中。</p><p>吉田君、パーティーには出席しないって。吉田说他不来参加宴会了。</p><p>もう一度誘ってみたら。你再邀请他一次吧。</p><h4 id="とおりに"><a href="#とおりに" class="headerlink" title="とおりに"></a>とおりに</h4><p>〜とおりに〜　按照、照着</p><p>彼が言ったとおりに、やってください。请照着他说的做</p><p>見たとおりに、話してください。请把你看见的说出来</p><p>説明書のとおりに、組み立てました。按说明书进行了组装</p><h4 id="あとで"><a href="#あとで" class="headerlink" title="あとで"></a>あとで</h4><p>〜あとで：之后</p><p>ご飯を食べたあとで散歩します。吃饭之后散步。</p><p>食事のあとで、散歩します。吃饭之后散步。</p><h4 id="ように、ような"><a href="#ように、ような" class="headerlink" title="ように、ような"></a>ように、ような</h4><p>ように有多重意思。注意不要和よう搞混了。</p><ol><li>Ａ（非意志Vる／Vない）+ように：为了（〜ようになる、〜ようにする）。前面跟的动词不能是「意志动词」。</li></ol><p>家が買えるように、貯金します。为了买房而存钱。</p><blockquote><p>意志动词：只要动词无法以「たい、ましょう、ください、てもいいです、なければなりません、禁止形」等方式表现时就是「非意志动词」。</p></blockquote><blockquote><p>接續「ために」時，前面是放「意志動詞」或「名詞」，因此形成以下這種句型：「Ａ（意志Vる／名詞の）＋ために＋Ｂます」。</p></blockquote><ol start="2"><li>Ａのように〜：表示比喻，跟…一样。&#x3D; ような</li></ol><p>数学の先生は鬼婆のように怖いです。数学老师像鬼婆婆一样可怕。</p><ol start="3"><li>V原／Vない＋ようになりました：表示能力变化。</li></ol><p>生のものも食べ慣れるようになりました。可以吃生的东西了（以前吃不了生的东西、以前没有的东西现在变得有了）</p><ol start="4"><li>V原／Vない＋ようにしています：表示受到影响习惯的或持续努力的动作。</li></ol><p>毎日運動して、何でも食べるようにしています。我每天运动，这让我什么都吃。（表示有一个持续性的的动作，表示习惯的或持续努力的动作）</p><ol start="5"><li>V原／Vない＋ようにする：表示将某行为设置为目标并且努力去做到。</li></ol><p>仕事内容と経歴を整理して、すぐに答えられるようにした。整理工作内容与经历，以便于能马上就回答问题。</p><ol start="6"><li>V原／Vない+ようにしてください：比较客气的叮嘱对方。</li></ol><p>遅刻しないようにしてください。请不要迟到哦！</p><ol start="7"><li>V原／Vない+ように：表示希望。</li></ol><p>后多接「祈る、願う、望む、祈念する」等表示期望的动词。但是也可以不接，直接放在结尾。</p><p>皆さんが日本語能力試験に合格できますように。希望大家的日语能力测验都能合格。</p><p>早く回復するよう祈っています。祝你早日康复。</p><h4 id="ために"><a href="#ために" class="headerlink" title="ために"></a>ために</h4><p>〜ために：为了。和おうに其中一个用法是一样的。</p><p>日本語を勉強するために。为了学习日语。</p><p>人は何のために生きているのだろう？人是为什么而活的呢？</p><h4 id="のは、のを、のが"><a href="#のは、のを、のが" class="headerlink" title="のは、のを、のが"></a>のは、のを、のが</h4><p>〜のは、のを、のが就是动词的名词化</p><p>テニスをするのは面白い　打网球很有趣</p><p>歩くのが速い　走路很快</p><p>バナナを買うのを忘れた　忘了买香蕉</p><h4 id="途中で"><a href="#途中で" class="headerlink" title="途中で"></a>途中で</h4><p>〜途中で　~的路上</p><p>学校へ行く途中で 去学校的路上</p><p>ジョギングの途中で  跑步的路上</p><h4 id="ところ・ばかり"><a href="#ところ・ばかり" class="headerlink" title="ところ・ばかり"></a>ところ・ばかり</h4><p>〜ところ 正要（强调瞬间完成的事情）</p><p>これから大阪へ行くところです。我这就去大阪</p><p>〜ばかり：た形＋ばかり 表示刚刚（相比ところ时间拉的更长一些，只要说话者觉得时间短就行）</p><p>先週会社に入ったばかりですから、何もわかりません。我上周刚进公司，啥都不懂</p><p>ばかり还有总是…、都是…、一味…的意思。具体表示什么意思得看接续：</p><p>N＋ばかり：表示「都是」的意思。</p><p>ここ数日、雨ばかりね。这几天一直在下雨呢。</p><p>て形＋ばかりいる／Nばかり～ている：一直，总是（大概率表示负面意思）</p><p>食べてばかりいると、太りますよ。如果一直吃，就会发胖哦。</p><p>彼はいつも嘘ばかりついているから、信用されていない。因为他总是在撒谎，所以不被信任。</p><h4 id="場合は"><a href="#場合は" class="headerlink" title="場合は"></a>場合は</h4><p>〜場合は  在~~的时候 (各类词的接续)</p><p>雨の場合は　在下雨的时候</p><p>必要な場合は　在需要的时候</p><p>調子が悪い場合は　状态不好的时候</p><p>遅れた場合は　迟到了的时候</p><p>なければならない場合は　不得已的时候</p><h4 id="まま"><a href="#まま" class="headerlink" title="まま"></a>まま</h4><p>意思：保持原样</p><p>昨日は電気をつけたまま寝てしまった。昨天我开着灯睡着了。</p><p>これは生のままでも食べられますか？这个可以生吃吗？</p><h4 id="ことがある、ことになる、ことにする"><a href="#ことがある、ことになる、ことにする" class="headerlink" title="ことがある、ことになる、ことにする"></a>ことがある、ことになる、ことにする</h4><p>ことがある、ことになる、ことにする前面均接动词终止形。</p><p>ことになる、ことにする的区别是「是否为自己强烈的意志做决定」。</p><p>ことがある：有时也会</p><p>私は会議中でも、寝てしまうことがある。我在开会时，偶尔也会不小心睡着。</p><p>ことになる：尽管不是自己决定的，委婉地表达自己将要做某事</p><p>多数決の結果、次の生徒会長は僕がすることになった。根据多数票的结果，我将成为下一任学生会长。</p><p>ことにする：表达自己决定将要做某事。</p><p>ダイエットのために、お菓子をやめることにします。为了减肥，我决定戒掉甜食。</p><h2 id="第二类：动词变形类"><a href="#第二类：动词变形类" class="headerlink" title="第二类：动词变形类"></a>第二类：动词变形类</h2><h3 id="可能型"><a href="#可能型" class="headerlink" title="可能型"></a>可能型</h3><p>表示能够进行某种动作。与“〜ことができます”意义相同。</p><p>一类动词：う段 ⇒  え段 ＋ る (基本形的最后一个音变成相应的“え”段上的音，再加“る”)</p><p>二类动词：る ⇒ られる (基本形的“る”变成“られる”)</p><p>三类动词：来る ⇒ 来られる、する ⇒ できる</p><table align="center" border="1" cellpadding="1" cellspacing="1" style="width:573px;"><caption>   <strong><span>动词可能形式变化规则</span></strong>  </caption><tbody><tr><td style="width:78px;"><strong>类形</strong></td><td style="width:122px;"><strong>基本形</strong></td><td style="width:171px;"><strong>可能形式(基本形)</strong></td><td style="width:199px;"><strong>可能形式(ます形)</strong></td></tr><tr><td colspan="1" rowspan="2" style="width:78px;">一类动词</td><td style="width:122px;">書く (かく)</td><td style="width:171px;">書ける(かける)</td><td style="width:199px;">書けます(かけます)</td></tr><tr><td style="width:122px;">読む (よむ)</td><td style="width:171px;">読める(読める)</td><td style="width:199px;">読めます(よめます)</td></tr><tr><td colspan="1" rowspan="2" style="width:78px;">二类动词</td><td style="width:122px;">食べる (たべる)</td><td style="width:171px;">食べられる (たべられる)</td><td style="width:199px;">食べられます(たべられます)</td></tr><tr><td style="width:122px;">見る (みる)</td><td style="width:171px;"> <p>見られる (みられる)</p> </td><td style="width:199px;">見られます(みられます)</td></tr><tr><td colspan="1" rowspan="2" style="width:78px;">三类动词</td><td style="width:122px;">来る (くる)</td><td style="width:171px;">来られる(こられる)</td><td style="width:199px;"> <p>来られます(こられます)</p> </td></tr><tr><td style="width:122px;">する</td><td style="width:171px;">できる</td><td style="width:199px;">できます</td></tr></tbody></table><h3 id="命令型"><a href="#命令型" class="headerlink" title="命令型"></a>命令型</h3><p>说话人对听话人下达命令的表达形式。</p><p>一类动词：う段 ⇒  え段 (基本形的最后一个音变成相应的“え”段上的音)</p><p>二类动词：る ⇒ ろ (基本形的“る”变成“ろ”)  ★  “くれる”的命令形是例外，为“くれ”。</p><p>三类动词：来る ⇒ 来い、する ⇒ しろ</p><table align="center" border="1" cellpadding="1" cellspacing="1" style="width:500px;"><caption>   <strong><span>动词命令形变化规则</span></strong>  </caption><tbody><tr><td><strong>类形</strong></td><td><strong>基本形</strong></td><td><strong>命令形</strong></td></tr><tr><td colspan="1" rowspan="2" style="width:144px;">一类动词</td><td style="width:143px;">書く (かく)</td><td style="width:241px;">書け (かけ)</td></tr><tr><td style="width:143px;">読む (よむ)</td><td style="width:241px;">読め (よめ)</td></tr><tr><td colspan="1" rowspan="3" style="width:144px;">二类动词</td><td style="width:143px;">食べる (たべる)</td><td style="width:241px;">食べろ (たべろ)</td></tr><tr><td style="width:143px;">見る (みる)</td><td style="width:241px;">見ろ (みろ)</td></tr><tr><td style="width:143px;"><span><strong>くれる</strong></span></td><td style="width:241px;"><span><strong>くれ</strong></span></td></tr><tr><td colspan="1" rowspan="2" style="width:144px;">三类动词</td><td style="width:143px;">来る (くる)</td><td style="width:241px;">来い (こい)</td></tr><tr><td style="width:143px;">する</td><td style="width:241px;">しろ</td></tr></tbody></table><h3 id="意志型"><a href="#意志型" class="headerlink" title="意志型"></a>意志型</h3><p>说话人当场表示自己的决心、意志。</p><p>一类动词：う段 ⇒  お段 ＋ う(基本形的最后一个音变成相应的“お”段上的长音)</p><p>二类动词：る ⇒ よう (基本形的“る”变成“よう”)</p><p>三类动词：来る ⇒ 来よう、する ⇒ しよう</p><table align="center" border="1" cellpadding="1" cellspacing="1" style="width:500px;"><caption>   <strong><span>动词意志形变化规则</span></strong>  </caption><tbody><tr><td><strong>类形</strong></td><td style="width:154px;"><strong>基本形</strong></td><td style="width:207px;"><strong>意志形</strong></td></tr><tr><td colspan="1" rowspan="2" style="width:144px;">一类动词</td><td style="width:154px;">書く (かく)</td><td style="width:207px;">書こう (かこう)</td></tr><tr><td style="width:154px;">読む (よむ)</td><td style="width:207px;">読もう (よもう)</td></tr><tr><td colspan="1" rowspan="2" style="width:144px;">二类动词</td><td style="width:154px;">食べる (たべる)</td><td style="width:207px;">食べよう (たべよう)</td></tr><tr><td style="width:154px;">見る (みる)</td><td style="width:207px;">見よう (みよう)</td></tr><tr><td colspan="1" rowspan="2" style="width:144px;">三类动词</td><td style="width:154px;">来る (くる)</td><td style="width:207px;">来よう (こよう)</td></tr><tr><td style="width:154px;">する</td><td style="width:207px;">しよう</td></tr></tbody></table><h3 id="ば形、假定型"><a href="#ば形、假定型" class="headerlink" title="ば形、假定型"></a>ば形、假定型</h3><p>表示假定条件时(如果…)。ば形有“动词ば形”和“一类形容词ば形”。</p><p>一类动词：う段 ⇒  え段 ＋ ば (基本形的最后一个音变成相应的“え”段上的音，再加“ば”)</p><p>二类动词：る ⇒ れば (基本形的“る”变成“れば”)</p><p>三类动词：来る ⇒ 来れば、する ⇒ すれば</p><table align="center" border="1" cellpadding="1" cellspacing="1" style="width:500px;"><caption>   <strong><span>动词ば形变化规则</span></strong>  </caption><tbody><tr><td><strong>类形</strong></td><td style="width:145px;"><strong>基本形</strong></td><td style="width:239px;"><strong>ば形</strong></td></tr><tr><td colspan="1" rowspan="2" style="width:144px;">一类动词</td><td style="width:145px;">書く (かく)</td><td style="width:239px;">書けば (かけば)</td></tr><tr><td style="width:145px;">読む (よむ)</td><td style="width:239px;">読めば (よめば)</td></tr><tr><td colspan="1" rowspan="2" style="width:144px;">二类动词</td><td style="width:145px;">食べる (たべる)</td><td style="width:239px;">食べれば (たべれば)</td></tr><tr><td style="width:145px;">見る (みる)</td><td style="width:239px;"> <p>見れば (みれば)</p> </td></tr><tr><td colspan="1" rowspan="2" style="width:144px;">三类动词</td><td style="width:145px;">来る (くる)</td><td style="width:239px;">来れば (<strong>くれば</strong>)</td></tr><tr><td style="width:145px;">する</td><td style="width:239px;">すれば</td></tr></tbody></table><p>除了动词，一类形容词也拥有假定型：把词尾的“い” ⇒ “ければ”</p><table align="center" border="1" cellpadding="1" cellspacing="1" style="width:500px;"><caption>   <strong><span>一类形容词ば形变化规则</span></strong>  </caption><tbody><tr><td style="width:116px;"><strong>类形</strong></td><td style="width:169px;"><strong>基本形</strong></td><td style="width:216px;"><strong>ば形</strong></td></tr><tr><td colspan="1" rowspan="2" style="width:116px;">一类形容词</td><td style="width:169px;">ない </td><td style="width:216px;">なければ</td></tr><tr><td style="width:169px;">楽しい (たのしい)</td><td style="width:216px;">楽しければ (たのしければ)</td></tr></tbody></table><p>〜ばよかった: はあ、こんなもの買わなければよかった。損した。啊，要是没买这个东西就好了。真吃亏。</p><h3 id="被动型"><a href="#被动型" class="headerlink" title="被动型"></a>被动型</h3><p>表示作主语的人或者事物承受某种动作或影响</p><p>一类动词：把ない形的“ない” ⇒ “れる”</p><p>二类动词：把ない形的“ない” ⇒ “られる”</p><p>三类动词：来る ⇒ 来られる、する ⇒ される</p><table align="center" border="1" cellpadding="1" cellspacing="1" style="width:573px;"><caption>   <strong><span>动词被动形式变化规则</span></strong>  </caption><tbody><tr><td style="width:78px;"><strong>类形</strong></td><td style="width:122px;"><strong>基本形</strong></td><td style="width:171px;"><strong>被动形式(基本形)</strong></td><td style="width:199px;"><strong>被动形式(ます形)</strong></td></tr><tr><td colspan="1" rowspan="2" style="width:78px;">一类动词</td><td style="width:122px;">書く (かく)</td><td style="width:171px;">書かれる(かかれる)</td><td style="width:199px;">書かれます(かかれます)</td></tr><tr><td style="width:122px;">読む (よむ)</td><td style="width:171px;">読まれる(よまれる)</td><td style="width:199px;">読まれます(よまれます)</td></tr><tr><td colspan="1" rowspan="2" style="width:78px;">二类动词</td><td style="width:122px;">食べる (たべる)</td><td style="width:171px;">食べられる (たべられる)</td><td style="width:199px;">食べられます(たべられます)</td></tr><tr><td style="width:122px;">見る (みる)</td><td style="width:171px;"> <p>見られる (みられる)</p> </td><td style="width:199px;">見られます(みられます)</td></tr><tr><td colspan="1" rowspan="2" style="width:78px;">三类动词</td><td style="width:122px;">来る (くる)</td><td style="width:171px;">来られる(こられる)</td><td style="width:199px;"> <p>来られます(こられます)</p> </td></tr><tr><td style="width:122px;">する</td><td style="width:171px;">される</td><td style="width:199px;">されます</td></tr></tbody></table><h3 id="使役型"><a href="#使役型" class="headerlink" title="使役型"></a>使役型</h3><p>表示使役主体强制或指示动作主体进行动作；使役主体对动作主体的行为许可或放任。</p><p>一类动词：把ない形的“ない” ⇒ “せる”</p><p>二类动词：把ない形的“ない” ⇒ “させる”</p><p>三类动词：来る ⇒ 来させる、する ⇒ させる</p><table align="center" border="1" cellpadding="1" cellspacing="1" style="width:573px;"><caption>   <strong><span>动词使役形式变化规则</span></strong>  </caption><tbody><tr><td style="width:78px;"><strong>类形</strong></td><td style="width:122px;"><strong>基本形</strong></td><td style="width:171px;"><strong>使役形式(基本形)</strong></td><td style="width:199px;"><strong>使役形式(ます形)</strong></td></tr><tr><td colspan="1" rowspan="2" style="width:78px;">一类动词</td><td style="width:122px;">書く (かく)</td><td style="width:171px;">書かせる(かかせる)</td><td style="width:199px;">書かせます(かかせます)</td></tr><tr><td style="width:122px;">読む (よむ)</td><td style="width:171px;">読ませる(よませる)</td><td style="width:199px;">読ませます(よませます)</td></tr><tr><td colspan="1" rowspan="2" style="width:78px;">二类动词</td><td style="width:122px;">食べる (たべる)</td><td style="width:171px;">食べさせる(たべさせる)</td><td style="width:199px;">食べさせます(たべさせます)</td></tr><tr><td style="width:122px;">見る (みる)</td><td style="width:171px;"> <p>見させる (みさせる)</p> </td><td style="width:199px;">見させます(みさせます)</td></tr><tr><td colspan="1" rowspan="2" style="width:78px;">三类动词</td><td style="width:122px;">来る (くる)</td><td style="width:171px;">来させる(こさせる)</td><td style="width:199px;"> <p>来させます(こさせます)</p> </td></tr><tr><td style="width:122px;">する</td><td style="width:171px;">させる</td><td style="width:199px;">させます</td></tr></tbody></table><h3 id="使役被动型"><a href="#使役被动型" class="headerlink" title="使役被动型"></a>使役被动型</h3><p>由使役形式加被动形式构成。一般表示（句子的主语）<strong>被迫</strong>性的动作。</p><p>一类动词：</p><ul><li>第一种方法：把“ない”形的“ない”⇒“せられる”(比较少用)；</li><li>第二种方法：把ない形的“ない” ⇒ “される”(常用，但对于动词结尾是“す”的情况不适用)；</li></ul><p>二类动词：把ない形的“ない” ⇒ “させられる”</p><p>三类动词：来る ⇒ 来させられる、する ⇒ させられる</p><table align="center" border="1" cellpadding="1" cellspacing="1" style="width:573px;"><caption>   <strong><span>动词使役被动形式变化规则</span></strong>  </caption><tbody><tr><td style="width:95px;"><strong>类形</strong></td><td style="width:138px;"><strong>基本形</strong></td><td style="width:159px;"><strong>使役被动形式(基本形)</strong></td><td style="width:178px;"><strong>使役被动形式(ます形)</strong></td></tr><tr><td colspan="1" rowspan="2" style="width:95px;">一类动词</td><td style="width:138px;">書く (かく)</td><td style="width:159px;"> <p>書かされる</p> <p>(かかされる)</p> </td><td style="width:178px;"> <p>書かされます</p> <p>(かかされます)</p> </td></tr><tr><td style="width:138px;">読む (よむ)</td><td style="width:159px;"> <p>読まされる</p> <p>(よまされる)</p> </td><td style="width:178px;"> <p>読まされます</p> <p>(よまされます)</p> </td></tr><tr><td colspan="1" rowspan="2" style="width:95px;">二类动词</td><td style="width:138px;">食べる (たべる)</td><td style="width:159px;"> <p>食べさせられる</p> <p>(たべさせられる)</p> </td><td style="width:178px;"> <p>食べさせられます</p> <p>(たべさせられます)</p> </td></tr><tr><td style="width:138px;">見る (みる)</td><td style="width:159px;"> <p>見させられる</p> <p>(みさせられる)</p> </td><td style="width:178px;"> <p>見させられます</p> <p>(みさせられます)</p> </td></tr><tr><td colspan="1" rowspan="2" style="width:95px;">三类动词</td><td style="width:138px;">来る (くる)</td><td style="width:159px;"> <p>来させられる</p> <p>(こさせられる)</p> </td><td style="width:178px;"> <p>来させられます</p> <p>(こさせられます)</p> </td></tr><tr><td style="width:138px;">する</td><td style="width:159px;">させられる</td><td style="width:178px;">させられます</td></tr></tbody></table><h2 id="第三类：其它语法"><a href="#第三类：其它语法" class="headerlink" title="第三类：其它语法"></a>第三类：其它语法</h2><h3 id="详细介绍-1"><a href="#详细介绍-1" class="headerlink" title="详细介绍"></a>详细介绍</h3><h4 id="なら"><a href="#なら" class="headerlink" title="なら"></a>なら</h4><p><a href="/2024/08/11/japanese-grammar-2/#toc-heading-9">可以在这个链接看 N3 关于「条件、假定」的总结</a></p><p>普通形 + なら<br>N + なら</p><ol><li>表示假定。多用于对未知事物进行假设或把对方提到的事情作为前提条件，后项发表自己的意见，看法，建议等。可译为：要是…，假如…</li></ol><p>車を運転するならお酒を飲んではいけません。 如果开车的话，不能喝酒。</p><ol start="2"><li>提示主题。多用于会话场合，把之前的话题作为自己的主题再次提出。</li></ol><p>鎌倉へ行くなら、このお店がお勧めですよ。 去镰仓的话，推荐去这家店。</p><h4 id="〜か"><a href="#〜か" class="headerlink" title="〜か"></a>〜か</h4><p>在句子内部表示疑问的说法。</p><p>疑問詞 + V（普通形）か〜</p><p>先生がどこにいるか知ってる？你知道老师在哪里吗？</p><p>高雄へどうやって行くか知っていますか。你知道怎么去高雄吗？</p><p>其他接续还有：</p><p>疑問詞 + イA（普通形）か〜</p><p>疑問詞 + ナA（普通形） だ か〜 ※ナA ~~だ</p><h4 id="ても"><a href="#ても" class="headerlink" title="ても"></a>ても</h4><ol><li>〜ても 即使……</li></ol><p>いくら食べても太らないからいいですね。不管怎么吃都不胖，真好。</p><ol start="2"><li>〜てもいい、なくてもいい 表示许可，允许，相当于「可以…..」；「可以不……」</li></ol><p>ねえお母さん、お菓子買ってもいい？自分のお小遣いで買うから。妈妈，我可以买点心吗？用我的零花钱。</p><h4 id="〜んです"><a href="#〜んです" class="headerlink" title="〜んです"></a>〜んです</h4><p>口语用法：んです</p><p>书面用法：のです</p><p>不改变句子原本的意思，只是表示强调作用。中文映射举例：我是因为…原因迟到的；这个时候表示强调迟到的原因。</p><p>考虑以下两个陈述句：</p><ol><li>雨が降っている。客观地陈述了当你向外看时正在下雨的事实。</li><li>雨が降っているんだ。</li></ol><p>2 可能发生在以下场景：</p><p>在一家咖啡店，我看到一个人拿着湿雨伞进来，我问他为什么。</p><p>结果，他说：「下雨了。」雨が降っているんだ。</p><p>考虑以下两个疑问句：</p><ol><li>もう、レポートを書きましたか？只是简单的疑问说，你给对方写报告了吗？</li><li>＜相手の完成したレポートを見て＞ もう、レポートを書いたんですか！？</li></ol><p>2 可能发生在以下场景：</p><p>对方已经写完了。我觉得他写的真的很快。</p><p>我想说，我看到后觉得「真快！」。用于说话人有一定的「前提」，由于看到或听到，就有了说话的欲望。もう、レポートを書いたんですか！？</p><p><strong>在不熟悉用法的时候，尽量不要在日常使用。这是因为这样的表达带有言下之意。</strong></p><h4 id="〜ながら〜"><a href="#〜ながら〜" class="headerlink" title="〜ながら〜"></a>〜ながら〜</h4><p>动词ます形+ながら+动词 指两个动作在同一时间段内进行、一边……一边……(可以一边打工、一边学习)</p><p>吉田さんは音楽を聞きながら勉強します。（吉田先生一边听音乐一边学习）</p><p>动词ます形+ながら 指事物发展中产生了出乎意料的变化，没有达到应有的效果 虽然……但是……<br>毎日よくピアノを弾いていながら、上手にならない。（虽然每天都弹钢琴，但是也没变熟练）</p><p>名词+ながら 前接名词，经常表示事物的全部。全部……，都……<br>クラスメートながら医者になりました。（同学都成为了医生）</p><blockquote><p>动词ます形+当前文法+动词，还可以有这些用法：<br>1.1 〜過ぎます・〜すぎます・过头了<br>1.2 〜やすい・容易: 先生の授業はわかりやすいです。老师讲的课很好懂。<br>1.3 〜にくい・很难: ちょっと言いにくいんだけど、私はあの人が好きじゃないんだ。虽然有点难开口，但我不喜欢那个人。</p></blockquote><h4 id="〜てしまいます"><a href="#〜てしまいます" class="headerlink" title="〜てしまいます"></a>〜てしまいます</h4><p>结束，或者完蛋的意思。</p><p>財布を無くしてしまいました。完蛋，钱包给弄丢了。</p><h4 id="しています、てあります、ておきます"><a href="#しています、てあります、ておきます" class="headerlink" title="しています、てあります、ておきます"></a>しています、てあります、ておきます</h4><p>N5 学过了他动词：他动词＋しています 正在进行 表示一种状态 表示一种习惯</p><p>自动词〜が〜しています 表示某件事情自己已经完成，表示完成的状态。<strong>无所谓目的</strong>。</p><p>他动词〜が〜てあります</p><ol><li>动作结果肉眼能看见的，它表示动作存续，或者表述一种状态。</li></ol><p>壁にピカソの絵がかけしています。墙壁上挂着毕加索的画。</p><ol><li>动作结果肉眼看不见的，一般表示「提前准备」，且这种状态有目的。</li></ol><p>ホテルはもう予約してあります。酒店已经预定了。</p><p>他动词〜を〜ておきます 为了将来而事先做某事。而且常常有「事情已经做完」的意思。</p><p>（孩子马上就要回来吃饭的上下文）ご飯を作っておきます。强调「做饭」这件事情已经做完了，以便于让孩子感受到。</p><ol><li>事先做….. 这种意思非常类似于上面</li></ol><p>新しい内容を勉强する前に、自分でよく予習しておく。学习新内容之前，先自己好好预习。</p><ol start="2"><li>保持住状态</li></ol><p>そのままにしておいてください。请保持原样。</p><h4 id="あげる、くれる、もらう"><a href="#あげる、くれる、もらう" class="headerlink" title="あげる、くれる、もらう"></a>あげる、くれる、もらう</h4><p>共同点：都有主语和宾语。而且通常为主语和宾语之间单向的给、帮助等善意的事情。但是使用方式稍微有点不同。</p><p>あげる・くれる主语都为做事的发出方。もらう则是接受方，对应其「接受」的意思。<br>あげる和くれる主语不同，如果主语为「我」，则使用あげる。详见下面：</p><p>我方给对方的句型：我方 は 对方 に あげる<br>对方给我方的句型：对方 は 我方 に くれる</p><p>和て加在一起，形成复合动词。例如：给你买、给我看等。</p><p>あげる：表示主语给第二、三人称及其一方的人做某事。主语为动作发出者；动作接受者以补语形式出现，用补格助词「に」表示。</p><p>わたしはあなたに少女マンガを買ってあげましょう。我给你买少女漫画吧。</p><p>くれる：表示主语为第一人称及其一方的人做某事。句子的主语是动作发出者，动作接受者则以补语形式出现，但第一人称常省略。</p><p>有希ちゃんが日本で撮った写真を見せてくれました。有希酱给我看了在日本拍的相片。</p><p>もらう：表示主语让别人为自己做某事。主语是动作的接受者，动作发出者以补语形式出现，用补格助词「に」或「から」表示。</p><p>わたしは彼氏からプレゼントを買ってもらいました。男友给我买了礼物。</p><h4 id="でしよう、がもしれない"><a href="#でしよう、がもしれない" class="headerlink" title="でしよう、がもしれない"></a>でしよう、がもしれない</h4><p>でしよう</p><p>漢字の練習なら、この本がいいでしょう。如果你想练习汉字，这本书应该是个不错的选择。</p><p>がもしれない</p><p>山田さんは図書館にいるかもしれません。山田先生可能在图书馆中。</p><p>がもしれない相比于でしよう不可能性，更高。</p><h4 id="かどうか、か〜ないか"><a href="#かどうか、か〜ないか" class="headerlink" title="かどうか、か〜ないか"></a>かどうか、か〜ないか</h4><p>かどうか</p><p>接续：</p><ul><li>名词+かどうか</li><li>动词普通型&#x2F;终止型+かどうか</li><li>形容词普通型&#x2F;终止型+かどうか</li></ul><p>好きかどうか聞けば分かるでしょう。喜欢还是不喜欢，问一下就知道了吧。（名词+かどうか）</p><p>美味しいかどうかは食べてみないとわからない。吃了后才能知道是否好吃。（形容词+かどうか）</p><p>台風で休暇になるかどうかまだわからない。还不知道台风的时候是否会放假。（动词+かどうか）</p><p>か〜ないか</p><p>かどうか中间不断开表示做不做如，か〜ないか中间必须是前面动作的重复语气上更强如，两者也都可以表示「无论」的意思。</p><p>か〜ないかのうちに：刚…还没…时</p><p>日曜休んだか休んでないかのうちに終わってまた月曜。感觉周日还没休息够就又到了周一。</p><h4 id="で、ので、のに"><a href="#で、ので、のに" class="headerlink" title="で、ので、のに"></a>で、ので、のに</h4><p>で：动词，形容词て型：</p><p>毎晩暑くて、寝られません。每晚很热，睡不着。</p><p>ので：可以视作名词，在更正式的场合使用。</p><p>なくて：和否定放在一起的用法。</p><p>旅行にいけなくて、残念です。不能去旅行，好遗憾。</p><p>のに：表示「竟然」的意思，有一种不可思议的意思。</p><p>午後は試験なのに、彼はまだゲー厶をやっています。明明下午要考试，他却还在玩游戏。</p><h4 id="てみます"><a href="#てみます" class="headerlink" title="てみます"></a>てみます</h4><p>尝试去做某事…</p><p>くつを買う前に、サイズが合うかどうか、はいてみます。买鞋前，大小是否合适，要试穿下。</p><h4 id="そうです"><a href="#そうです" class="headerlink" title="そうです"></a>そうです</h4><ol><li>表示推测：表示对某种事物样态的观感或根据某种情形推测事态的发展。</li></ol><p>ます・い类形容词 + そうです</p><ol start="2"><li>表示听说：表示从别人那里听到某种信息。知道具体的信息来源时。</li></ol><p>完整句子 + そうです</p><p>对比ようです：表示「听说」做的判断，使用そうです；表示「自己推测」做的判断使用ようです。</p><p>一般常见的表达还有：そうだ</p><p>おまえ、うまそうだな。你看起来好像很好吃。（表示推测）</p><p>うわさでは、佐藤さんは李さんのことが好きだそうです。据小道消息，佐藤喜欢小李。（表示听说）</p><h4 id="たら、〜たらどうですか、〜たらいいですか"><a href="#たら、〜たらどうですか、〜たらいいですか" class="headerlink" title="たら、〜たらどうですか、〜たらいいですか"></a>たら、〜たらどうですか、〜たらいいですか</h4><ol><li>たら：如果……；</li></ol><p>安かったら、買いたいです。如果便宜的话，我想买。</p><ol start="2"><li>たらどうですか：「…那样做怎么样」，表示提议或劝诱。这种意思下，どうですか是可以省略的内容，尤其是在口语中。</li></ol><p>吉田君、パーティーには出席しないって。吉田说他不来参加宴会了。</p><p>もう一度誘ってみたら。你再邀请他一次吧。</p><ol start="3"><li>たらいいですか：怎么做才好呢，这个就纯表示疑问了。</li></ol><p>ホテルのをキャンセルしたいんですが、 どうしたらいいですか。想取消酒店预订，该怎么做呢？</p><h4 id="〜し"><a href="#〜し" class="headerlink" title="〜し"></a>〜し</h4><p>又…又…</p><ol><li>表示两个或两个以上的事项同时存在。常与も呼应。</li></ol><p>遊んでもいたいし、勉強もしたい。既想玩，又想学习。</p><ol start="2"><li>表示同时存在的事项是后续句子的理由。</li></ol><p>休みだし、天気もいいし，どこかに出かけませんか。今天休息，天气也不错，去哪儿玩玩儿吧。</p><h4 id="しか〜ない、ほかない"><a href="#しか〜ない、ほかない" class="headerlink" title="しか〜ない、ほかない"></a>しか〜ない、ほかない</h4><p>有两种表现形式：</p><p>〜しか〜ない</p><p>〜しかない</p><p>表示提示一个事项而排斥其他。一般被翻译为「只有、只能」的意思。视前面添加动词还是名词而定。</p><p>手伝ってくれる人が誰もいないから。自分でやるしかない。没有人能帮我，只能自己来。</p><p>以上的「しかない」皆可被替换为「ほかない」，如「自分でやるほかない」。</p><p>漫画、わたしはBLしか読まない。漫画，我只看 BL 漫画。</p><h4 id="〜ていただけませんか"><a href="#〜ていただけませんか" class="headerlink" title="〜ていただけませんか"></a>〜ていただけませんか</h4><p>可以帮我……吗</p><p>わたしが日本語で書いた作文を見ていただけませんか。可以帮我看下我的日语作文吗？</p><h4 id="〜といいです"><a href="#〜といいです" class="headerlink" title="〜といいです"></a>〜といいです</h4><p>可以……样。</p><p>A: 日本語の力を試したいんですけど、何かテストがありますか。我测试下自己的日语水平，有什么考试可以推荐吗？</p><p>B: じゃあ、日本語能力試験を受けるといいですよ。恩，你可以参加日本语能力考。</p><h4 id="〜ことにする"><a href="#〜ことにする" class="headerlink" title="〜ことにする"></a>〜ことにする</h4><p>决定… 其中、こと可以省略。</p><p>晩ご飯はおでんにする。晚饭决定吃关东煮。</p><p>明日からダイエットすることにしよう。我决心从明天开始减肥。</p><h4 id="〜とは"><a href="#〜とは" class="headerlink" title="〜とは"></a>〜とは</h4><p>所谓</p><p>神とは何ぞや。（所谓）神究竟是什么？</p><h4 id="〜く・〜に＋する"><a href="#〜く・〜に＋する" class="headerlink" title="〜く・〜に＋する"></a>〜く・〜に＋する</h4><blockquote><p>N5 学过になる&#x2F;くなる。<br>大学の友だちは、英語の先生になりました。大学朋友成为了一名英语老师。</p></blockquote><p>把…变成、将…变成</p><p>高いですね。もっと安くしてください。太贵了，请再便宜点。</p><p>すみませんが、少し静かにしてください。不好意思，请保持安静。</p><h4 id="みたいだ、みたいな-みたいに"><a href="#みたいだ、みたいな-みたいに" class="headerlink" title="みたいだ、みたいな &#x2F; みたいに"></a>みたいだ、みたいな &#x2F; みたいに</h4><p>みたいだ：好像跟…一样。估计是…</p><p>頭が痛いし、体も暑いし、熱があるみたいだ。头又疼，身体又热，好像发烧了。</p><p>みたいな &#x2F; みたいに：像…那样的</p><p>トムみたいに日本語が上手に話せるようになりたいなあ。我希望能像汤姆一样说好日语。</p><h4 id="〜って"><a href="#〜って" class="headerlink" title="〜って"></a>〜って</h4><p>named &#x2F; called。被称呼名字用。被称之为…</p><p>これはビビンバ っていう韓国の食べ物だよ。这是叫做石锅拌饭的韩国料理哦。</p>]]></content>
      
      
      <categories>
          
          <category> 日语学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 日本語 </tag>
            
            <tag> 语法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>海星来来的 2023 总结</title>
      <link href="/2024/01/09/2023-summary/"/>
      <url>/2024/01/09/2023-summary/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="🌈海星来来的-2023-总结🌈"><a href="#🌈海星来来的-2023-总结🌈" class="headerlink" title="🌈海星来来的 2023 总结🌈"></a>🌈海星来来的 2023 总结🌈</h1><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup">&lt;/2023>&lt;2024><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="📑-先来一波碎碎念"><a href="#📑-先来一波碎碎念" class="headerlink" title="📑 先来一波碎碎念"></a>📑 先来一波碎碎念</h2><p>HTML 使用 Tag 标签，标记 DOM 元素的开始与结束，所以我也用这种方式来表示 2023 的结束与 2024 的开端。好巧不巧，今天在网上看到一位前端大佬的总结也是用的这个方式，于是我就干脆也「拿来主义」了。</p><p>2023 年对我来说肯定是充满意义的一年了。首先，对于本博客来说，当然就是它的主人选择在今年开始重新开始更新。</p><p>在今年，我开始了社会人的生活，打工人的标记也正式粘贴在了我身上。相比于在象牙塔的时光，我也变得更加稳重和成熟。也许是因为过去我被保护的太好了，尚未沾染社会气息的我曾经一度被各种「学生病」困扰，比如说玻璃心之类。身份的转变也一度让我迷茫，但是现在看来确实是在往好的方面发展。</p><p>2024 希望可以做出更多有意义的事情，也期望可以逃脱平庸的重力，在个人能力上更近一步。</p><h2 id="💠-年度纪念品"><a href="#💠-年度纪念品" class="headerlink" title="💠 年度纪念品"></a>💠 年度纪念品</h2><blockquote><p>一般来说，选择纪念品作为本年度的代表物，是非常有意义的一件事。当我试图找寻以前的记忆，我发现总是一些纪念品，它们成为了我的「锚点」，和记忆一起成为了心流中印象最深刻的部分。哪怕是有一天不写文字总结了，我也要将这个部分单独写出来，成为我的年度记忆。</p></blockquote><h3 id="1-1-🎶-音乐"><a href="#1-1-🎶-音乐" class="headerlink" title="1.1 🎶 音乐"></a>1.1 🎶 音乐</h3><p>本年度我重新精听了肖邦的许多作品，相比于多年以前，我对肖邦的作品的理解更加深刻。肖邦的作品在我的印象中一直是「浪漫」的，但是这一次我听出了更多。不过，在评选的时候，这些被评出来的作品仍然具有浓厚的浪漫色彩。</p><p>我选择的是 Ballade No.3，在这里我选择了 YouTube 播放最高的 Zimmerman 演奏的版本。我曾经试图拿 Op.22（全称为 Andante Spianato and Grande Polonaise Brillante in E flat major Op. 22）第二首来 argue，但是最终我仍然选择了 Ballade No.3，也许可能是因为它没有太多重复的部分？首先，我觉得相比于 op22，肖叙三拥有一个非常华丽的华彩段，这种华彩的片段和前面的小圆舞曲形成了鲜明的反差。这种反差直击我的心灵——能这样做到的曲目真心很少。</p><div style="position: relative; width: 100%; height: 0; padding-bottom: 56.3%; margin: 20px 0"><iframe style="position: absolute; width: 100%; height: 100%; left: 0; top: 0;" src="https://www.youtube-nocookie.com/embed/BkPLDoZXlHQ?si=em-9Y7Blfq9d5eeJ" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe></div><p>肖邦的协奏曲，不多说，今年反复循环播放。用再多的言语也无法形容我对它的赞美。</p><div style="position: relative; width: 100%; height: 0; padding-bottom: 56.3%; margin: 20px 0"><iframe style="position: absolute; width: 100%; height: 100%; left: 0; top: 0;" src="https://www.youtube-nocookie.com/embed/614oSsDS734?si=YEyQNeG3rWmM2HGd" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe></div><p>除了钢琴曲之外，交响乐方面，我选择了 The Nutcracker 作为我的年度 TOP。我想，这不仅是在 2019 年精听贝多芬九首交响曲之后，能重新让我眼前一亮的作品。也是因为它像是一把钥匙，能让我感受到久违的熟悉感。小时候曾经有接触过《猫和老鼠》之类的动画，里面大量采用了胡桃夹子的曲目。柴可夫斯基的曲子具备明显的特点，具有过年版喜庆的气氛。</p><div style="position: relative; width: 100%; height: 0; padding-bottom: 56.3%; margin: 20px 0"><iframe style="position: absolute; width: 100%; height: 100%; left: 0; top: 0;" src="https://www.youtube-nocookie.com/embed/tR_Z1LUDQuQ?si=HXaYCHfmmakcZtgw" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe></div><p>除了古典之外，受到二次元爱好的影响，我也会选择一部 ACG 专辑作为我的年度 TOP。毫无疑问，原神的枫丹音乐：原神-白露澈明之泉 Fountain of Belleau 可以作为这个的选择。<br>枫丹主城区，《百乐谐荣之城》正如之前专辑的主城专属音乐一样，有着浓厚的地域色彩。整个乐曲编曲婉转且轻松，提琴，手风琴以及民谣吉他等多种乐器协奏变调入水一般细腻。《露景澈映》则是主城区音乐的精华之作，首先从旋律方面来说，很少有这样的宫廷为背景的音乐能做到华丽而又不俗套。相反，传递了一种积极向上，人民安居乐业的氛围。</p><div style="position: relative; width: 100%; height: 0; padding-bottom: 56.3%; margin: 20px 0"><iframe style="position: absolute; width: 100%; height: 100%; left: 0; top: 0;" src="https://www.youtube-nocookie.com/embed/znHhRYBmfck?si=thAMZw82aUGnIdnm" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe></div><p>野外区域，《刺玫的旋律》风格明显与其它音乐不同，主要是针对于刺玫会的描写，从乐器角度分析，笛子在这个音乐里面起到了主要作用（好吧确实是喜欢娜维娅）。风景背景我挑了很久（因为很多曲子都非常好），我最后选择了《深溪映繁星》，因为这首曲子不但展现了夕阳下星星快要在天上展现、溪水缓缓流淌的场景，而且包含了浓烈地、对过去的哀思。</p><div style="position: relative; width: 100%; height: 0; padding-bottom: 56.3%; margin: 20px 0"><iframe style="position: absolute; width: 100%; height: 100%; left: 0; top: 0;" src="https://www.youtube-nocookie.com/embed/gwGOp351clk?si=ITt0i9a0jtqIRp1l" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe></div><p>海洋之下的曲子更是这部专辑的精华所在。首先《凋萎于昔时之花》确实是毫无争议的选择，当时刚看完水仙十字的剧情解析，回到安眠处就是这首，心里五味杂陈，感受到的是遗憾，渴望，无助，对往事的追忆，永远葬在了这篇蓝色的天地与小小的童话中。《流光过隙》这首曲子可以排在第二名，亮点主要是它的旋律，以及和甘露花海背景音乐的首尾呼应。</p><div style="position: relative; width: 100%; height: 0; padding-bottom: 56.3%; margin: 20px 0"><iframe style="position: absolute; width: 100%; height: 100%; left: 0; top: 0;" src="https://www.youtube-nocookie.com/embed/xZSDdaYjV_c?si=eSSP_KVplIfxYY5q" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe></div><p>最后，《歌裴莉娅的晨歌 &amp; 科培琉司的辞行》也带给了我不小的惊喜<del>原来圆舞曲可以被用来这么干</del>。歌裴莉娅的主题曲无愧于晨歌之名，整体沁心明快，妙用弦乐点缀的水晶质感，宛若个人的独步舞步。科培琉司弦乐更有鲜明的层次感，更立体，少了很多少女般轻盈水晶质感，多了更多舞步的响板与街拍，钢琴独奏舞出了特有的棱角。</p><div style="position: relative; width: 100%; height: 0; padding-bottom: 56.3%; margin: 20px 0"><iframe style="position: absolute; width: 100%; height: 100%; left: 0; top: 0;" src="https://www.youtube-nocookie.com/embed/xUcJtXtLb_I?si=t2mprb44PVGW-bKJ" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe></div><h3 id="1-2-🍿-动漫"><a href="#1-2-🍿-动漫" class="headerlink" title="1.2 🍿 动漫"></a>1.2 🍿 动漫</h3><p>2023 年总体来说动漫没有 2022 那么有惊喜感。但是 2023 年的动漫带给我的印象普遍都很深刻，对于我这样子喜欢萌系画风的老人来说，《别当欧尼酱了》可以说是为数不多的惊喜了。惊喜感最主要来自于它的画风，以及剧情。画风这个东西是一眼看上去就能看得出来是否喜欢的，《别酱》可以说是正中下怀，人物的画风很好的展现了萌点，画风也相对合理，从细节也可以看出来确实下了血本。剧情方面比较偏日常，但不太同于一般的性转番套路。也让我作为一个男性也可以理解女孩子许许多多的不便，教导了我去尊重异性，求同存异。<del>才不是因为想要一个像美波里这样的妹妹呢！</del></p><p><del>顺带一提，这应该是我为数不多完整下载保存了的番剧。</del></p><div align="center">  <img src="../../../../loading2.svg" data-original="/2024/01/09/2023-summary/1.avif"></div><p>不同于《别酱》，《MyGO》这部作品可以说在动漫圈获得了绝大部分好评，应该还是因为它的剧情确实值得一提，在我看来主要是它相比于一般的二次元整天架空描述美好，它确实描绘了非常真实可见的人设。和 2022 年的《孤独摇滚》相比，MyGO 是用动画的手法，展现出日常番可以达到的一种上限。一般来说，我们把套路化，一眼就能看穿的剧情，称之为「厕纸剧情」，但是 MyGO 真的需要去仔细地看，暂停，讨论，才能体会到制作组的那些各种小细节，精细的伏笔。从这个方面来看，MyGO 确实没有落入俗套。</p><div align="center">  <img src="../../../../loading2.svg" data-original="/2024/01/09/2023-summary/2.avif"></div><h3 id="1-3-🎮-游戏"><a href="#1-3-🎮-游戏" class="headerlink" title="1.3 🎮 游戏"></a>1.3 🎮 游戏</h3><p>由于工作方面的原因，我没有了整块时间玩单机游戏。所以今年我选择了《崩坏·星穹铁道》作为我的年度游戏（不得不提，确实省肝）。<br>所以说什么时候可以让流萤加入我的队伍呢？</p><div align="center">  <img src="../../../../loading2.svg" data-original="/2024/01/09/2023-summary/3.webp"></div><h2 id="🌞-我的足迹"><a href="#🌞-我的足迹" class="headerlink" title="🌞 我的足迹"></a>🌞 我的足迹</h2><p>不全是去玩，有些地方是去办理事情，几乎没留下照片，<del>绝对不是因为懒</del>。所以这里用 LOGO 代替图片<del>这样子也可以做到性能优化</del>。</p><ul><li>2.1 深圳</li></ul><p>充满活力和创新精神的城市，也是充满机遇和挑战的城市。</p><p><svg data-v-0dd9719b="" version="1.0" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="100%" height="100%" viewbox="0 0 340.000000 250.000000" preserveaspectratio="xMidYMid meet" color-interpolation-filters="sRGB" style="margin: auto;"> <rect data-v-0dd9719b="" x="0" y="0" width="100%" height="100%" fill="#ffffff" fill-opacity="1" class="background"/>  <g data-v-0dd9719b="" class="iconmbgsvg" transform="translate(109.33943176269531,56.97978210449219)"><g fill="#333333" hollow-target="textNormalTran"><g opacity="0.55" transform="translate(4.4105682373046875,0)" mask="url(#587d7694-31b2-41a6-942c-6e1b42309c72)"><g><rect fill="#333333" fill-opacity="0" stroke-width="2" x="0" y="0" width="112.5" height="136.04043726419658" class="image-rect"/> <svg filter="url(#colors9324727152)" x="0" y="0" width="112.5" height="136.04043726419658" filtersec="colorsf5439152929" class="image-svg-svg primary" style="overflow: visible;"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0.0009374618530273438 -0.00272369384765625 29.740001678466797 35.96284484863281"><path transform="translate(-2.0390625 32.0020751953125)" d="M9.63-31.08L9.63-31.08Q15.54-33.12 21.23-30.66L21.23-30.66Q23.34-29.25 25.45-30.09L25.45-30.09Q27.42-31.36 28.62-29.25L28.62-29.25Q29.67-26.44 30.94-23.63L30.94-23.63Q31.64-22.36 31.78-21.09L31.78-21.09Q31.50-20.32 29.32-19.76L29.32-19.76Q28.55-19.97 27.77-21.30L27.77-21.30Q20.88-30.23 11.46-26.79L11.46-26.79Q9.07-24.96 9.84-22.50L9.84-22.50Q10.20-21.02 12.52-19.55L12.52-19.55L23.77-14.84Q26.86-13.64 29.18-10.69L29.18-10.69Q33.75-0.49 22.01 3.59L22.01 3.59Q17.93 4.50 13.64 3.16L13.64 3.16Q11.25 2.18 10.34 2.32L10.34 2.32Q9.35 2.32 6.96 3.45L6.96 3.45Q6.61 3.23 5.70 1.13L5.70 1.13L2.04-7.66Q2.53-8.65 4.71-9.28L4.71-9.28Q5.20-9.07 7.03-6.40L7.03-6.40Q12.73 0.35 19.34-0.42L19.34-0.42Q21.87-0.35 23.55-3.66L23.55-3.66Q24.33-6.40 21.16-8.51L21.16-8.51Q15.54-11.11 9.91-13.43L9.91-13.43Q3.09-17.16 3.87-23.98L3.87-23.98Q4.50-29.11 9.63-31.08Z"/></svg></svg> <defs><filter id="colors9324727152"><feColorMatrix type="matrix" values="0 0 0 0 0.9921875  0 0 0 0 0.828125  0 0 0 0 0.39453125  0 0 0 1 0" class="icon-fecolormatrix"/></filter> <filter id="colorsf5439152929"><feColorMatrix type="matrix" values="0 0 0 0 0.99609375  0 0 0 0 0.99609375  0 0 0 0 0.99609375  0 0 0 1 0" class="icon-fecolormatrix"/></filter> <filter id="colorsb3437685060"><feColorMatrix type="matrix" values="0 0 0 0 0  0 0 0 0 0  0 0 0 0 0  0 0 0 1 0" class="icon-fecolormatrix"/></filter></defs></g><rect v-gra="id" width="124.5" height="148.04043579101562" transform="translate(-6, -6)" style="pointer-events:none;" fill="url(#2QmNWYNcemXPbAHNtAAF7)"/></g> <g transform="translate(0,30.86731719970703)"><g data-gra="path-name" fill-rule="" class="tp-name" transform="translate(0,0)"><g transform="scale(1)"><g><path d="M53.19-48.61L53.19-48.61Q53.72-48.94 54.79-48.68L54.79-48.68Q59.57-44.76 59.3-40.31L59.3-40.31Q58.04-38.71 55.78-39.18L55.78-39.18Q51.93-39.98 50.47-39.98L50.47-39.98Q49.14-39.78 47.81-39.31L47.81-39.31Q46.88-39.11 46.48-38.12L46.48-38.12Q46.48-37.79 46.22-37.05L46.22-37.05Q44.16-34 46.35-32.8L46.35-32.8Q48.21-32.21 49.87-33.4L49.87-33.4Q52.73-35.26 54.05-33.34L54.05-33.34Q55.32-30.48 51.8-29.22L51.8-29.22Q50.34-28.55 47.02-28.62L47.02-28.62Q43.89-28.09 41.64-30.68L41.64-30.68Q40.84-32.27 40.91-33.34L40.91-33.34Q41.04-37.19 41.77-39.98L41.77-39.98Q43.76-41.77 45.75-39.78L45.75-39.78Q47.55-39.11 49.61-42.1L49.61-42.1Q50.07-42.57 50.34-43.76L50.34-43.76Q49.94-44.96 47.95-44.56L47.95-44.56Q39.18-44.09 32.01-42.5L32.01-42.5Q28.02-40.97 28.09-38.38L28.09-38.38Q27.82-37.05 27.89-35.73L27.89-35.73Q28.02-33.67 25.83-31.81L25.83-31.81Q23.97-30.41 23.51-30.68L23.51-30.68Q23.11-31.14 22.78-33.14L22.78-33.14Q21.85-40.04 25.17-46.42L25.17-46.42Q25.96-47.95 27.36-46.48L27.36-46.48Q28.82-45.49 30.28-45.82L30.28-45.82Q39.25-47.35 49.01-47.21L49.01-47.21Q51.2-46.75 53.19-48.61ZM11.42-45.22L11.42-45.22Q13.21-46.02 17.4-44.09L17.4-44.09Q19.86-42.63 20.19-39.84L20.19-39.84Q19.99-37.12 18.46-36.52L18.46-36.52Q16.4-35.93 13.61-39.58L13.61-39.58Q11.49-40.51 10.23-42.96L10.23-42.96Q9.76-44.23 11.42-45.22ZM33.54-36.06L33.54-36.06Q36.19-38.25 37.85-34.27L37.85-34.27Q38.12-32.27 35.2-30.81L35.2-30.81Q30.95-27.89 28.55-27.03L28.55-27.03Q26.56-26.43 26.5-26.76L26.5-26.76Q28.02-31.68 33.54-36.06ZM7.24-29.29L7.24-29.29Q9.03-30.48 11.16-29.48L11.16-29.48Q17.46-26.96 13.68-22.51L13.68-22.51Q12.95-22.05 10.96-23.57L10.96-23.57Q9.89-24.7 8.83-25.3L8.83-25.3Q5.78-26.76 7.24-29.29ZM36.66-24.9L36.66-24.9Q35.53-28.95 38.91-27.96L38.91-27.96Q41.11-27.03 41.44-24.97L41.44-24.97Q41.84-23.18 43.56-23.44L43.56-23.44 51.53-24.24Q54.19-24.7 55.52-24.3L55.52-24.3Q59.57-22.58 58.9-18.93L58.9-18.93Q58.44-17.73 57.51-17.6L57.51-17.6Q55.71-16.67 51.53-17.6L51.53-17.6Q47.28-18.13 44.63-17.53L44.63-17.53Q43.03-17.66 42.5-15.87L42.5-15.87Q43.23-5.18 42.43-1.13L42.43-1.13Q42.3 2.59 39.84 3.72L39.84 3.72Q37.45 5.18 35.39 6.97L35.39 6.97Q33.4 7.77 33 4.91L33 4.91Q32.47 2.86 29.62 0.86L29.62 0.86Q29.48 0.46 31.48 0.93L31.48 0.93Q33.4 1.53 34.53 1.33L34.53 1.33Q36.59 0.46 36.59-1.73L36.59-1.73Q37.39-7.37 37.19-13.55L37.19-13.55Q37.59-17.33 33.47-16L33.47-16Q29.09-15.34 25.5-14.14L25.5-14.14Q23.24-13.08 21.05-16L21.05-16Q19.66-18.2 23.04-20.05L23.04-20.05Q25.96-21.18 33.67-22.25L33.67-22.25 36.13-22.71Q37.19-23.57 36.66-24.9ZM14.21-12.82L14.21-12.82Q15.74-14.68 14.41-11.62L14.41-11.62Q11.42-4.98 14.61-1L14.61-1Q15.87 1.13 14.01 3.32L14.01 3.32Q10.96 6.38 8.7 1.26L8.7 1.26Q7.44-2.46 8.1-6.11L8.1-6.11 12.15-10.16Q13.08-11.49 14.21-12.82ZM49.27-12.15L49.27-12.15Q52-12.55 55.05-9.7L55.05-9.7Q57.77-6.71 58.11-3.12L58.11-3.12Q58.37-0.8 56.58 0.8L56.58 0.8Q55.25 1.66 53.92 0.66L53.92 0.66Q52.33-0.2 52.33-1.79L52.33-1.79Q51.73-4.58 50.14-7.11L50.14-7.11Q49.14-8.3 48.74-9.76L48.74-9.76Q48.34-11.09 49.27-12.15ZM22.98-10.09L22.98-10.09Q24.04-11.95 25.43-10.56L25.43-10.56Q26.3-9.83 28.29-10.43L28.29-10.43Q28.69-10.63 27.56-8.63L27.56-8.63Q25.96-5.18 26.3-1.46L26.3-1.46Q26.63 1.06 25.5 1.66L25.5 1.66Q23.77 2.52 22.84 0.53L22.84 0.53Q21.91-1.99 21.85-4.78L21.85-4.78Q21.71-8.23 22.98-10.09ZM121.86-46.82L121.86-46.82Q122.79-49.07 124.58-48.41L124.58-48.41Q128.76-47.15 127.96-42.9L127.96-42.9Q127.37-34.93 127.63-30.41L127.63-30.41Q127.96-20.39 127.83-4.25L127.83-4.25Q128.1 1.39 123.85 6.04L123.85 6.04Q122.65 8.17 122.45 8.04L122.45 8.04Q121.66 6.44 121.39 2.26L121.39 2.26Q121.06-14.74 120.93-32.01L120.93-32.01Q120.33-40.11 121.86-46.82ZM84-45.16L84-45.16Q86.93-46.88 89.38-43.03L89.38-43.03Q89.71-42.1 89.52-40.38L89.52-40.38Q89.05-37.52 89.12-34.66L89.12-34.66Q89.52-33.6 91.31-34.13L91.31-34.13Q95.03-33.54 95.09-30.48L95.09-30.48Q95.36-27.29 91.64-23.84L91.64-23.84Q88.92-21.85 88.65-20.12L88.65-20.12 88.52-16.4Q88.39-14.68 88.92-14.54L88.92-14.54Q89.65-14.34 91.24-15.67L91.24-15.67 93.23-17.07Q95.23-18.53 95.36-16.54L95.36-16.54Q94.83-13.68 93.3-11.89L93.3-11.89Q88.79-4.91 83.27-0.86L83.27-0.86Q81.68 0.66 79.29 0.07L79.29 0.07Q77.43-0.53 76.96-1.66L76.96-1.66Q75.7-5.11 78.96-8.3L78.96-8.3Q80.88-9.96 82.81-11.36L82.81-11.36Q83.21-12.29 83.21-13.88L83.21-13.88 83.21-17.07Q83.14-18 82.34-18.59L82.34-18.59Q78.36-18.73 74.97-23.38L74.97-23.38Q73.91-24.84 75.04-26.03L75.04-26.03Q76.57-27.82 80.22-29.62L80.22-29.62Q83.54-30.75 82.94-33.4L82.94-33.4Q83.01-36.39 82.54-39.45L82.54-39.45Q82.21-42.57 84-45.16ZM100.8-42.96L100.8-42.96Q101.87-43.96 103.73-42.3L103.73-42.3Q104.79-41.44 105.05-39.78L105.05-39.78Q104.32-33.34 104.39-25.5L104.39-25.5Q104.26-11.09 94.83-0.07L94.83-0.07Q93.17 1.59 93.43-0.4L93.43-0.4Q94.1-4.18 96.69-10.36L96.69-10.36Q99.28-18.46 99.28-26.76L99.28-26.76 99.21-38.25Q99.21-40.64 100.8-42.96ZM111.23-40.57L111.23-40.57Q114.82-42.04 115.48-37.65L115.48-37.65Q113.62-24.11 114.22-9.5L114.22-9.5Q114.55-7.04 112.82-4.05L112.82-4.05Q111.23-2.26 110.83-2.32L110.83-2.32Q109.5-4.12 109.5-6.71L109.5-6.71Q109.3-10.36 109.37-14.28L109.37-14.28Q109.37-26.3 109.64-38.58L109.64-38.58Q110.04-39.58 111.23-40.57Z" transform="translate(-6.767361164093018, 48.79457473754883)"/></g> <!----> <!----> <!----> <!----> <!----> <!----> <!----></g></g> <g data-gra="path-slogan" fill-rule="" class="tp-slogan" fill="#020f40" transform="translate(33.904592514038086,63.8420524597168)"><!----> <!----> <g transform="scale(1, 1)"><g transform="scale(1)"><path d="M5.98-5.08L5.98-5.08L5.08-5.08Q5-6.45 3.28-6.52L3.28-6.52Q1.68-6.48 1.68-5.27L1.68-5.27Q1.68-4.49 2.54-4.38L2.54-4.38L4.57-3.91Q6.17-3.52 6.17-1.95L6.17-1.95Q6.13 0.04 3.36 0.12L3.36 0.12Q1.84 0.12 1.21-0.51L1.21-0.51Q0.43-1.09 0.47-2.30L0.47-2.30L1.41-2.30Q1.45-0.66 3.36-0.63L3.36-0.63Q5.23-0.66 5.27-1.84L5.27-1.84Q5.43-2.81 3.71-3.13L3.71-3.13L2.23-3.44Q0.70-3.87 0.70-5.16L0.70-5.16Q0.82-7.27 3.20-7.34L3.20-7.34Q5.90-7.34 5.98-5.08ZM8.36-4.22L12.11-4.22L12.11-7.15L13.09-7.15L13.09 0L12.11 0L12.11-3.32L8.36-3.32L8.36 0L7.38 0L7.38-7.15L8.36-7.15L8.36-4.22ZM15.66-0.86L19.96-0.86L19.96 0L14.69 0L14.69-7.15L19.88-7.15L19.88-6.33L15.66-6.33L15.66-4.10L19.57-4.10L19.57-3.24L15.66-3.24L15.66-0.86ZM22.38-7.15L25.98-1.37L25.98-7.15L26.91-7.15L26.91 0L25.82 0L22.19-5.78L22.15-5.78L22.15 0L21.21 0L21.21-7.15L22.38-7.15ZM29.10-0.86L33.52-0.86L33.52 0L27.89 0L27.89-0.78L32.27-6.33L28.20-6.33L28.20-7.15L33.52-7.15L33.52-6.33L29.10-0.86ZM35.43-4.22L39.18-4.22L39.18-7.15L40.16-7.15L40.16 0L39.18 0L39.18-3.32L35.43-3.32L35.43 0L34.45 0L34.45-7.15L35.43-7.15L35.43-4.22ZM42.73-0.86L47.03-0.86L47.03 0L41.76 0L41.76-7.15L46.95-7.15L46.95-6.33L42.73-6.33L42.73-4.10L46.64-4.10L46.64-3.24L42.73-3.24L42.73-0.86ZM49.45-7.15L53.05-1.37L53.05-7.15L53.98-7.15L53.98 0L52.89 0L49.26-5.78L49.22-5.78L49.22 0L48.28 0L48.28-7.15L49.45-7.15Z" transform="translate(-0.466889880952381, 7.34375)"/></g></g></g></g></g></g><defs v-gra="od"/><defs v-gra="id"><filter id="91798e63-951a-4f05-a8bb-2981ac7336f8" filterunits="userSpaceOnUse"><feColorMatrix type="matrix" values="0 0 0 0 0.99609375  0 0 0 0 0.99609375  0 0 0 0 0.99609375  0 0 0 1 0"/></filter><linearGradient x1="0" y1="1" x2="0" y2="0" id="2QmNWYNcemXPbAHNtAAF7"><stop offset="0%" stop-color="#a18cd1"/><stop offset="100%" stop-color="#fbc2eb"/></linearGradient><filter id="42443b3f1de60f6b6fd3b6a9844b4764" filterunits="objectBoundingBox"><feColorMatrix type="matrix" values="0 0 0 0 0.99609375  0 0 0 0 0.99609375  0 0 0 0 0.99609375  0 0 0 1 0"/></filter></defs><mask v-gra="im" id="587d7694-31b2-41a6-942c-6e1b42309c72"><g opacity="0.55" filter="url(#91798e63-951a-4f05-a8bb-2981ac7336f8)"><g><rect fill="#333333" fill-opacity="0" stroke-width="2" x="0" y="0" width="112.5" height="136.04043726419658" class="image-rect"/> <svg x="0" y="0" width="112.5" height="136.04043726419658" filtersec="colorsf5439152929" class="image-svg-svg primary" style="overflow: visible;"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0.0009374618530273438 -0.00272369384765625 29.740001678466797 35.96284484863281"><path transform="translate(-2.0390625 32.0020751953125)" d="M9.63-31.08L9.63-31.08Q15.54-33.12 21.23-30.66L21.23-30.66Q23.34-29.25 25.45-30.09L25.45-30.09Q27.42-31.36 28.62-29.25L28.62-29.25Q29.67-26.44 30.94-23.63L30.94-23.63Q31.64-22.36 31.78-21.09L31.78-21.09Q31.50-20.32 29.32-19.76L29.32-19.76Q28.55-19.97 27.77-21.30L27.77-21.30Q20.88-30.23 11.46-26.79L11.46-26.79Q9.07-24.96 9.84-22.50L9.84-22.50Q10.20-21.02 12.52-19.55L12.52-19.55L23.77-14.84Q26.86-13.64 29.18-10.69L29.18-10.69Q33.75-0.49 22.01 3.59L22.01 3.59Q17.93 4.50 13.64 3.16L13.64 3.16Q11.25 2.18 10.34 2.32L10.34 2.32Q9.35 2.32 6.96 3.45L6.96 3.45Q6.61 3.23 5.70 1.13L5.70 1.13L2.04-7.66Q2.53-8.65 4.71-9.28L4.71-9.28Q5.20-9.07 7.03-6.40L7.03-6.40Q12.73 0.35 19.34-0.42L19.34-0.42Q21.87-0.35 23.55-3.66L23.55-3.66Q24.33-6.40 21.16-8.51L21.16-8.51Q15.54-11.11 9.91-13.43L9.91-13.43Q3.09-17.16 3.87-23.98L3.87-23.98Q4.50-29.11 9.63-31.08Z"/></svg></svg> <defs><filter id="colors9324727152"><feColorMatrix type="matrix" values="0 0 0 0 0.9921875  0 0 0 0 0.828125  0 0 0 0 0.39453125  0 0 0 1 0" class="icon-fecolormatrix"/></filter> <filter id="colorsf5439152929"><feColorMatrix type="matrix" values="0 0 0 0 0.99609375  0 0 0 0 0.99609375  0 0 0 0 0.99609375  0 0 0 1 0" class="icon-fecolormatrix"/></filter> <filter id="colorsb3437685060"><feColorMatrix type="matrix" values="0 0 0 0 0  0 0 0 0 0  0 0 0 0 0  0 0 0 1 0" class="icon-fecolormatrix"/></filter></defs></g></g></mask></svg></p><ul><li>2.2 香港</li></ul><p>东西方文化的交融，现代与传统的碰撞。</p><p><svg data-v-0dd9719b="" version="1.0" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="100%" height="100%" viewbox="0 0 340.000000 250.000000" preserveaspectratio="xMidYMid meet" color-interpolation-filters="sRGB" style="margin: auto;"> <rect data-v-0dd9719b="" x="0" y="0" width="100%" height="100%" fill="#fef5ef" fill-opacity="1" class="background"/>  <g data-v-0dd9719b="" fill="#4e374f" class="basesvg" transform="translate(117.61896133422852,92.1216049194336)"><g data-gra="path-name" fill-rule="" class="tp-name" transform="translate(0,0)"><g transform="scale(1)"><g><path d="M12.51 4.35L12.51 4.35Q13.54 4.89 15.42 4.11 17.29 3.33 17.29 2.42 17.29 1.5 17.94 1.02L17.94 1.02Q18.21 0.86 27.5 0.86L27.5 0.86Q28.2 0.86 29.49 0.86L29.49 0.86Q35.61 0.86 36.63 1.07 37.65 1.29 37.54 2.52L37.54 2.52Q37.49 2.85 37.49 3.01L37.49 3.01Q37.49 3.76 38 4.08 38.51 4.4 39.5 4.22 40.5 4.03 41.84 3.38L41.84 3.38Q42.75 2.95 42.89 2.63 43.02 2.31 42.92 0.38L42.92 0.38Q42.81-2.26 42.75-8.11 42.7-13.96 42.81-14.39L42.81-14.39Q43.08-15.25 43.72-15.58L43.72-15.58Q44.53-16.01 44.53-16.44L44.53-16.44Q44.53-16.7 42.89-18.32 41.25-19.93 40.82-20.03L40.82-20.03Q39.91-20.3 39.58-20.22 39.26-20.14 38.46-19.17L38.46-19.17Q37.65-18.15 37.38-18.05L37.38-18.05Q36.68-17.67 31.15-17.62L31.15-17.62Q28.31-17.62 27.34-17.62L27.34-17.62Q19.23-17.62 18.15-17.7 17.08-17.78 15.31-18.53L15.31-18.53Q13.21-19.5 13.19-20.03 13.16-20.57 15.15-21.81L15.15-21.81Q19.39-24.49 22.56-27.45L22.56-27.45Q24.28-29.11 24.71-28.2L24.71-28.2Q25.19-27.18 24.76-21.38L24.76-21.38Q24.71-20.03 24.95-19.66 25.19-19.28 26.16-19.28L26.16-19.28Q27.98-19.39 29.06-20.11 30.13-20.84 30.08-21.91L30.08-21.91Q29.38-31.15 30.56-31.21L30.56-31.21Q31.04-31.21 32.07-29.7L32.07-29.7Q34.64-25.83 38.62-22.72L38.62-22.72Q39.42-22.13 40.07-21.54 40.71-20.95 41.04-20.71 41.36-20.46 42.19-20.01 43.02-19.55 44.58-18.8L44.58-18.8Q47.37-17.51 47.86-17.4 48.34-17.29 48.55-17.94L48.55-17.94Q49.52-20.63 51.51-21.43L51.51-21.43Q53.12-22.08 50.65-22.61L50.65-22.61Q46.51-23.58 41.98-25.57 37.44-27.55 34.8-29.46 32.17-31.37 33.09-32.17L33.09-32.17Q33.3-32.39 42-32.44L42-32.44Q48.93-32.5 50.11-32.58 51.29-32.66 51.4-33.14L51.4-33.14Q51.67-34 48.29-36.52L48.29-36.52Q46.84-37.6 46.46-37.6 46.08-37.6 45.17-36.36L45.17-36.36Q43.88-34.7 43.45-34.43L43.45-34.43Q42.59-34 38.62-34L38.62-34Q36.85-34 36.58-34L36.58-34Q36.09-34 35.23-34L35.23-34Q30.88-34.05 30.29-34.43L30.29-34.43Q29.81-34.75 29.81-36.25L29.81-36.25Q29.81-36.63 29.81-36.79L29.81-36.79Q29.76-39.26 30.27-39.75 30.78-40.23 33.68-40.55L33.68-40.55Q37.06-40.93 38.78-41.2L38.78-41.2Q42.06-41.68 43.13-41.41L43.13-41.41Q44.96-40.93 45.01-41.36L45.01-41.36Q45.01-41.84 42.97-43.99L42.97-43.99Q40.98-46.03 40.66-46.19 40.34-46.35 38.78-45.92L38.78-45.92Q32.87-44.2 24.2-42.51 15.52-40.82 9.02-40.18L9.02-40.18Q7.95-40.07 7.65-39.91 7.36-39.75 7.47-39.42L7.47-39.42Q7.63-39.1 12.25-39.13 16.87-39.16 22.08-39.48L22.08-39.48Q24.12-39.64 24.52-39.26 24.92-38.89 24.92-36.85L24.92-36.85Q24.92-35.18 24.76-34.75 24.6-34.32 24.01-34.16L24.01-34.16Q23.26-33.95 15.07-34 6.88-34.05 4.4-34.32L4.4-34.32Q3.44-34.38 3.38-34.21 3.33-34.05 3.87-32.98L3.87-32.98Q4.4-32.01 4.73-31.9 5.05-31.8 6.88-32.07L6.88-32.07Q9.88-32.44 14.45-32.47 19.01-32.5 19.34-32.12L19.34-32.12Q19.66-31.8 19.36-31.21 19.07-30.62 17.78-29L17.78-29Q15.25-25.94 11.44-22.75 7.63-19.55 3.97-17.51L3.97-17.51Q3.22-17.08 3.06-16.87 2.9-16.65 3.17-16.38L3.17-16.38Q3.33-16.17 3.97-16.38L3.97-16.38Q5.69-16.97 8.97-18.48L8.97-18.48Q11.01-19.39 11.44-19.01 11.87-18.64 12.08-15.9L12.08-15.9Q12.25-14.18 12.25-7.3 12.25-0.43 12.08 1.61L12.08 1.61Q11.98 3.28 12.03 3.71 12.08 4.14 12.51 4.35ZM36.85-0.86L36.85-0.86Q36.42-0.64 27.45-0.64 18.48-0.64 18.05-0.86L18.05-0.86Q17.19-1.29 17.19-4.24 17.19-7.2 18.05-7.57L18.05-7.57Q18.48-7.84 27.45-7.84 36.42-7.84 36.85-7.57L36.85-7.57Q37.71-7.2 37.71-4.24 37.71-1.29 36.85-0.86ZM36.95-9.51L36.95-9.51Q36.58-9.29 27.42-9.32 18.26-9.35 17.94-9.56L17.94-9.56Q17.13-9.99 17.19-12.73 17.24-15.47 18.05-15.84L18.05-15.84Q18.48-16.11 27.45-16.11 36.42-16.11 36.85-15.84L36.85-15.84Q37.65-15.47 37.71-12.73 37.76-9.99 36.95-9.51ZM63.54 4.51L63.54 4.51Q64.29 4.67 65.23 4.24 66.17 3.81 66.66 3.12L66.66 3.12Q67.57 1.72 67.46-0.43 67.35-2.58 66.17-6.98L66.17-6.98Q65.58-9.18 66.2-12.6 66.82-16.01 69.45-24.55L69.45-24.55Q69.88-26.1 70.42-26.32 70.95-26.53 74.07-26.53L74.07-26.53Q77.4-26.53 77.91-26.21 78.42-25.89 77.77-24.33L77.77-24.33Q76.54-21.27 73.75-17.59 70.95-13.91 68.37-11.82L68.37-11.82Q67.73-11.33 67.62-11.17 67.51-11.01 67.68-10.69L67.68-10.69Q67.89-10.31 69.8-11.36 71.7-12.41 74.07-14.18L74.07-14.18Q75.73-15.42 76.11-15.36L76.11-15.36Q76.7-15.2 76.75-11.17L76.75-11.17Q76.81-10.21 76.81-6.98L76.81-6.98Q76.86 0.64 77.18 1.61L77.18 1.61Q77.45 2.31 78.42 2.79L78.42 2.79Q78.47 2.79 78.58 2.85L78.58 2.85Q80.41 3.76 90.05 3.68 99.69 3.6 102.16 2.63L102.16 2.63Q103.45 2.15 103.88 0.54L103.88 0.54Q104.25-0.86 103.29-0.86L103.29-0.86Q103.23-0.86 102.75-1.34L102.75-1.34Q102.1-1.88 101.94-2.5 101.78-3.12 101.73-5.53L101.73-5.53Q101.62-8.7 101.35-8.7 101.08-8.7 100.6-6.61L100.6-6.61Q99.63-2.95 99.15-2.26L99.15-2.26Q98.29-1.13 95.28-1.02L95.28-1.02Q94.37-0.97 89.7-0.97L89.7-0.97Q88.95-0.97 87.71-0.97L87.71-0.97Q82.98-0.97 82.23-1.45L82.23-1.45Q81.53-1.83 81.53-3.65L81.53-3.65Q81.53-3.87 81.53-4.3L81.53-4.3Q81.53-5 81.53-5.42L81.53-5.42Q81.53-5.75 81.53-6.28L81.53-6.28Q81.48-9.02 81.96-9.51L81.96-9.51Q82.45-9.99 85.29-9.99L85.29-9.99 85.56-9.99Q86.31-9.99 86.69-9.99L86.69-9.99Q90.56-9.99 91.2-9.8 91.85-9.61 91.85-8.33L91.85-8.33Q91.85-7.57 92.36-7.44 92.87-7.3 94.53-7.68L94.53-7.68Q96.14-8.06 96.41-8.49 96.68-8.92 96.57-10.96L96.57-10.96Q96.25-16.54 96.84-16.97L96.84-16.97Q97.32-17.35 99.1-15.52L99.1-15.52Q102.86-11.66 103.77-12.03L103.77-12.03Q103.98-12.14 104.15-12.57L104.15-12.57Q104.52-13.7 105.41-14.74 106.29-15.79 107.21-16.11L107.21-16.11Q108.39-16.6 107.05-17.13L107.05-17.13Q106.83-17.24 106.51-17.35L106.51-17.35Q102.75-18.75 98.77-21.56 94.8-24.38 94.8-25.73L94.8-25.73Q94.8-26.21 95.34-26.32L95.34-26.32Q96.09-26.48 100.98-26.53L100.98-26.53Q105.38-26.59 106.19-26.67 106.99-26.75 107.21-27.12L107.21-27.12Q107.48-27.5 106.37-28.74 105.27-29.97 103.61-31.26L103.61-31.26Q102.59-31.96 102.27-31.82 101.94-31.69 100.87-30.24L100.87-30.24Q99.74-28.68 99.28-28.36 98.83-28.04 97.65-28.04L97.65-28.04Q96.14-28.04 95.87-28.55 95.61-29.06 95.61-31.85L95.61-31.85Q95.61-32.23 95.61-32.87L95.61-32.87Q95.55-34.86 96.04-35.23L96.04-35.23Q96.52-35.66 99.79-35.66L99.79-35.66Q100.55-35.66 100.98-35.66L100.98-35.66Q104.63-35.72 105.3-35.8 105.97-35.88 106.19-36.25L106.19-36.25Q106.46-36.68 105.41-37.92 104.36-39.16 102.75-40.39L102.75-40.39Q101.73-41.09 101.41-40.95 101.08-40.82 99.96-39.16L99.96-39.16Q98.94-37.71 98.13-37.3 97.32-36.9 96.36-37.38L96.36-37.38Q95.55-37.81 95.55-40.31 95.55-42.81 96.36-43.29L96.36-43.29Q97.49-43.99 95.61-44.69L95.61-44.69Q94.8-45.01 93.35-45.44L93.35-45.44Q90.61-46.14 90.45-45.92L90.45-45.92Q90.34-45.82 90.4-45.22L90.4-45.22Q91.36-38.24 90.07-37.44L90.07-37.44Q89.7-37.17 87.28-37.14 84.86-37.11 84.38-37.38L84.38-37.38Q83.47-37.81 83.47-40.12 83.47-42.43 84.38-43.24L84.38-43.24Q85.24-43.99 84.27-44.53L84.27-44.53Q83.68-44.79 82.34-45.22L82.34-45.22Q79.01-46.19 78.74-45.92L78.74-45.92Q78.58-45.76 78.63-45.22L78.63-45.22Q78.85-43.4 78.93-40.87 79.01-38.35 78.85-38.03L78.85-38.03Q78.26-36.79 72.29-37.44L72.29-37.44Q70.95-37.54 70.84-37.44 70.74-37.33 71.22-36.31L71.22-36.31Q71.76-35.23 71.92-35.1 72.08-34.97 72.99-35.18L72.99-35.18Q75.25-35.66 76.7-35.66L76.7-35.66Q78.42-35.66 78.77-35.13 79.12-34.59 79.12-31.85L79.12-31.85Q79.12-28.84 78.66-28.44 78.2-28.04 74.87-28.04 71.54-28.04 71.14-28.44 70.74-28.84 71.54-31.47L71.54-31.47Q72.24-33.73 72.03-33.84L72.03-33.84Q71.92-33.89 71.6-33.89L71.6-33.89Q71.38-33.89 68.64-27.34L68.64-27.34Q68.27-26.43 67.57-24.81L67.57-24.81Q63-13.86 62.04-12.46L62.04-12.46Q61.34-11.49 60.26-11.44L60.26-11.44Q60.16-11.44 60-11.44 59.83-11.44 59.73-11.44L59.73-11.44Q58.76-11.39 58.57-11.28 58.38-11.17 58.49-10.74L58.49-10.74Q58.65-10.37 59.3-10.26L59.3-10.26Q61.18-9.88 61.79-7.49 62.41-5.1 61.88-0.21L61.88-0.21Q61.71 1.34 61.82 2.34 61.93 3.33 62.33 3.84 62.73 4.35 63.54 4.51ZM91.09-11.76L91.09-11.76Q90.66-11.55 86.72-11.52 82.77-11.49 82.34-11.71L82.34-11.71Q81.59-12.08 81.45-14.8 81.32-17.51 82.02-18.15L82.02-18.15Q82.29-18.42 86.5-18.5 90.72-18.58 91.15-18.32L91.15-18.32Q92.01-17.89 91.95-15.04 91.9-12.19 91.09-11.76ZM91.36-20.25L91.36-20.25Q90.93-20.03 86.77-20.01 82.61-19.98 82.12-20.2L82.12-20.2Q80.83-20.73 82.18-22.72L82.18-22.72Q82.23-22.83 82.39-23.07 82.55-23.31 82.77-23.74 82.98-24.17 83.14-24.38L83.14-24.38Q84.11-26.1 84.68-26.32 85.24-26.53 88.46-26.53L88.46-26.53Q92.11-26.53 92.65-26.21L92.65-26.21Q93.03-25.94 93.51-24.71L93.51-24.71Q94.42-22.24 93.73-22.24L93.73-22.24Q93.56-22.24 92.65-21.32L92.65-21.32Q91.9-20.63 91.36-20.25ZM90.29-28.31L90.29-28.31Q89.97-28.04 87.23-28.04L87.23-28.04Q84.33-28.04 83.95-28.44 83.57-28.84 83.57-31.85 83.57-34.86 83.98-35.26 84.38-35.66 87.23-35.66L87.23-35.66Q90.02-35.66 90.45-35.23 90.88-34.8 90.88-31.9L90.88-31.9Q90.88-28.84 90.29-28.31ZM62.95-25.89L62.95-25.89Q64.78-24.98 65.9-26.43 67.03-27.88 66.01-29.81L66.01-29.81Q65.31-31.21 63.41-32.33 61.5-33.46 59.03-33.89L59.03-33.89Q57.95-34.11 57.87-33.84 57.79-33.57 58.71-32.66L58.71-32.66Q60.96-30.24 62.3-26.48L62.3-26.48Q62.41-26.1 62.95-25.89ZM67.08-37.06L67.08-37.06Q69.77-36.04 70.42-37.97L70.42-37.97Q71.11-39.85 69.39-42.16L69.39-42.16Q68.37-43.51 66.82-44.31L66.82-44.31Q63.38-46.08 62.09-45.65L62.09-45.65Q61.45-45.44 62.2-44.58L62.2-44.58Q64.83-41.84 65.9-38.94L65.9-38.94Q66.39-37.65 66.52-37.46 66.66-37.28 67.08-37.06Z" transform="translate(-3.000465154647827, 46.2333869934082)"/></g> <!----> <!----> <!----> <!----> <!----> <!----> <!----></g></g> <g data-gra="path-slogan" fill-rule="" class="tp-slogan" fill="#f75835" transform="translate(16.03104019165039,56.80429458618164)"><!----> <!----> <g transform="scale(1, 1)"><g transform="scale(1)"><path d="M2.06-5.06L6.56-5.06L6.56-8.58L7.73-8.58L7.73 0L6.56 0L6.56-3.98L2.06-3.98L2.06 0L0.89 0L0.89-8.58L2.06-8.58L2.06-5.06ZM16.31-4.27L16.31-4.27Q16.13-7.64 13.31-7.83L13.31-7.83Q10.45-7.69 10.31-4.27L10.31-4.27Q10.45-0.94 13.31-0.80L13.31-0.80Q16.13-0.98 16.31-4.27ZM17.48-4.27L17.48-4.27Q17.20 0 13.31 0.14L13.31 0.14Q9.38 0 9.09-4.27L9.09-4.27Q9.33-8.72 13.31-8.81L13.31-8.81Q17.20-8.67 17.48-4.27ZM20.25-8.58L24.56-1.64L24.56-8.58L25.69-8.58L25.69 0L24.38 0L20.02-6.94L19.97-6.94L19.97 0L18.84 0L18.84-8.58L20.25-8.58ZM33.89-3.61L31.27-3.61L31.27-4.59L35.02-4.59L35.02 0L34.27 0L33.98-1.08Q33 0.09 31.17 0.14L31.17 0.14Q29.44 0.14 28.50-0.75L28.50-0.75Q27.09-2.06 27.14-4.36L27.14-4.36Q27.47-8.63 31.22-8.81L31.22-8.81Q34.41-8.63 34.88-6L34.88-6L33.75-6Q33.28-7.78 31.17-7.83L31.17-7.83Q28.50-7.64 28.36-4.31L28.36-4.31Q28.36-0.75 31.22-0.75L31.22-0.75Q32.25-0.75 33-1.31L33-1.31Q33.94-2.06 33.89-3.61L33.89-3.61ZM42.66-4.31L41.30-3.05L41.30 0L40.13 0L40.13-8.58L41.30-8.58L41.30-4.41L45.47-8.58L47.11-8.58L43.50-5.11L47.20 0L45.66 0L42.66-4.31ZM54.89-4.27L54.89-4.27Q54.70-7.64 51.89-7.83L51.89-7.83Q49.03-7.69 48.89-4.27L48.89-4.27Q49.03-0.94 51.89-0.80L51.89-0.80Q54.70-0.98 54.89-4.27ZM56.06-4.27L56.06-4.27Q55.78 0 51.89 0.14L51.89 0.14Q47.95 0 47.67-4.27L47.67-4.27Q47.91-8.72 51.89-8.81L51.89-8.81Q55.78-8.67 56.06-4.27ZM58.83-8.58L63.14-1.64L63.14-8.58L64.27-8.58L64.27 0L62.95 0L58.59-6.94L58.55-6.94L58.55 0L57.42 0L57.42-8.58L58.83-8.58ZM72.47-3.61L69.84-3.61L69.84-4.59L73.59-4.59L73.59 0L72.84 0L72.56-1.08Q71.58 0.09 69.75 0.14L69.75 0.14Q68.02 0.14 67.08-0.75L67.08-0.75Q65.67-2.06 65.72-4.36L65.72-4.36Q66.05-8.63 69.80-8.81L69.80-8.81Q72.98-8.63 73.45-6L73.45-6L72.33-6Q71.86-7.78 69.75-7.83L69.75-7.83Q67.08-7.64 66.94-4.31L66.94-4.31Q66.94-0.75 69.80-0.75L69.80-0.75Q70.83-0.75 71.58-1.31L71.58-1.31Q72.52-2.06 72.47-3.61L72.47-3.61Z" transform="translate(-0.890625, 8.8125)"/></g></g></g></g><defs v-gra="od"/></svg></p><ul><li>2.3 武汉</li></ul><p>我从这里离开，从这里开始。</p><p><svg data-v-0dd9719b="" version="1.0" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="100%" height="100%" viewbox="0 0 340.000000 250.000000" preserveaspectratio="xMidYMid meet" color-interpolation-filters="sRGB" style="margin: auto;"> <rect data-v-0dd9719b="" x="0" y="0" width="100%" height="100%" fill="#ffffff" fill-opacity="1" class="background"/>  <g data-v-0dd9719b="" fill="#b5925c" class="pmspacesvg" transform="translate(105.77999877929688,66.59093856811523)"><!----> <g mask="url(#54a2a05c-fa63-4f20-86bd-ec9094162b29)"><g><rect data-gra="graph-name" fill="#b5925c" fill-opacity="0.5" x="0" y="72.0999984741211" width="128.44000244140625" height="30.72000026702881"/> <rect data-gra="graph-name" fill="#b5925c" fill-opacity="1" x="0" y="10" width="128.44000244140625" height="72.0999984741211"/></g> <g fill-opacity="0" transform="translate(0,10)"><g><rect data-gra="graph-name-bg" stroke-width="2" class="i-icon-bg" x="0" y="0" width="128.44000244140625" height="96.81812286376953"/> <!----> <!----> </g> <g transform="translate(10,10)"><g data-gra="path-name" fill-rule="" class="tp-name" fill="#ffffff" fill-opacity="1" transform="translate(0,0)"><g transform="scale(1)"><g><path d="M29.06-38.03L29.06-38.03 7.36-38.03 6.93-39.53 19.66-39.53 23.58-44.79Q27.98-41.25 30.62-38.89L30.62-38.89Q30.4-38.03 29.06-38.03ZM52.69-13.32L53.23-13.21 51.83-3.28Q54.73 2.58 52.91 4.08L52.91 4.08Q51.35 5.48 49.23 5.16 47.1 4.83 45.33 3.87 43.56 2.9 42.27 1.56L42.27 1.56Q35.77-5.37 33.09-16.54L33.09-16.54Q32.66-16.11 31.85-16.11L31.85-16.11 23.96-16.11 23.96-5.96Q25.62-6.18 34.91-7.36L34.91-7.36 34.97-6.71Q26.21-2.42 7.09 3.97L7.09 3.97Q6.5 5.05 5.42 5.32L5.42 5.32 1.18-3.33Q1.77-3.38 2.58-3.46 3.38-3.54 4.51-3.68 5.64-3.81 6.39-3.87L6.39-3.87 6.39-23.85 14.82-23.15Q14.66-22.18 13.27-21.91L13.27-21.91 13.27-4.62 16.44-5 16.44-29.17 25.73-28.36Q25.62-27.23 23.96-26.96L23.96-26.96 24.01-17.67 27.39-22.77Q30.72-19.66 32.92-17.46L32.92-17.46Q31.74-22.67 31.21-30.24L31.21-30.24 2.15-30.24 1.72-31.8 31.1-31.8Q30.72-38.51 30.72-46.78L30.72-46.78 40.82-45.82Q40.71-44.47 38.89-44.2L38.89-44.2Q38.67-36.63 38.89-31.8L38.89-31.8 41.41-31.8 45.22-36.47Q44.63-36.68 44.2-36.95L44.2-36.95Q43.45-40.61 40.44-44.15L40.44-44.15 40.82-44.42Q48.34-44.58 50.22-41.36L50.22-41.36Q51.4-39.37 49.9-37.54L49.9-37.54Q48.82-36.2 47.05-36.15L47.05-36.15Q51.72-32.66 53.55-31.15L53.55-31.15Q53.28-30.24 51.94-30.24L51.94-30.24 38.99-30.24Q39.91-13.11 47.27-6.18L47.27-6.18Q48.18-5.16 48.88-6.34L48.88-6.34Q50.54-8.92 52.69-13.32L52.69-13.32ZM61.07-46.03L61.07-46.03 61.45-46.3Q69.77-45.65 71.97-41.73L71.97-41.73Q73.32-39.37 71.76-37.28L71.76-37.28Q70.25-35.23 67.62-35.77L67.62-35.77Q66.55-35.99 65.47-36.68L65.47-36.68Q64.61-41.2 61.07-46.03ZM56.29-33.46L56.29-33.46 56.67-33.73Q64.67-33.35 66.82-29.59L66.82-29.59Q68.16-27.29 66.6-25.24L66.6-25.24Q65.1-23.26 62.52-23.85L62.52-23.85Q61.61-24.06 60.69-24.65L60.69-24.65Q59.89-29 56.29-33.46ZM73.91-38.08L73.91-38.08 74.77-37.87Q70.25-22.5 68.8-15.36L68.8-15.36Q68-11.6 68.05-9.78L68.05-9.78Q68.11-8.49 69.39-5.56 70.68-2.63 70.58 0.27L70.58 0.27Q70.52 2.47 69.02 3.87 67.51 5.26 65.21 5.26L65.21 5.26Q62.3 5.26 61.61 2.36L61.61 2.36Q62.47-2.04 62.36-5.67 62.25-9.29 61.23-9.99L61.23-9.99Q60-10.8 58.22-10.96L58.22-10.96 58.22-11.92 60.8-11.92Q61.28-11.92 61.5-11.98 61.71-12.03 61.98-12.27 62.25-12.51 62.52-13.11L62.52-13.11Q63.54-14.72 64.96-17.83 66.39-20.95 73.91-38.08ZM97.81-39.16L97.81-39.16 79.71-39.16Q82.29-25.94 90.02-16.38L90.02-16.38Q95.5-26.48 97.81-39.16ZM97.27-40.71L101.35-44.96 108.23-38.62Q107.74-37.71 105.76-37.49L105.76-37.49Q102.37-21.59 94.53-11.55L94.53-11.55Q100.76-5.75 109.62-1.45L109.62-1.45 109.3-0.75Q103.5-0.64 100.71 5L100.71 5Q94.05 0 89.7-6.23L89.7-6.23Q82.23 0.91 71.17 5L71.17 5 70.68 4.46Q80.19-1.5 86.74-11.06L86.74-11.06Q80.78-22.02 78.74-39.16L78.74-39.16 74.12-39.16 73.64-40.71 97.27-40.71Z" transform="translate(-1.1800000667572021, 46.779998779296875)"/></g> <!----> <!----> <!----> <!----> <!----> <!----> <!----></g></g> <g data-gra="path-slogan" fill-rule="" class="tp-slogan" fill-opacity="1" fill="#ffffff" transform="translate(32.19000053405762,68.0999984741211)"><!----> <!----> <g transform="scale(1, 1)"><g transform="scale(1)"><path d="M5.67-7.13L5.63-7.13L3.66 0L2.44 0L0.19-8.58L1.41-8.58L3.05-1.59L3.09-1.59L5.02-8.58L6.28-8.58L8.20-1.59L8.25-1.59L9.84-8.58L11.11-8.58L8.86 0L7.64 0L5.67-7.13ZM17.86-3.19L17.86-8.58L19.03-8.58L19.03-3.05Q18.89 0.05 15.52 0.14L15.52 0.14Q12.38 0.05 12.23-2.86L12.23-2.86L12.23-8.58L13.41-8.58L13.41-3.19Q13.45-0.84 15.56-0.80L15.56-0.80Q17.86-0.84 17.86-3.19L17.86-3.19ZM21.98-5.06L26.48-5.06L26.48-8.58L27.66-8.58L27.66 0L26.48 0L26.48-3.98L21.98-3.98L21.98 0L20.81 0L20.81-8.58L21.98-8.58L21.98-5.06ZM35.11 0L34.27-2.48L30.80-2.48L29.91 0L28.73 0L31.97-8.58L33.28-8.58L36.38 0L35.11 0ZM32.53-7.31L31.17-3.52L33.84-3.52L32.58-7.31L32.53-7.31ZM38.81-8.58L43.13-1.64L43.13-8.58L44.25-8.58L44.25 0L42.94 0L38.58-6.94L38.53-6.94L38.53 0L37.41 0L37.41-8.58L38.81-8.58Z" transform="translate(-0.1875, 8.578125)"/></g></g></g></g></g></g></g><mask id="54a2a05c-fa63-4f20-86bd-ec9094162b29"><g fill="white"><rect data-gra="graph-name" fill-opacity="1" x="0" y="72.0999984741211" width="128.44000244140625" height="30.72000026702881"/> <rect data-gra="graph-name" fill-opacity="1" x="0" y="10" width="128.44000244140625" height="72.0999984741211"/></g> <g fill-opacity="0" transform="translate(0,10)" fill="black"><g><rect data-gra="graph-name-bg" stroke-width="2" class="i-icon-bg" x="0" y="0" width="128.44000244140625" height="96.81812286376953"/>   </g> <g transform="translate(10,10)"><g data-gra="path-name" fill-rule="" class="tp-name" fill-opacity="1" transform="translate(0,0)"><g transform="scale(1)"><g><path d="M29.06-38.03L29.06-38.03 7.36-38.03 6.93-39.53 19.66-39.53 23.58-44.79Q27.98-41.25 30.62-38.89L30.62-38.89Q30.4-38.03 29.06-38.03ZM52.69-13.32L53.23-13.21 51.83-3.28Q54.73 2.58 52.91 4.08L52.91 4.08Q51.35 5.48 49.23 5.16 47.1 4.83 45.33 3.87 43.56 2.9 42.27 1.56L42.27 1.56Q35.77-5.37 33.09-16.54L33.09-16.54Q32.66-16.11 31.85-16.11L31.85-16.11 23.96-16.11 23.96-5.96Q25.62-6.18 34.91-7.36L34.91-7.36 34.97-6.71Q26.21-2.42 7.09 3.97L7.09 3.97Q6.5 5.05 5.42 5.32L5.42 5.32 1.18-3.33Q1.77-3.38 2.58-3.46 3.38-3.54 4.51-3.68 5.64-3.81 6.39-3.87L6.39-3.87 6.39-23.85 14.82-23.15Q14.66-22.18 13.27-21.91L13.27-21.91 13.27-4.62 16.44-5 16.44-29.17 25.73-28.36Q25.62-27.23 23.96-26.96L23.96-26.96 24.01-17.67 27.39-22.77Q30.72-19.66 32.92-17.46L32.92-17.46Q31.74-22.67 31.21-30.24L31.21-30.24 2.15-30.24 1.72-31.8 31.1-31.8Q30.72-38.51 30.72-46.78L30.72-46.78 40.82-45.82Q40.71-44.47 38.89-44.2L38.89-44.2Q38.67-36.63 38.89-31.8L38.89-31.8 41.41-31.8 45.22-36.47Q44.63-36.68 44.2-36.95L44.2-36.95Q43.45-40.61 40.44-44.15L40.44-44.15 40.82-44.42Q48.34-44.58 50.22-41.36L50.22-41.36Q51.4-39.37 49.9-37.54L49.9-37.54Q48.82-36.2 47.05-36.15L47.05-36.15Q51.72-32.66 53.55-31.15L53.55-31.15Q53.28-30.24 51.94-30.24L51.94-30.24 38.99-30.24Q39.91-13.11 47.27-6.18L47.27-6.18Q48.18-5.16 48.88-6.34L48.88-6.34Q50.54-8.92 52.69-13.32L52.69-13.32ZM61.07-46.03L61.07-46.03 61.45-46.3Q69.77-45.65 71.97-41.73L71.97-41.73Q73.32-39.37 71.76-37.28L71.76-37.28Q70.25-35.23 67.62-35.77L67.62-35.77Q66.55-35.99 65.47-36.68L65.47-36.68Q64.61-41.2 61.07-46.03ZM56.29-33.46L56.29-33.46 56.67-33.73Q64.67-33.35 66.82-29.59L66.82-29.59Q68.16-27.29 66.6-25.24L66.6-25.24Q65.1-23.26 62.52-23.85L62.52-23.85Q61.61-24.06 60.69-24.65L60.69-24.65Q59.89-29 56.29-33.46ZM73.91-38.08L73.91-38.08 74.77-37.87Q70.25-22.5 68.8-15.36L68.8-15.36Q68-11.6 68.05-9.78L68.05-9.78Q68.11-8.49 69.39-5.56 70.68-2.63 70.58 0.27L70.58 0.27Q70.52 2.47 69.02 3.87 67.51 5.26 65.21 5.26L65.21 5.26Q62.3 5.26 61.61 2.36L61.61 2.36Q62.47-2.04 62.36-5.67 62.25-9.29 61.23-9.99L61.23-9.99Q60-10.8 58.22-10.96L58.22-10.96 58.22-11.92 60.8-11.92Q61.28-11.92 61.5-11.98 61.71-12.03 61.98-12.27 62.25-12.51 62.52-13.11L62.52-13.11Q63.54-14.72 64.96-17.83 66.39-20.95 73.91-38.08ZM97.81-39.16L97.81-39.16 79.71-39.16Q82.29-25.94 90.02-16.38L90.02-16.38Q95.5-26.48 97.81-39.16ZM97.27-40.71L101.35-44.96 108.23-38.62Q107.74-37.71 105.76-37.49L105.76-37.49Q102.37-21.59 94.53-11.55L94.53-11.55Q100.76-5.75 109.62-1.45L109.62-1.45 109.3-0.75Q103.5-0.64 100.71 5L100.71 5Q94.05 0 89.7-6.23L89.7-6.23Q82.23 0.91 71.17 5L71.17 5 70.68 4.46Q80.19-1.5 86.74-11.06L86.74-11.06Q80.78-22.02 78.74-39.16L78.74-39.16 74.12-39.16 73.64-40.71 97.27-40.71Z" transform="translate(-1.1800000667572021, 46.779998779296875)"/></g>       </g></g> <g data-gra="path-slogan" fill-rule="" class="tp-slogan" fill-opacity="1" transform="translate(32.19000053405762,68.0999984741211)">  <g transform="scale(1, 1)"><g transform="scale(1)"><path d="M5.67-7.13L5.63-7.13L3.66 0L2.44 0L0.19-8.58L1.41-8.58L3.05-1.59L3.09-1.59L5.02-8.58L6.28-8.58L8.20-1.59L8.25-1.59L9.84-8.58L11.11-8.58L8.86 0L7.64 0L5.67-7.13ZM17.86-3.19L17.86-8.58L19.03-8.58L19.03-3.05Q18.89 0.05 15.52 0.14L15.52 0.14Q12.38 0.05 12.23-2.86L12.23-2.86L12.23-8.58L13.41-8.58L13.41-3.19Q13.45-0.84 15.56-0.80L15.56-0.80Q17.86-0.84 17.86-3.19L17.86-3.19ZM21.98-5.06L26.48-5.06L26.48-8.58L27.66-8.58L27.66 0L26.48 0L26.48-3.98L21.98-3.98L21.98 0L20.81 0L20.81-8.58L21.98-8.58L21.98-5.06ZM35.11 0L34.27-2.48L30.80-2.48L29.91 0L28.73 0L31.97-8.58L33.28-8.58L36.38 0L35.11 0ZM32.53-7.31L31.17-3.52L33.84-3.52L32.58-7.31L32.53-7.31ZM38.81-8.58L43.13-1.64L43.13-8.58L44.25-8.58L44.25 0L42.94 0L38.58-6.94L38.53-6.94L38.53 0L37.41 0L37.41-8.58L38.81-8.58Z" transform="translate(-0.1875, 8.578125)"/></g></g></g></g></g></mask><defs v-gra="od"/></svg></p><ul><li>2.4 重庆</li></ul><p>它是火锅之都，是夜景之王，是巴渝文化的发源地。</p><p><svg data-v-0dd9719b="" version="1.0" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="100%" height="100%" viewbox="0 0 340.000000 250.000000" preserveaspectratio="xMidYMid meet" color-interpolation-filters="sRGB" style="margin: auto;"> <rect data-v-0dd9719b="" x="0" y="0" width="100%" height="100%" fill="#ffffff" fill-opacity="1" class="background"/>  <g data-v-0dd9719b="" fill="#133157" class="basesvg" transform="translate(116.73458862304688,91.51874923706055)"><g data-gra="path-name" fill-rule="" class="tp-name" transform="translate(0,0)"><g transform="scale(1)"><g><path d="M14.3-19.75L14.3-13.97 24.59-13.97 24.59-19.75 14.3-19.75ZM24.59-21.34L24.59-26.95 14.3-26.95 14.3-21.34 24.59-21.34ZM40.42-21.34L40.42-26.95 29.92-26.95 29.92-21.34 40.42-21.34ZM29.92-19.75L29.92-13.97 40.42-13.97 40.42-19.75 29.92-19.75ZM29.92 1.16L43.45 1.16Q43.62-3.14 48.4-3.14L48.4-3.14Q53.24-2.42 53.08 1.87L53.08 1.87Q52.85 2.75 51.54 2.75L51.54 2.75 2.42 2.75 1.93 1.16 24.59 1.16 24.59-5.12 6.71-5.12 6.21-6.71 24.59-6.71 24.59-12.38 14.3-12.38 14.3-11.28Q14.3-10.84 12.81-10.18L12.81-10.18Q11.33-9.57 9.85-9.57L9.85-9.57 9.07-9.57 9.07-28.49 24.59-28.49 24.59-33.6 3.35-33.6 2.92-35.2 24.59-35.2 24.59-39.93Q15.56-39.27 6.43-39.27L6.43-39.27 6.33-40.26Q15.46-41.09 25.63-42.84L25.63-42.84Q35.86-44.66 41.91-46.53L41.91-46.53 46.64-41.69Q45.7-40.87 43.4-41.91L43.4-41.91Q37.45-40.98 29.92-40.31L29.92-40.31 29.92-35.2 43.17-35.2Q43.4-39.05 47.91-39.05L47.91-39.05Q52.41-38.34 52.2-34.48L52.2-34.48Q51.98-33.6 50.71-33.6L50.71-33.6 29.92-33.6 29.92-28.49 39.88-28.49Q40.15-31.35 44.22-31.35L44.22-31.35Q48.29-30.03 48.02-27.17L48.02-27.17Q47.3-26.4 45.7-26.07L45.7-26.07 45.7-11.82Q45.65-11.55 44.05-10.95L44.05-10.95Q47.35-7.87 49.5-6L49.5-6Q49.28-5.12 48.02-5.12L48.02-5.12 29.92-5.12 29.92 1.16ZM40.87-6.71L43.84-10.39Q42.52-10.39 41.3-10.39L41.3-10.39 40.42-10.39 40.42-12.38 29.92-12.38 29.92-6.71 40.87-6.71ZM79.36-46.37L79.36-46.37 79.75-46.75Q86.95-46.04 88.83-42.52L88.83-42.52Q89.92-40.42 88.55-38.88L88.55-38.88Q87.12-37.29 84.86-38.45L84.86-38.45Q84.7-38.55 84.59-38.61L84.59-38.61Q83.44-42.41 79.36-46.37ZM106.97-36.35L67.65-36.35 67.65-23.54Q67.65-20.24 67.48-17.77L67.48-17.77Q67.38-15.29 66.77-11.82L66.77-11.82Q66.22-8.42 65.12-5.72L65.12-5.72Q64.08-3.08 62.09-0.22 60.12 2.64 57.31 4.84L57.31 4.84 56.59 4.34Q60.28-1.1 61.44-7.81L61.44-7.81Q62.59-14.57 62.59-23.48L62.59-23.48 62.59-37.95 99.88-37.95Q99.94-41.91 104.22-41.91L104.22-41.91Q108.52-41.2 108.46-37.23L108.46-37.23Q108.24-36.35 106.97-36.35L106.97-36.35ZM104.88-21.67L104.88-21.67 88.22-21.67Q90.47-13.8 95.81-8.74L95.81-8.74Q101.15-3.74 108.46-1.38L108.46-1.38 108.35-0.71Q104.28 0.99 103.73 4.4L103.73 4.4Q91.69-2.42 87.5-19.36L87.5-19.36Q85.41-10.78 79.97-4.79L79.97-4.79Q74.53 1.16 64.19 4.57L64.19 4.57 63.69 3.96Q72.33-0.33 76.72-6.71L76.72-6.71Q81.13-13.14 82.61-21.67L82.61-21.67 69.8-21.67 69.36-23.27 82.83-23.27Q83.55-28.11 83.44-35.04L83.44-35.04 89.27-34.27Q88.99-27.23 88.33-23.27L88.33-23.27 96.85-23.27Q97.08-27.39 101.86-27.39L101.86-27.39Q106.65-26.68 106.42-22.55L106.42-22.55Q106.2-21.67 104.88-21.67Z" transform="translate(-1.9300000667572021, 46.75)"/></g> <!----> <!----> <!----> <!----> <!----> <!----> <!----></g></g> <g data-gra="path-slogan" fill-rule="" class="tp-slogan" fill="#fcb51f" transform="translate(16.400409698486328,57.59000015258789)"><!----> <!----> <g transform="scale(1, 1)"><g transform="scale(1)"><path d="M8.06-6.05L8.06-6.05L6.94-6.05Q6.52-7.78 4.55-7.83L4.55-7.83Q1.83-7.69 1.73-4.36L1.73-4.36Q1.73-0.80 4.59-0.80L4.59-0.80Q6.56-0.84 7.03-3.19L7.03-3.19L8.16-3.19Q7.64 0.05 4.36 0.14L4.36 0.14Q0.61 0 0.52-4.31L0.52-4.31Q0.70-8.63 4.55-8.81L4.55-8.81Q7.59-8.72 8.06-6.05ZM10.69-5.06L15.19-5.06L15.19-8.58L16.36-8.58L16.36 0L15.19 0L15.19-3.98L10.69-3.98L10.69 0L9.52 0L9.52-8.58L10.69-8.58L10.69-5.06ZM24.94-4.27L24.94-4.27Q24.75-7.64 21.94-7.83L21.94-7.83Q19.08-7.69 18.94-4.27L18.94-4.27Q19.08-0.94 21.94-0.80L21.94-0.80Q24.75-0.98 24.94-4.27ZM26.11-4.27L26.11-4.27Q25.83 0 21.94 0.14L21.94 0.14Q18 0 17.72-4.27L17.72-4.27Q17.95-8.72 21.94-8.81L21.94-8.81Q25.83-8.67 26.11-4.27ZM28.88-8.58L33.19-1.64L33.19-8.58L34.31-8.58L34.31 0L33 0L28.64-6.94L28.59-6.94L28.59 0L27.47 0L27.47-8.58L28.88-8.58ZM42.52-3.61L39.89-3.61L39.89-4.59L43.64-4.59L43.64 0L42.89 0L42.61-1.08Q41.63 0.09 39.80 0.14L39.80 0.14Q38.06 0.14 37.13-0.75L37.13-0.75Q35.72-2.06 35.77-4.36L35.77-4.36Q36.09-8.63 39.84-8.81L39.84-8.81Q43.03-8.63 43.50-6L43.50-6L42.38-6Q41.91-7.78 39.80-7.83L39.80-7.83Q37.13-7.64 36.98-4.31L36.98-4.31Q36.98-0.75 39.84-0.75L39.84-0.75Q40.88-0.75 41.63-1.31L41.63-1.31Q42.56-2.06 42.52-3.61L42.52-3.61ZM50.44-1.08L49.55-1.78L50.16-2.48L51.23-1.64Q52.22-2.63 52.22-4.27L52.22-4.27Q52.03-7.64 49.22-7.83L49.22-7.83Q46.36-7.69 46.22-4.27L46.22-4.27Q46.36-0.94 49.22-0.80L49.22-0.80Q49.92-0.80 50.44-1.08L50.44-1.08ZM52.17-0.94L53.30-0.05L52.73 0.56L51.42-0.33Q50.58 0.14 49.22 0.14L49.22 0.14Q45.28 0 45-4.27L45-4.27Q45.23-8.72 49.22-8.81L49.22-8.81Q53.11-8.67 53.39-4.27L53.39-4.27Q53.34-2.20 52.17-0.94L52.17-0.94ZM54.94-8.58L56.11-8.58L56.11 0L54.94 0L54.94-8.58ZM59.48-8.58L63.80-1.64L63.80-8.58L64.92-8.58L64.92 0L63.61 0L59.25-6.94L59.20-6.94L59.20 0L58.08 0L58.08-8.58L59.48-8.58ZM73.13-3.61L70.50-3.61L70.50-4.59L74.25-4.59L74.25 0L73.50 0L73.22-1.08Q72.23 0.09 70.41 0.14L70.41 0.14Q68.67 0.14 67.73-0.75L67.73-0.75Q66.33-2.06 66.38-4.36L66.38-4.36Q66.70-8.63 70.45-8.81L70.45-8.81Q73.64-8.63 74.11-6L74.11-6L72.98-6Q72.52-7.78 70.41-7.83L70.41-7.83Q67.73-7.64 67.59-4.31L67.59-4.31Q67.59-0.75 70.45-0.75L70.45-0.75Q71.48-0.75 72.23-1.31L72.23-1.31Q73.17-2.06 73.13-3.61L73.13-3.61Z" transform="translate(-0.515625, 8.8125)"/></g></g></g></g><defs v-gra="od"/></svg></p><h2 id="📚-2023-目标总结"><a href="#📚-2023-目标总结" class="headerlink" title="📚 2023 目标总结"></a>📚 2023 目标总结</h2><h3 id="🌱-做得好的"><a href="#🌱-做得好的" class="headerlink" title="🌱 做得好的"></a>🌱 做得好的</h3><ul><li>攒米的速度超过预期。</li><li>慢慢开始接触理财知识，并且开始实践。</li><li>开始第二门外语的学习，并且取得了一定成果。英语也有所进步。</li><li>为人处世方面更加成熟。</li><li>运动量有所恢复。</li></ul><h3 id="🔧-做得不太好的"><a href="#🔧-做得不太好的" class="headerlink" title="🔧 做得不太好的"></a>🔧 做得不太好的</h3><ul><li>运动量没有恢复到 2019 年的水平。仍然还有疫苗后遗症。</li><li>英语学习没有持之以恒。2024 没了试用期压力后，预计会有更好的投入。</li><li>并未参与任何开源项目。</li><li>因为失去个人电脑，所以不方便进行知识积淀。导致积累没有变多。</li><li>看番剧、看书没有以前多了。</li></ul><h2 id="🚀-2024-目标"><a href="#🚀-2024-目标" class="headerlink" title="🚀 2024 目标"></a>🚀 2024 目标</h2><ul><li>努力恢复运动量水平</li><li>继续攒米，理财收益率 4%+</li><li>日语考试通过 N2，让自己真正意义上能读懂，能使用第二种语言。不让自己的知识水平局限于半吊子。</li><li>完成一门国外的计算机课程（任意都行，暂定 6.824）。</li></ul><h2 id="🌈-ONE-MORE-THING"><a href="#🌈-ONE-MORE-THING" class="headerlink" title="🌈 ONE MORE THING"></a>🌈 ONE MORE THING</h2><p>最后分享一首我今年很喜欢的诗歌。</p><p><strong>Do not go gentle into that good night</strong>.</p><p>Dylan Thomas, 1914–1953</p><p>Do not go gentle into that good night,<br>Old age should burn and rave at close of day;<br>Rage, rage against the dying of the light.</p><p>Though wise men at their end know dark is right,<br>Because their words had forked no lightning they<br>Do not go gentle into that good night.</p><p>Good men, the last wave by, crying how bright<br>Their frail deeds might have danced in a green bay,<br>Rage, rage against the dying of the light.</p><p>Wild men who caught and sang the sun in flight,<br>And learn, too late, they grieved it on its way,<br>Do not go gentle into that good night.</p><p>Grave men, near death, who see with blinding sight<br>Blind eyes could blaze like meteors and be gay,<br>Rage, rage against the dying of the light.</p><p>And you, my father, there on the sad height,<br>Curse, bless, me now with your fierce tears, I pray.<br>Do not go gentle into that good night.<br>Rage, rage against the dying of the light.</p>]]></content>
      
      
      <categories>
          
          <category> 碎碎念 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 碎碎念 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>How to create a CLI program using Node.js</title>
      <link href="/2023/11/09/create-a-cli/"/>
      <url>/2023/11/09/create-a-cli/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="导引"><a href="#导引" class="headerlink" title="导引"></a>导引</h2><p>这一篇博客主要收到了 YouTuber Fireship 的5分钟编程系列的如何快速使用 Node.js 写出一个 cli 程序的启发。正好工作之中也用到了，所以就此沉淀一篇文章，以防这个技能后面丢了。在这篇博客中，第一个部分我会还原我会尽量保持原视频的思路，然后删除一些可有可无的部分，作为二次加工，这样子吸收知识的效率会增加。之后我会来写深入的部分。</p><p>废话不多说，让我们进入正题。</p><p>The one thing that makes developers different than the common people out there is the command line the moment someone opens up a terminal and types out their first command. They’re instantly transformed into a jedi hacker.</p><p>[…some text is omitted here]</p><p>I realize that people will bash me for not using bash in this video but the <strong>node.js ecosystem</strong> has all kinds of awesome tools that can help you build an over-the-top command line tool that’ll make people think you’re some kind of coding wizard.</p><h2 id="练手程序1"><a href="#练手程序1" class="headerlink" title="练手程序1"></a>练手程序1</h2><p>通过这个程序我们会掌握基本编写 cli 的工具，以及对 cli 工具做出一些美化。</p><p>Let’s first take a look at what we’re building today. We have a command line tool that <strong>animates the text</strong> who wants to be a javascript millionaire then it will prompt you to <strong>enter your name</strong>. After that it goes through a series of multiple choice questions when you enter an answer it will show a <strong>loading spinner</strong>. If you get it right it will continue. But if you get it wrong it will <strong>exit the command line script and call you a loser</strong>. If you make it all the way to the end, you win it will <strong>show you some ascii text with a color gradient</strong> and a message.</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> chalk <span class="token keyword">from</span> <span class="token string">'chalk'</span><span class="token punctuation">;</span><span class="token keyword">import</span> inquirer <span class="token keyword">from</span> <span class="token string">'inquirer'</span><span class="token punctuation">;</span><span class="token keyword">import</span> gradient <span class="token keyword">from</span> <span class="token string">'gradient-string'</span><span class="token punctuation">;</span><span class="token keyword">import</span> chalkAnimation <span class="token keyword">from</span> <span class="token string">'chalk-animation'</span> <span class="token keyword">import</span> figlet <span class="token keyword">from</span> <span class="token string">'figlet'</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> createSpinner <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'nanospinner'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>[…some text is omitted here]</p><p>需要导入的内容是以上这些，之后直接用 chalk 就可以给文字添加各种各样的样式啦！</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>chalk<span class="token punctuation">.</span><span class="token function">bgGreen</span><span class="token punctuation">(</span><span class="token string">'hi mon!'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>Running node index.js or just node period and the result should be the <strong>highlighted text colored text</strong> is cool, but what’s even better is animated colored text a package that builds on top of chalk called chalk animation allows us to easily create a rainbow animation and a bunch of others as well.</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> chalk <span class="token keyword">from</span> <span class="token string">'chalk'</span><span class="token punctuation">;</span><span class="token keyword">const</span> log <span class="token operator">=</span> console<span class="token punctuation">.</span>log<span class="token punctuation">;</span><span class="token comment">// Combine styled and normal strings</span><span class="token function">log</span><span class="token punctuation">(</span>chalk<span class="token punctuation">.</span><span class="token function">blue</span><span class="token punctuation">(</span><span class="token string">'Hello'</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">' World'</span> <span class="token operator">+</span> chalk<span class="token punctuation">.</span><span class="token function">red</span><span class="token punctuation">(</span><span class="token string">'!'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// Compose multiple styles using the chainable API</span><span class="token function">log</span><span class="token punctuation">(</span>chalk<span class="token punctuation">.</span>blue<span class="token punctuation">.</span>bgRed<span class="token punctuation">.</span><span class="token function">bold</span><span class="token punctuation">(</span><span class="token string">'Hello world!'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// Pass in multiple arguments</span><span class="token function">log</span><span class="token punctuation">(</span>chalk<span class="token punctuation">.</span><span class="token function">blue</span><span class="token punctuation">(</span><span class="token string">'Hello'</span><span class="token punctuation">,</span> <span class="token string">'World!'</span><span class="token punctuation">,</span> <span class="token string">'Foo'</span><span class="token punctuation">,</span> <span class="token string">'bar'</span><span class="token punctuation">,</span> <span class="token string">'biz'</span><span class="token punctuation">,</span> <span class="token string">'baz'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// Nest styles</span><span class="token function">log</span><span class="token punctuation">(</span>chalk<span class="token punctuation">.</span><span class="token function">red</span><span class="token punctuation">(</span><span class="token string">'Hello'</span><span class="token punctuation">,</span> chalk<span class="token punctuation">.</span>underline<span class="token punctuation">.</span><span class="token function">bgBlue</span><span class="token punctuation">(</span><span class="token string">'world'</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'!'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// Nest styles of the same type even (color, underline, background)</span><span class="token function">log</span><span class="token punctuation">(</span>chalk<span class="token punctuation">.</span><span class="token function">green</span><span class="token punctuation">(</span>  <span class="token string">'I am a green line '</span> <span class="token operator">+</span>  chalk<span class="token punctuation">.</span>blue<span class="token punctuation">.</span>underline<span class="token punctuation">.</span><span class="token function">bold</span><span class="token punctuation">(</span><span class="token string">'with a blue substring'</span><span class="token punctuation">)</span> <span class="token operator">+</span>  <span class="token string">' that becomes green again!'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// ES2015 template literal</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">CPU: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>chalk<span class="token punctuation">.</span><span class="token function">red</span><span class="token punctuation">(</span><span class="token string">'90%'</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">RAM: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>chalk<span class="token punctuation">.</span><span class="token function">green</span><span class="token punctuation">(</span><span class="token string">'40%'</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">DISK: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>chalk<span class="token punctuation">.</span><span class="token function">yellow</span><span class="token punctuation">(</span><span class="token string">'70%'</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string"></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// Use RGB colors in terminal emulators that support it.</span><span class="token function">log</span><span class="token punctuation">(</span>chalk<span class="token punctuation">.</span><span class="token function">rgb</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">,</span> <span class="token number">45</span><span class="token punctuation">,</span> <span class="token number">67</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">underline</span><span class="token punctuation">(</span><span class="token string">'Underlined reddish color'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">log</span><span class="token punctuation">(</span>chalk<span class="token punctuation">.</span><span class="token function">hex</span><span class="token punctuation">(</span><span class="token string">'#DEADED'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">bold</span><span class="token punctuation">(</span><span class="token string">'Bold gray!'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>In the code here i’m creating a global variable for the player name then an async function called welcome the welcome screen will animate the text who wants to be a javascript millionaire. Now in the terminal we can only do one thing at a time and to display an animation we’ll need a couple of seconds to show it to the user to handle that.</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">let</span> playerName<span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token function-variable function">sleep</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">ms <span class="token operator">=</span> <span class="token number">2000</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">r</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">setTimeout</span><span class="token punctuation">(</span>r<span class="token punctuation">,</span> ms<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token function-variable function">welcome</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> rainbowTitle <span class="token operator">=</span> chalkAnimation<span class="token punctuation">.</span><span class="token function">rainbow</span><span class="token punctuation">(</span><span class="token string">'Who Wants To Be A JavaScript Millionaire? \n'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">await</span> <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  rainbowTitle<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">    </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>chalk<span class="token punctuation">.</span><span class="token function">bgBlue</span><span class="token punctuation">(</span><span class="token string">'HOW TO PLAY'</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">    I am a process on your computer.    If you get any question wrong I will be </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>chalk<span class="token punctuation">.</span><span class="token function">bgRed</span><span class="token punctuation">(</span><span class="token string">'killed'</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">    So get all the questions right...  </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">await</span> <span class="token function">welcome</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>Now we’re going to take a look at another very popular library used in many command line tools called <strong>inquirer</strong>, its job is to collect user input and has a variety of different ways for doing so to collect the user’s name. We’ll first create an inquirer prompt which can be customized with a variety of different options. You’ll first give the data a name and then the type specifies how that information should be collected an input is like a form that the user can type into. You can also do things like validate the input or provide a default value.</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">askName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">const</span> answers <span class="token operator">=</span> <span class="token keyword">await</span> inquirer<span class="token punctuation">.</span><span class="token function">prompt</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>  <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'player_name'</span><span class="token punctuation">,</span>  <span class="token literal-property property">type</span><span class="token operator">:</span><span class="token string">'input'</span><span class="token punctuation">,</span>  <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">'What is your name?'</span><span class="token punctuation">,</span>  <span class="token function-variable function">default</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> <span class="token string">'Player'</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>playerName <span class="token operator">=</span> answers<span class="token punctuation">.</span>player_name<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>The next thing we’ll do is use inquirer to create multiple choice questions for the quiz this function will work in almost the exact same way. The only difference is that instead of an input we’re now using a list which has multiple choices to choose from. Now we’ll need to handle the ui differently based on whether or not the user selects the correct option.</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> <span class="token function-variable function">question1</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> answers <span class="token operator">=</span> <span class="token keyword">await</span> inquirer<span class="token punctuation">.</span><span class="token function">prompt</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'question_1'</span><span class="token punctuation">,</span>    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'list'</span><span class="token punctuation">,</span>    <span class="token literal-property property">message</span><span class="token operator">:</span> 'JavaScript was created <span class="token keyword">in</span> <span class="token number">10</span> days thenreleased on\'<span class="token punctuation">,</span>    <span class="token literal-property property">choices</span><span class="token operator">:</span> <span class="token punctuation">[</span>      <span class="token string">'May 23rd, 1995'</span><span class="token punctuation">,</span>      <span class="token string">'Nov 24th, 1995'</span><span class="token punctuation">,</span>      <span class="token string">'Dec 4th, 1995'</span><span class="token punctuation">,</span>      <span class="token string">'Dec 17, 1996'</span><span class="token punctuation">,</span>    <span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">return</span> <span class="token function">handleAnswer</span><span class="token punctuation">(</span>answers<span class="token punctuation">.</span>question_1 <span class="token operator">===</span> <span class="token string">'Nov 24th, 1995'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>…Called handle answer that takes a boolean as its argument. Inside the function we’ll create a <strong>loading spinner</strong> with a package called nanospinner that will run for 2 seconds while checking the answer if the answer is correct. Then we can say spin or success and move on to the next question otherwise we’re going to say spin or error and then call process exit with an argument of 1. <strong>When a process exits it usually has a code of 0 or 1. 1 means that it exited with errors 0 means everything was fine.</strong></p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> handleAnswer <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span>isCorrect<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token keyword">const</span> spinner <span class="token operator">=</span> <span class="token function">createSpinner</span><span class="token punctuation">(</span><span class="token string">'Checking answer...'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">await</span> <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>isCorrect<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  spinner<span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Nice work </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>playerName<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">. That's a legit answer</span><span class="token template-punctuation string">`</span></span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>  spinner<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> <span class="token literal-property property">text</span><span class="token operator">:</span>  <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Game over, you lose </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>playerName<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">!</span><span class="token template-punctuation string">`</span></span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>  process<span class="token punctuation">.</span><span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>Let’s go ahead and run that function and you should get a multiple choice question that when answered correctly will give you a green check mark and when answered incorrectly we’ll give you a red x.</p><p>Now all the other questions are implemented in the exact same way so now let’s implement the screen for the winner. The function will clear the console’s current output and then format a message called congrats player name. Here’s a million dollars we’ll then pass the message on to <strong>figlet which is actually a javascript implementation of a popular program implemented in the c language</strong> what it does is generate ascii art from text which is really useful for making your non-programmer friends think you’re some kind of genius on top of that.</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> <span class="token function-variable function">winner</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  console<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">const</span> msg <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Congrats , </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>playerName<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string"> !\n $ 1 , 0 0 0 , 0 0 0</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>  <span class="token function">figlet</span><span class="token punctuation">(</span>msg<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>gradient<span class="token punctuation">.</span>pastel<span class="token punctuation">.</span><span class="token function">multiline</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><div align="center">  <img src="../../../../loading2.svg" data-original="/2023/11/09/create-a-cli/1.png"></div><p>It look even more spectacular using the gradient string package. It’s kind of like chalk but instead of a plain color it creates a color gradient. And now we can await each step in the process for a complete command line tool it may seem trivial but knowing how to build your own cli tool can be extremely useful for productivity.</p><p>最后排列组合几个代码段，就大功告成了。当然，问题得自己设计好，不然的话可就太没挑战性了。</p><p>最后来张二次元，表示第一部分写完了！</p><div align="center">  <img src="../../../../loading2.svg" data-original="/2023/11/09/create-a-cli/2.jpeg"></div><h2 id="练手程序2"><a href="#练手程序2" class="headerlink" title="练手程序2"></a>练手程序2</h2><p>我们现在已经有了一个可以跑起来的程序，但是只做这些是没有用处的。CLI 最重要的职责还是方便的帮我们完成自动化的操作。</p><p>例如，我们开发一个 web 页面，需要用到最多的工具是 Live Server。平时我们经常使用 <code>pnpm dev</code> 现在我们想让 <code>pnpm dev</code> 启动 <code>webpack</code> 或者 <code>esbuild</code> 的时候，同时启动 <code>live-server</code>，就需要用到多线程的知识了。</p><p>进程和线程的主要差别在于它们是不同的操作系统资源管理方式。进程有独立的地址空间，一个进程崩溃后，在保护模式下不会对其它进程产生影响，而线程只是一个进程中的不同执行路径。线程有自己的堆栈和局部变量，但线程之间没有单独的地址空间，一个线程死掉就等于整个进程死掉，所以多进程的程序要比多线程的程序健壮，但在进程切换时，耗费资源较大，效率要差一些。但对于一些要求同时进行并且又要共享某些变量的并发操作，只能用线程，不能用进程。</p><ol><li><p>简而言之，一个程序至少有一个进程，一个进程至少有一个线程。</p></li><li><p>线程的划分尺度小于进程，使得多线程程序的并发性高。</p></li><li><p>另外，进程在执行过程中拥有独立的内存单元，而多个线程共享内存，从而极大地提高了程序的运行效率。</p></li><li><p>线程在执行过程中与进程还是有区别的。每个独立的线程有一个程序运行的入口、顺序执行序列和程序的出口。但是线程不能够独立执行，必须依存在应用程序中，由应用程序提供多个线程执行控制。</p></li><li><p>从逻辑角度来看，多线程的意义在于一个应用程序中，有多个执行部分可以同时执行。但操作系统并没有将多个线程看做多个独立的应用，来实现进程的调度和管理以及资源分配。这就是进程和线程的重要区别。</p></li></ol><p>JavaScript 是<strong>单线程</strong>语言，代表着一个 JS 进程程序只能拥有一个线程。所以在 Node.js 使用多线程，本质上是单独开辟了一个新进程，进程下有其他线程。</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> http <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'http'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>http<span class="token punctuation">.</span><span class="token function">createServer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  process<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token string">'testNodeJS'</span><span class="token punctuation">;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">process.pid: </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> process<span class="token punctuation">.</span>pid<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>使用 <code>http.createServer()</code> 可以创建一个服务器进程，这个时候就可以通过 <code>console.log</code> 看到这个进程出现了。</p><p>Node.js 中的进程 process 是全局对象可以直接访问，下面是一些常用的功能：</p><ul><li><code>process.env</code>：环境变量，例如通过 <code>process.env.NODE_ENV</code> 获取不同环境项目配置信息。</li><li><code>process.nextTick</code>：这个在谈及 Event Loop 时经常为会提到，简单的来说它是用来执行异步操作的，执行顺序在promise.then之前，主任务之后。而在浏览器端，nextTick 会退化成 <code>setTimeout(callback, 0)</code>.</li><li><code>process.pid</code>：获取当前进程 id。</li><li><code>process.ppid</code>：当前进程对应的父进程。</li><li><code>process.cwd()</code>：获取当前进程工作目录。</li><li><code>process.platform</code>：获取当前进程运行的操作系统平台。</li><li><code>process.uptime()</code>：当前进程已运行时间，例如：pm2 守护进程的 uptime 值。</li><li>进程事件：<code>process.on(&#39;uncaughtException&#39;, cb)</code> 捕获异常信息、<code>process.on(&#39;exit&#39;, cb)</code> 进程推出监听。</li><li>三个标准流：<code>process.stdout</code> 标准输出、<code>process.stdin</code> 标准输入、<code>process.stderr</code> 标准错误输出。</li></ul><p><code>node:child_process</code> 模块提供了以与 popen(3) 类似但不完全相同的方式衍生子进程的能力。 此功能主要由 <code>child_process.spawn()</code> 函数提供：</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> <span class="token punctuation">&#123;</span> spawn <span class="token punctuation">&#125;</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'node:child_process'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> ls <span class="token operator">=</span> <span class="token function">spawn</span><span class="token punctuation">(</span><span class="token string">'ls'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'-lh'</span><span class="token punctuation">,</span> <span class="token string">'/usr'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>ls<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'data'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">stdout: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>data<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>ls<span class="token punctuation">.</span>stderr<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'data'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">stderr: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>data<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>ls<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'close'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">code</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">child process exited with code </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>code<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>默认情况下，会在父 Node.js 进程和衍生的子进程之间建立 <code>stdin</code>、<code>stdout</code> 和 <code>stderr</code> 的管道。 这些管道的容量有限（且特定于平台）。 如果子进程在没有捕获输出的情况下写入标准输出超过该限制，则子进程会阻塞等待管道缓冲区接受更多数据。 这与 shell 中管道的行为相同。 如果不消费输出，则使用 <code>&#123; stdio: &#39;ignore&#39; &#125;</code> 选项。</p><p>为方便起见，<code>node:child_process</code> 模块提供了一些同步和异步方法替代 <code>child_process.spawn()</code> 和 <code>child_process.spawnSync()</code>。 这些替代方法中的每一个都是基于 <code>child_process.spawn()</code> 或 <code>child_process.spawnSync()</code> 实现。</p><ul><li><code>child_process.exec()</code>: 衍生 shell 并在该 shell 中运行命令，完成后将 stdout 和 stderr 传给回调函数。</li><li><code>child_process.execFile()</code>: 与 <code>child_process.exec()</code> 类似，不同之处在于，默认情况下，它直接衍生命令，而不先衍生 shell。</li><li><code>child_process.fork()</code>: 衍生新的 Node.js 进程并使用建立的 IPC 通信通道（其允许在父子进程之间发送消息）调用指定的模块。</li><li><code>child_process.execSync()</code>: <code>child_process.exec()</code> 的同步版本，其将阻塞 Node.js 事件循环。</li><li><code>child_process.execFileSync()</code>: <code>child_process.execFile()</code> 的同步版本，其将阻塞 Node.js 事件循环。</li></ul><p>所以我们重写 <code>pnpm dev</code> 的时候，完全可以通过直接开一个子进程的方式运行 <code>http-server</code> 或者 <code>live-server</code>.</p><p>以下是 fork() 和 spawn() 之间的区别：</p><table><thead><tr><th><p style="text-align:center;">Spawn</p></th><th><p style="text-align:center;">Fork</p></th></tr></thead><tbody><tr><td>This starts sending data back to a parent process from the child process as soon as the child process starts executing.</td><td>This does not send data automatically, but we can use a global module name process to send data from the child process and in the parent module, using the name of the child the process to send to the child process.</td></tr><tr><td>It creates a new process through command rather than running on the same node process.</td><td>It makes several individual processes (child processes) but all of them run on the same node process as the parent.</td></tr><tr><td>In this, no new V8 instance is created.</td><td>In this, a new V8 instance is created.</td></tr><tr><td>It is used when we want the child process to return a large amount of data back to the parent process.</td><td>It is used to separate computation-intensive tasks from the main event loop.</td></tr></tbody></table><p>以下是建立一个子进程的方式，通过 spawn 方法来实现。并且用过 pipe 方法让子进程的 stdout 和主进程的 stdout 相连接。</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> <span class="token punctuation">&#123;</span> spawn <span class="token punctuation">&#125;</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'child_process'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 创建一个子进程，展示当前目录所有文件，cwd 指定子进程的工作目录，默认当前目录</span><span class="token keyword">const</span> child <span class="token operator">=</span> <span class="token function">spawn</span><span class="token punctuation">(</span><span class="token string">'ls'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'-l'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">cwd</span><span class="token operator">:</span> <span class="token string">'/xxx'</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 让子进程的 stdio 和当前进程的 stdio 之间建立管道链接</span>child<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>stdout<span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>pid<span class="token punctuation">,</span> child<span class="token punctuation">.</span>pid<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>让我们继续，看一个例子。这个例子中父子进程之间相互通信。</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// 父进程代码</span><span class="token keyword">const</span> <span class="token punctuation">&#123;</span> fork <span class="token punctuation">&#125;</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'child_process'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 创建子进程</span><span class="token keyword">const</span> child <span class="token operator">=</span> <span class="token function">fork</span><span class="token punctuation">(</span><span class="token string">'child.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 监听子进程发送的消息</span>child<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'message'</span><span class="token punctuation">,</span> <span class="token parameter">message</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>pid<span class="token punctuation">,</span> child<span class="token punctuation">.</span>pid<span class="token punctuation">)</span><span class="token punctuation">;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'父进程接收到消息:'</span><span class="token punctuation">,</span> message<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 向子进程发送消息</span>child<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'Hello from parent!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 子进程代码</span>process<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'message'</span><span class="token punctuation">,</span> <span class="token parameter">message</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token comment">// 这里的 process 等同于上述的 child.pid</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>pid<span class="token punctuation">)</span><span class="token punctuation">;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'子进程接收到消息:'</span><span class="token punctuation">,</span> message<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 向父进程发送消息</span>  process<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'Hello from child!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>需要注意的是，父进程和子进程之间的通信是异步的。父进程发送消息后，不会阻塞等待子进程的响应，而是继续执行后续的代码。类似地，子进程发送消息后，也不会阻塞等待父进程的响应。</p></blockquote><p>通过这个示例，我们可以做到父子进程通信，这意味着我们的程序可以进一步完善了：当 <code>webpack</code> 或者 <code>esbuild</code> 主进程完成打包的时候，这个时候如果没有出错，我们完全可以执行 <code>console.clear()</code> 方法降低无效信息的密度，进而降低心智负担。</p><div align="center">  <img src="../../../../loading2.svg" data-original="/2023/11/09/create-a-cli/3.jpeg"></div><h2 id="练手程序3"><a href="#练手程序3" class="headerlink" title="练手程序3"></a>练手程序3</h2><p>我们或许可以通过很多种方法来实现网络编程，但是应用层之上，存在不止一种协议。但是平时我们基本上只写 http 相关协议，对于其它的协议我们知之甚少。</p><h3 id="HTTP（超文本传输协议）："><a href="#HTTP（超文本传输协议）：" class="headerlink" title="HTTP（超文本传输协议）："></a>HTTP（超文本传输协议）：</h3><p>Node.js 提供了 http 模块用于创建 HTTP 服务器和客户端。可以使用 <code>http.createServer</code> 方法创建一个 HTTP 服务器，监听指定的端口，并对请求进行处理。同时，也可以使用 http.request 方法创建一个 HTTP 客户端，向其他服务器发送 HTTP 请求并获取响应。<br>通过 <code>http.createServer</code> 创建的服务器可以监听客户端的请求，并根据请求的路径和方法（GET、POST 等）做出相应的处理。我们可以编写回调函数来处理请求并发送响应，或者使用其他框架（如 Express.js）来简化处理过程。</p><p>以下是一个 http 服务端和客户端示例：</p><p>服务端</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> http <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'http'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> server <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token function">createServer</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  res<span class="token punctuation">.</span>statusCode <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">;</span>  res<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">'Content-Type'</span><span class="token punctuation">,</span> <span class="token string">'text/plain'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token string">'Hello, World!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>server<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">,</span> <span class="token string">'localhost'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'HTTP server listening on port 3000'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>客户端</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> http <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'http'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> options <span class="token operator">=</span> <span class="token punctuation">&#123;</span>  <span class="token literal-property property">hostname</span><span class="token operator">:</span> <span class="token string">'www.example.com'</span><span class="token punctuation">,</span>  <span class="token literal-property property">port</span><span class="token operator">:</span> <span class="token number">80</span><span class="token punctuation">,</span>  <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>  <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">'GET'</span><span class="token punctuation">,</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">const</span> req <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span>options<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Status code: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>res<span class="token punctuation">.</span>statusCode<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>    res<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'data'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">chunk</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>chunk<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>req<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>req<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="HTTPS（安全的超文本传输协议）："><a href="#HTTPS（安全的超文本传输协议）：" class="headerlink" title="HTTPS（安全的超文本传输协议）："></a>HTTPS（安全的超文本传输协议）：</h3><p>Node.js 提供了 https 模块用于创建 HTTPS 服务器和客户端。与 HTTP 类似，我们可以使用 <code>https.createServer</code> 方法创建一个 HTTPS 服务器，并使用 <code>https.request</code> 方法创建一个 HTTPS 客户端。<br>HTTPS 在传输过程中使用 SSL&#x2F;TLS 加密，提供了更高的安全性。为了使用 HTTPS，你需要为服务器配置 SSL 证书。可以使用自签名证书进行开发和测试，但在生产环境中，建议使用可信任的证书机构签发的证书。</p><p>服务端</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> https <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'https'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> options <span class="token operator">=</span> <span class="token punctuation">&#123;</span>  <span class="token literal-property property">key</span><span class="token operator">:</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span><span class="token string">'private.key'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token literal-property property">cert</span><span class="token operator">:</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span><span class="token string">'certificate.crt'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">const</span> server <span class="token operator">=</span> https<span class="token punctuation">.</span><span class="token function">createServer</span><span class="token punctuation">(</span>options<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  res<span class="token punctuation">.</span>statusCode <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">;</span>  res<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">'Content-Type'</span><span class="token punctuation">,</span> <span class="token string">'text/plain'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token string">'Hello, World!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>server<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">443</span><span class="token punctuation">,</span> <span class="token string">'localhost'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'HTTPS server listening on port 443'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>客户端</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> https <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'https'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> options <span class="token operator">=</span> <span class="token punctuation">&#123;</span>  <span class="token literal-property property">hostname</span><span class="token operator">:</span> <span class="token string">'www.example.com'</span><span class="token punctuation">,</span>  <span class="token literal-property property">port</span><span class="token operator">:</span> <span class="token number">443</span><span class="token punctuation">,</span>  <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>  <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">'GET'</span><span class="token punctuation">,</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">const</span> req <span class="token operator">=</span> https<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span>options<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Status code: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>res<span class="token punctuation">.</span>statusCode<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>    res<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'data'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">chunk</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>chunk<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>req<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>req<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="FTP（文件传输协议）："><a href="#FTP（文件传输协议）：" class="headerlink" title="FTP（文件传输协议）："></a>FTP（文件传输协议）：</h3><p>在 Node.js 中，可以使用第三方模块（如 ftp、ftps 等）来实现 FTP 协议。这些模块提供了用于创建 FTP 客户端的 API，使你能够连接到 FTP 服务器并执行文件的上传、下载、删除等操作。你可以使用这些模块来与远程 FTP 服务器进行文件传输。</p><p>使用 Node.js 进行 FTP 文件上传操作：</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> ftp <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'ftp'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ftp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>client<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'ready'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Connected to FTP server'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 上传文件</span>  <span class="token keyword">const</span> fileStream <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">createReadStream</span><span class="token punctuation">(</span><span class="token string">'local-file.txt'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  client<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>fileStream<span class="token punctuation">,</span> <span class="token string">'remote-file.txt'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'Error uploading file:'</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'File uploaded successfully'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>        <span class="token comment">// 断开 FTP 连接</span>    client<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>client<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'FTP error:'</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 连接到 FTP 服务器</span>client<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>  <span class="token literal-property property">host</span><span class="token operator">:</span> <span class="token string">'ftp.example.com'</span><span class="token punctuation">,</span>  <span class="token literal-property property">user</span><span class="token operator">:</span> <span class="token string">'username'</span><span class="token punctuation">,</span>  <span class="token literal-property property">password</span><span class="token operator">:</span> <span class="token string">'password'</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>下载文件：</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> ftp <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'ftp'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ftp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>client<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'ready'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Connected to FTP server'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 下载文件</span>  client<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'remote-file.txt'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> stream</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'Error downloading file:'</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">const</span> localFileStream <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">createWriteStream</span><span class="token punctuation">(</span><span class="token string">'local-file.txt'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      stream<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>localFileStream<span class="token punctuation">)</span><span class="token punctuation">;</span>      localFileStream<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'close'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'File downloaded successfully'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        client<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>client<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'FTP error:'</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 连接到 FTP 服务器</span>client<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>  <span class="token literal-property property">host</span><span class="token operator">:</span> <span class="token string">'ftp.example.com'</span><span class="token punctuation">,</span>  <span class="token literal-property property">user</span><span class="token operator">:</span> <span class="token string">'username'</span><span class="token punctuation">,</span>  <span class="token literal-property property">password</span><span class="token operator">:</span> <span class="token string">'password'</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="TCP（传输控制协议）："><a href="#TCP（传输控制协议）：" class="headerlink" title="TCP（传输控制协议）："></a>TCP（传输控制协议）：</h3><p>Node.js 的核心模块 net 提供了创建 TCP 服务器和客户端的 API。你可以使用 <code>net.createServer</code> 方法创建一个 TCP 服务器，并使用 <code>net.createConnection</code> 方法创建一个 TCP 客户端。<br>TCP 提供面向连接的可靠通信，适用于需要数据完整性和可靠性的场景。使用 TCP，你可以建立一个持久的连接，进行双向的数据传输。</p><p><strong>实际上，http 基于 TCP 实现</strong>，所以 TCP 完全就是 http 的实现。</p><h3 id="UDP（用户数据报协议）："><a href="#UDP（用户数据报协议）：" class="headerlink" title="UDP（用户数据报协议）："></a>UDP（用户数据报协议）：</h3><p>Node.js 的核心模块 <code>dgram</code> 提供了创建 UDP 服务器和客户端的 API。可以使用 <code>dgram.createSocket</code> 方法创建一个 UDP 服务器或客户端。<br>UDP 是面向无连接的协议，不提供可靠性和顺序保证。它更适合于实时性要求较高、对数据可靠性要求不高的场景，如音频、视频流等。</p><p>服务器：</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> dgram <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'dgram'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> server <span class="token operator">=</span> dgram<span class="token punctuation">.</span><span class="token function">createSocket</span><span class="token punctuation">(</span><span class="token string">'udp4'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>server<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'listening'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> address <span class="token operator">=</span> server<span class="token punctuation">.</span><span class="token function">address</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">UDP server listening on </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>address<span class="token punctuation">.</span>address<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>address<span class="token punctuation">.</span>port<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>server<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'message'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">msg<span class="token punctuation">,</span> rinfo</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Received message: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>msg<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string"> from </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>rinfo<span class="token punctuation">.</span>address<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>rinfo<span class="token punctuation">.</span>port<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">server</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">,</span> <span class="token string">'localhost'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>在这两段代码中，</p><p>UDP 服务器通过 server.on(‘message’, …) 事件监听器来接收客户端发送的消息，并在控制台上打印收到的消息以及发送方的地址和端口。</p><p>UDP 客户端通过 client.send(…) 方法发送消息到指定的服务器地址和端口，然后通过回调函数来处理发送的结果。</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> dgram <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'dgram'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> client <span class="token operator">=</span> dgram<span class="token punctuation">.</span><span class="token function">createSocket</span><span class="token punctuation">(</span><span class="token string">'udp4'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> message <span class="token operator">=</span> Buffer<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">'Hello, UDP server!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>client<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>message<span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">,</span> <span class="token string">'localhost'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'Error sending message:'</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Message sent to UDP server'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>UDP 需要考虑的问题还有很多，比如处理修饰的数据包、乱序数据包和其他网络问题需要一些额外的逻辑来处理。我们编写一个单独的函数来处理这些问题。</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// 处理修饰的数据包和乱序数据包</span><span class="token keyword">function</span> <span class="token function">processPacket</span><span class="token punctuation">(</span><span class="token parameter">packet</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">// 在这里添加你的处理逻辑</span>    <span class="token comment">// 例如，假设数据包有一个序列号字段 seqNumber</span>  <span class="token keyword">const</span> expectedSeqNumber <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// 期望的下一个序列号</span>  <span class="token keyword">const</span> seqNumber <span class="token operator">=</span> packet<span class="token punctuation">.</span>seqNumber<span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>seqNumber <span class="token operator">===</span> expectedSeqNumber<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// 处理正常顺序的数据包</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Received packet in correct order:'</span><span class="token punctuation">,</span> packet<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// 更新下一个期望的序列号</span>    expectedSeqNumber<span class="token operator">++</span><span class="token punctuation">;</span>        <span class="token comment">// 处理数据包的其他操作...</span>  <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>seqNumber <span class="token operator">&lt;</span> expectedSeqNumber<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// 处理修饰的数据包（重复收到的数据包）</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Received duplicate packet:'</span><span class="token punctuation">,</span> packet<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// 忽略重复的数据包或进行其他处理...</span>  <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// 处理乱序数据包</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Received out-of-order packet:'</span><span class="token punctuation">,</span> packet<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// 缓存乱序数据包，等待后续的数据包到达...</span>  <span class="token punctuation">&#125;</span>    <span class="token comment">// 其他网络问题的处理逻辑...</span><span class="token punctuation">&#125;</span><span class="token comment">// 示例数据包</span><span class="token keyword">const</span> packet1 <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">seqNumber</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">payload</span><span class="token operator">:</span> <span class="token string">'Packet 0'</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">const</span> packet2 <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">seqNumber</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">payload</span><span class="token operator">:</span> <span class="token string">'Packet 1'</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">const</span> packet3 <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">seqNumber</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token literal-property property">payload</span><span class="token operator">:</span> <span class="token string">'Packet 2'</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token comment">// 模拟接收数据包的顺序</span><span class="token function">processPacket</span><span class="token punctuation">(</span>packet1<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">processPacket</span><span class="token punctuation">(</span>packet3<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">processPacket</span><span class="token punctuation">(</span>packet2<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>processPacket</code> 函数用于处理接收到的数据包。它通过比较数据包的序列号与期望的序列号来判断数据包的状态。如果序列号与期望的序列号相等，则处理正常顺序的数据包；如果序列号小于期望的序列号，则处理修饰的数据包（重复数据包）；如果序列号大于期望的序列号，则处理乱序数据包。</p><h3 id="WebSocket"><a href="#WebSocket" class="headerlink" title="WebSocket"></a>WebSocket</h3><p>客户端频繁发起请求。WebSocket 协议建立在 HTTP 协议之上，使用类似握手的过程进行连接建立，并使用自定义的帧格式来传输数据。</p><p>下面是 WebSocket 的一些关键特点和工作原理的详细介绍：</p><ul><li><p>持久连接: 与传统的 HTTP 请求-响应模式不同，WebSocket 连接在客户端和服务器之间建立一次后，保持持久化连接，允许双向通信。这消除了每次通信都需要重新建立连接的开销。</p></li><li><p>全双工通信: WebSocket 允许客户端和服务器同时进行双向通信，可以在任一方向上发送和接收数据。这使得服务器能够实时地向客户端推送数据，而不需要客户端明确地发出请求。</p></li><li><p>低延迟: WebSocket 的持久连接和全双工通信特性使得数据传输更加实时和即时响应。相比于传统的轮询或长轮询方式，WebSocket 可以更快地传递数据，并降低延迟。</p></li><li><p>跨域支持: WebSocket 支持跨域通信，使得客户端可以与不同域名的服务器进行通信，而不受同源策略的限制。</p></li><li><p>安全性: WebSocket 可以通过加密协议（如 TLS&#x2F;SSL）进行安全连接，确保数据的机密性和完整性。</p></li></ul><p>我们用一段代码写清楚 WebSocket 是如何运行的：</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> socket <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WebSocket</span><span class="token punctuation">(</span><span class="token string">'ws://example.com/socket'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>socket<span class="token punctuation">.</span><span class="token function-variable function">onopen</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'WebSocket connection established'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 在连接建立后，可以发送消息到服务器</span>  socket<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'Hello, server!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>socket<span class="token punctuation">.</span><span class="token function-variable function">onmessage</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> message <span class="token operator">=</span> event<span class="token punctuation">.</span>data<span class="token punctuation">;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Received message from server:'</span><span class="token punctuation">,</span> message<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>socket<span class="token punctuation">.</span><span class="token function-variable function">onclose</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'WebSocket connection closed'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>socket<span class="token punctuation">.</span><span class="token function-variable function">onerror</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'WebSocket error:'</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>客户端使用 new WebSocket(url) 创建一个 WebSocket 连接，并通过事件处理程序处理连接建立、接收消息、连接关闭和错误等事件。通过 socket.send(message) 可以向服务器发送消息。</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> WebSocket <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'ws'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 创建 WebSocket 服务器</span><span class="token keyword">const</span> wss <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WebSocket<span class="token punctuation">.</span>Server</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> <span class="token literal-property property">port</span><span class="token operator">:</span> <span class="token number">8080</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 监听连接事件</span>wss<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'connection'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">ws</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'WebSocket connection established.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 接收客户端发送的消息</span>  ws<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'message'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">message</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Received message from client:'</span><span class="token punctuation">,</span> message<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 向客户端发送消息</span>    ws<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'Hello, client!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 监听连接关闭事件</span>  ws<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'close'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'WebSocket connection closed.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>类似的，服务端使用 <code>on</code> <code>send</code> 方法保持监听和向客户端传输数据。</p><p>那么，练手程序3——完成一个每分钟自动获取当前港币兑换人民币的程序，是不是就变得容易了呢？我们这里使用常用的 <code>axios</code> 实现。</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> axios <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'axios'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 定义函数获取汇率</span><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getExchangeRate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// 向外部 API 发送请求获取汇率数据</span>    <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'https://api.exchangerate-api.com/v4/latest/HKD'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 解析响应数据</span>    <span class="token keyword">const</span> <span class="token punctuation">&#123;</span> rates <span class="token punctuation">&#125;</span> <span class="token operator">=</span> response<span class="token punctuation">.</span>data<span class="token punctuation">;</span>    <span class="token keyword">const</span> cnyRate <span class="token operator">=</span> rates<span class="token punctuation">.</span><span class="token constant">CNY</span><span class="token punctuation">;</span>    <span class="token comment">// 输出汇率信息</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">当前港币兑换人民币汇率为: 1 HKD = </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>cnyRate<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string"> CNY</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'获取汇率失败:'</span><span class="token punctuation">,</span> error<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">// 每分钟获取汇率</span><span class="token function">setInterval</span><span class="token punctuation">(</span>getExchangeRate<span class="token punctuation">,</span> <span class="token number">60000</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>如何，你学会了吗？是不是很容易呢？</p><div align="center">  <img src="../../../../loading2.svg" data-original="/2023/11/09/create-a-cli/4.jpeg"></div>]]></content>
      
      
      <categories>
          
          <category> 技术总结 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Node.js </tag>
            
            <tag> JavaScript </tag>
            
            <tag> CLI </tag>
            
            <tag> 命令行 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>雅思写作沉淀（1）——Task2理念篇</title>
      <link href="/2023/10/29/ielts-writing-1/"/>
      <url>/2023/10/29/ielts-writing-1/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>本文总结自 bilibili Up 主 Vince9120。<a href="%5Bhttps://www.bilibili.com/video/BV145411a7ST?p=4&vd_source=afe81fa0acec03a62c58fe0fc394ca5b%5D(https://www.bilibili.com/video/BV145411a7ST?p=4&vd_source=afe81fa0acec03a62c58fe0fc394ca5b)">视频链接</a></p><p>欢迎来到海星来来的博客！本篇博客文章会对雅思写作 Part2 部分的内容做一个综述和讲解。首先，我们会形成一个总体印象，大概了解到考试内容到底考什么，对题型有一个大概的了解。之后，我们会了解下，什么样的文章是真的好，考官愿意给到高分，我们会有一个方向去努力。之后就是对考试心智的讲解——首先是整体心智的讲解，既写什么，怎么写。之后，对于文章划分的五层结构，每一层结构都给到了仔细的讲解和对应的范文，我们可以从其中学习或者复习其中的写作思路。</p><p>理念之后离不开实践，之后的沉淀文章应该会以实践篇为主，记录写作的点滴进步。</p><h2 id="常考题型总结-Intro"><a href="#常考题型总结-Intro" class="headerlink" title="常考题型总结 Intro"></a>常考题型总结 Intro</h2><p>以下总结了考试的几种分类。一般来说，可以分为 opinion 和 analysis 两种大类。其中 opinion 类考的最多，这其中一般都是两种观点之间的碰撞，需要写一篇文章来论述这两种不同的观点。</p><ul><li><p>Group 1: Opinion</p><ul><li>Agree &#x2F; disagree</li><li>Discuss both views</li><li>Positive or negative development?</li><li>Advantage outweigh disadvantage?</li></ul></li><li><p>Group 2: Analysis</p><ul><li>Problems &#x2F; Causes &#x2F; Reasons and Solutions</li></ul></li><li><p>九分要求全面回答问题并拓展文章；</p></li><li><p>七分作文回答问题，但有生硬感，五分作文缺乏结构和语法错误；</p></li></ul><h2 id="有效的文章结构-Structure"><a href="#有效的文章结构-Structure" class="headerlink" title="有效的文章结构 Structure"></a>有效的文章结构 Structure</h2><p>一般来说，一篇优秀的作文，它应该首先满足两个需求：字数需求和完成命题。对于议论文来说，五段式写作是一种用得不多，但是很有效的 mindset.</p><h3 id="关于字数"><a href="#关于字数" class="headerlink" title="关于字数"></a>关于字数</h3><p>对于目标 7 分以上，写作最好有 400 字左右。</p><h3 id="关于写作的思路：五段式写作"><a href="#关于写作的思路：五段式写作" class="headerlink" title="关于写作的思路：五段式写作"></a>关于写作的思路：五段式写作</h3><ol><li>The Beginning</li><li>Point 1 + Reasoning</li><li>Point 2 + Exemplification</li><li>Point 3 + Concession</li><li>The End</li></ol><p><strong>切记，不要直白的罗列观点，这样是最忌讳的。一般称之为 Listing.</strong></p><h3 id="一篇符合五段式写作的范文"><a href="#一篇符合五段式写作的范文" class="headerlink" title="一篇符合五段式写作的范文"></a>一篇符合五段式写作的范文</h3><table><thead><tr><th>The Structure</th><th>An example</th></tr></thead><tbody><tr><td>Hook</td><td>Social issues related to gender have been widely discussed among people over centuries. Due to gender differences, some people have claimed that certain jobs should accept either men or women.</td></tr><tr><td>Transition</td><td>However, such a statement suffers from logical and factual problems.</td></tr><tr><td>Points</td><td>I hardly agree with this one-sided proposal.</td></tr><tr><td>Point 1</td><td>To begin with, limiting the access to certain occupations on the basis of gender may ignore the individualities since the over-generalized characteristics of men and women are not always universal. Such an act may hurt the whole society.</td></tr><tr><td>Reasoning</td><td>For instance, if females are only allowed to enter particular careers be them nurses, teachers or accountants, those who are unenthusiastic and unable to handle these work and rejected from other professions might take these important positions. Males that are authentically passionate about these jobs will be faced with the risks of being jobless. Hence, the overall domestic unemployment rate will increase.</td></tr><tr><td>Point 2</td><td>Additionally, in a society where the exclusion of men or women from certain jobs is taken for granted by people, pre-existing gender stereotypes tend to be reinforced, which is undesirable for social equality.</td></tr><tr><td>Exemplification</td><td>For example, in many parts of the world girls are either explicitly or implicitly barred from entering certain professions such as science. As a result, girls might be discouraged from taking science classes at an early age, and later have less chance of finding good jobs. Had it not been for such bias, the society would have been more productive.</td></tr><tr><td>Concession hook</td><td>Admittedly, females and males with naturally selected biological dissimilarities either on brain structures or genes grant differentiated cognitive skills or physical strengths.</td></tr><tr><td>Point 3</td><td>Hence, labor division according to genders might enable a society to achieve productive efficiency.</td></tr><tr><td>Concession reasoning</td><td>However, the collaboration and cooperation between women and men making full use of their distinctive advantages might further facilitate the efficiency of working, which has been studied extensively by multiple groups of researchers worldwide.</td></tr><tr><td>Conclusion</td><td>In conclusion, having considered both sides of the statement, I still believe that in a diverse and dynamic society, people, regardless of their gender, ought to have equal opportunities and access to compete for the jobs that they desire for.</td></tr></tbody></table><p>在了解了五段式写作之后，我们就应该对各个题目进行深入分析了。事实上，虽然考试的题型不一样，但是本质上都是两种观点的碰撞和论证。而且这两种观点正好是某种社会现象的正反面。因此，所有关于 opinion 的题目我们都可以归纳到固定的答题心智中。</p><div align="center">  <img src="../../../../loading2.svg" data-original="/2023/10/29/ielts-writing-1/1.jpeg"></div><h2 id="关于审题-Analysis-of-Prompt"><a href="#关于审题-Analysis-of-Prompt" class="headerlink" title="关于审题 Analysis of Prompt"></a>关于审题 Analysis of Prompt</h2><p>一般来说，对于某种社会现象，都具有两面性。在题目没有明确规定的情况下，我们完全可以对两个方面都进行论述。但是这里会存在一个问题——在一篇文章中，我们是只论述一个观点好，还是两个观点好呢？</p><p>其实，两个观点相比于一个观点来说显得肯定更加客观。但是，两个观点的写作难度很明显也会大于一个，这是因为我们完全不好组织两个观点如何组织好文字，很容易讲不清楚。另外，我们从两个观点中形成一个令双方都能接受的折中观点，同样需要另外的思考。所以说，除非十分有把握，还是选择 one side 进行论述。</p><h3 id="One-Side-or-Both-Sides"><a href="#One-Side-or-Both-Sides" class="headerlink" title="One Side or Both Sides?"></a>One Side or Both Sides?</h3><ul><li>各有各的好处，考场上推荐使用 One Side</li><li>Both Sides 容易让老师耳目一新。但是富贵险中求，这种方式很容易在有限的时间内讲不清，跑题。</li><li>One Side 更加容易在考场上发挥，提前准备的空间足够多。</li></ul><p>在读题的时候首先要确定我们的观点，不同的观点这个时候就会有不同的写作方法。但是文章的结构是不变的，opinion 之下，对应3个 point.</p><p>实际上，这些 point 我们当然不可以直接在考场上直接想。在进行雅思写作的备考的时候，我们完全可以进行 high-level views 的准备。涉及到这些 views 的准备，我们可以适当准备一些素材。首先，我们归纳了一些高层次的观点，供你参考。</p><h3 id="一些高层次的观点"><a href="#一些高层次的观点" class="headerlink" title="一些高层次的观点"></a>一些高层次的观点</h3><ul><li>Effectiveness and efficiency</li><li>Economy and finance</li><li>Environment and health</li><li>Equality and fairness</li><li>Feasibility and compatibility</li><li>Culture and globalization</li><li>Technology and internet</li><li>个人微观，社区城市国家世界的宏观，兼容性</li></ul><blockquote><p>实际上，高层次的观点配合中低层次的观点就是循序渐进的。例如：<br>(题目) Foreign visitors should pay more than local visitors for cultural and historical attractions. To what extent do you agree or disagree?<br>(High Level) As far as national cultural influence is considered, foreign tourists should NOT pay more.<br>(Mid Level)  Cultural and historical sites are usually the symbol of a nation and image of a country and we should not discourage foreigners from visiting these sites.<br>(Detail)  Higher price reduces the number of visitors - having foreign visitors pay more will interfere with the spread of our national culture and global influence.</p></blockquote><p><strong>实际上，一篇文章，需要3个这样的观点。当我们表达立场之后，行文就是依靠这一点来实现。</strong></p><h3 id="联系高层次的观点和语料"><a href="#联系高层次的观点和语料" class="headerlink" title="联系高层次的观点和语料"></a>联系高层次的观点和语料</h3><p>假如说我准备了 effectiveness and efficiency 这个高级观点，这意味着我们所持有的观点拥有着更高效的运作模式，那么它就可以拥有令xx更方便，效率更高。那么我们可以事先准备以下语料：</p><p>First of all, () is an extraordinarily efficient tool of () as it enables smooth and effective () in modern time.<br>For instance, (), as compared to traditional (), offers convenience in our daily lives. It allows us to () simply with () (wherever we are, whenever we want, and however we would like to).<br>In addition, we are able to can reduce workload and facilitate more efficient completion of tasks – (), thereby streamlining workflows and eliminating unnecessary steps or delays.<br>Compared with the (), () has totally transformed our ways of living a life or working style.</p><p>以上分别讲述了有关于 effectiveness and efficiency 这个高级观点其中的两个子观点——首先它可以便捷我们的生活。其次，它可以增加我们完成任务的效率。一般来说，这两个观点涉及到了工作和生活，但是关于便捷和高效的事物，并不一定作用于工作（例如基础建设，如高铁），所以这里如果想完美的使用 effectiveness and efficiency，尽量多积累一些有关于生活方面的好处。</p><blockquote><p>When we say that something has the characteristics of effectiveness and efficiency, it can bring several benefits and conveniences to our lives:<br>Time-saving: Effective and efficient processes or tools help us accomplish tasks in less time. By streamlining workflows and eliminating unnecessary steps or delays, we can complete tasks more quickly and have more time for other activities.<br>Cost reduction: Efficiency often leads to cost savings. When processes are optimized and resources are utilized effectively, it can result in lower expenses. This can apply to various aspects of life, such as energy consumption, transportation costs, or even personal budgeting.<br>Improved productivity: Effectiveness and efficiency go hand in hand with increased productivity. When we can accomplish more in less time, it allows us to achieve our goals more effectively and accomplish more in our personal and professional lives.<br>Simplified decision-making: When we have effective and efficient systems in place, it becomes easier to make decisions. With clear metrics and measurable outcomes, we can evaluate options and choose the most suitable course of action based on data and evidence.<br>Enhanced quality: Effectiveness and efficiency often result in improved quality. By focusing on what truly matters and optimizing processes, we can deliver better results, whether it’s in terms of products, services, or personal achievements.<br>Reduced stress: When we have effective and efficient systems in place, it reduces stress and frustration. We have more confidence in our ability to accomplish tasks, and we can rely on streamlined processes to support us, leading to a more relaxed and balanced life.</p></blockquote><p>我们下面来以 email 为例子，阐述这段，到底应该怎么写：</p><p>First of all, (email) is an extraordinarily efficient tool of (communication) as it enables smooth and effective (social and professional communication) in modern time.<br>For instance, (sending email), as compared to traditional (communication ways), offers convenience in our daily lives. It allows us to (reach our beloved ones or colleagues) simply with (a few clicks on the keyboard or a mobile device ) (wherever we are, whenever we want, and however we would like to).<br>In addition, we are able to can reduce workload and facilitate more efficient completion of tasks – (emails enable instant message delivery, file sharing, and collaborative work, reducing time and geographical constraints), thereby streamlining workflows and eliminating unnecessary steps or delays.<br>Compared with the (phone calls and paper mails), (email) has totally transformed our ways of living a life or working style.</p><p>所以我们可以看到，我们需要真正去积累的部分应该是，如何优雅的使用常见的论述主体的表现，以及它如何发挥作用——因为这是关联论述主体和结论的纽带。举个例子，刚刚上面的 <code>emails enable instant message delivery, file sharing, and collaborative work, reducing time and geographical constraints</code> 这一段实际上说的就是 email 的作用，它可以直接发送消息，可以共享文件，可以合作工作，超越地理上的限制。这些正好可以论证「减少工作压力、增加工作效率」的论点。</p><p>实际上，当积累进行到了一定程度，我们可以进一步按照素材去进行素材的总结归类。例如 <code>enable instant message delivery, file sharing, and collaborative work, reducing time and geographical constraints</code> 很显然这不是电子邮件的专利——那么只要是互联网相关的内容，这一个语料都可以用上。</p><h3 id="Opinion-题型变种思路"><a href="#Opinion-题型变种思路" class="headerlink" title="Opinion 题型变种思路"></a>Opinion 题型变种思路</h3><p>首先让我们来回顾下五段式写作：</p><ol><li>The Beginning</li><li>Point 1 + Reasoning</li><li>Point 2 + Exemplification</li><li>Point 3 + Concession</li><li>The End</li></ol><p>关于 Opinion 的四种题型都可以映射到这套思路上。例如：</p><blockquote><p>母题 agree or disagree<br>Foreign visitors should pay more than local visitors for cultural and historical attractions. To what extent do you agree or disagree?</p></blockquote><ul><li>变种1 (discuss both views and give your opinion)<br>Some people believe that studying at university or college is the best route to a successful career, while others believe that it is better to get a job straight after school. Discuss both views and give your opinion.</li></ul><p>在这种题型中，both views（它们通常是相反的）可以类比与母题的 agree 和 disagree。正好也同时对应两种观点。</p><ul><li>变种2 (positive or negative development)<br>There are a higher proportion of older people than younger people. Do you think it is a positive or negative development?</li></ul><p>positive or negative 类比与母题的 agree 和 disagree。正好也同时对应两种观点。</p><ul><li>变种4 (advantages outweigh disadvantages)</li></ul><p>E-mail has had a huge impact on professional and social communication, but this impact has been negative as well as positive. Do the disadvantages of using e-mail outweigh the advantages?</p><p>advantages or disadvantages 类比与母题的 agree 和 disagree。正好也同时对应两种观点。</p><div align="center">  <img src="../../../../loading2.svg" data-original="/2023/10/29/ielts-writing-1/2.jpeg"></div><h2 id="关于观点生成-Idea-Generation"><a href="#关于观点生成-Idea-Generation" class="headerlink" title="关于观点生成 Idea Generation"></a>关于观点生成 Idea Generation</h2><h3 id="Agree-or-disagree"><a href="#Agree-or-disagree" class="headerlink" title="Agree or disagree"></a>Agree or disagree</h3><p>之前的例题：</p><p>Foreign visitors should pay more than local visitors for cultural and historical attractions. To what extent do you agree or disagree?</p><table><thead><tr><th>Your Response</th><th>High-level Points</th></tr></thead><tbody><tr><td>should pay more</td><td>Culture: encourage citizens to visit<br>Economy: support local communities<br>Feasibility: tourists will not quit if reasonable</td></tr><tr><td>should NOT pay more</td><td>Economy: hurt local economy<br>Culture: national symbol and global influence<br>Euality: Cultural heritage shared by all mankind</td></tr></tbody></table><p>结论：很多 high level 的观点都是通用的，那么只需要几个通用的观点就可以了。</p><h3 id="Discuss-both-views-and-give-opinion"><a href="#Discuss-both-views-and-give-opinion" class="headerlink" title="Discuss both views and give opinion"></a>Discuss both views and give opinion</h3><p>Some people believe that studying at university or college is the best route to a successful career, while others believe that it is better to get a job straight after school. Discuss both views and give your opinion.</p><table><thead><tr><th>Your Response</th><th>High-level Points</th></tr></thead><tbody><tr><td>College!</td><td>Effectiveness: long-term career growth<br>Economy: better-paying jobs<br>Social relationship: friends and circles</td></tr><tr><td>Job!</td><td>Economy: Financial burden<br>Effectiveness: hands-on experience<br>Tech learn fast and free through internet</td></tr></tbody></table><h3 id="Positive-or-negative-development"><a href="#Positive-or-negative-development" class="headerlink" title="Positive or negative development"></a>Positive or negative development</h3><p>There are a higher proportion of older people than younger people. Do you think it is a positive or negative development?</p><table><thead><tr><th>Your Response</th><th>High-level Points</th></tr></thead><tbody><tr><td>More older people<br>positive development</td><td>Economy: experienced and skilled workforce<br>Health: better healthcare and productivity<br>Tech: high-tech reduces the need for manual labor</td></tr><tr><td>More older people<br>negative development</td><td>Economy: heavy financial burden on society<br>Culture: lack of passion and innovation in society<br>Social stability: issues caused by young immigrants</td></tr></tbody></table><h3 id="Advantages-outweigh-disadvantages"><a href="#Advantages-outweigh-disadvantages" class="headerlink" title="Advantages outweigh disadvantages"></a>Advantages outweigh disadvantages</h3><p>E-mail has had a huge impact on professional and social communication, but this impact has been negative as well as positive. Do the disadvantages of using e-mail outweigh the advantages?</p><table><thead><tr><th>Your Response</th><th>High-level Points</th></tr></thead><tbody><tr><td>Email has more advantages</td><td>Efficient: fast and easy<br>Economy: free or low cost<br>Social relationship: reduces unneeded social</td></tr><tr><td>Email has more disadvantages</td><td>Culture: text cannot convey diversity in common<br>Social relationship: keep people distant<br>Economy: hardware needed, not necessarily cheap</td></tr></tbody></table><h2 id="开场-Opening"><a href="#开场-Opening" class="headerlink" title="开场 Opening"></a>开场 Opening</h2><h3 id="综述-Intro"><a href="#综述-Intro" class="headerlink" title="综述 Intro"></a>综述 Intro</h3><p>开场的时候，我们应该写什么？</p><p>首先，在首段的开头，简洁明了地介绍你要讨论的主题。例如，如果你要写有关环境保护的话题，可以直接提及环境问题或者具体的环境挑战。<br>接下来，接下来，提供一些背景信息，以便读者了解该主题的重要性和相关性。这可以是一两个简短的句子，涵盖主题的基本概念或者普遍认同的事实。例如，你可以提到全球变暖对地球造成的影响或者日益增长的塑料污染问题。<br>最后做出观点陈述：在首段的结尾，明确陈述你的观点或者立场。这应该是简洁明了的一句话，直接表达你对该主题的态度。例如，如果你支持环境保护，可以明确表示你认为环境问题需要紧急解决。</p><p>一般来说，需要写好开头，需要做到以下几点，才可以有一个比较好的发挥：</p><ul><li>不能照搬原文，需要带有一定的解释；</li><li>需要有连贯的逻辑性，例如可以善用过渡；</li><li>需要清晰明了。</li></ul><p>关于细节，我们可以使用这些技巧：</p><ul><li>Use prompt analysis from previous, sessions for practice.</li><li>Build your own adaption of the formula; feel free to add more complexity.</li><li>Pick an opposite detail that you will be able to fight back later in concession.</li></ul><p>在接下来，我们看到的 formula，就囊括了这些内容。</p><h3 id="写作思路提炼-Mindset-formula-derivation"><a href="#写作思路提炼-Mindset-formula-derivation" class="headerlink" title="写作思路提炼 Mindset formula derivation"></a>写作思路提炼 Mindset formula derivation</h3><p>It is hard to deny that (opposite detail). Such a fact leads impressionable people to generate the opinion that (opposite response).<br>However, such a statement suffers from both logical and factual fallacies, and it should be examined meticulously.<br>As far as (Pont 1), (Point 2), and (Point 3) are concerned, I strongly hold that (our response).</p><p>It is hard to deny that <strong>historical and cultural sites are the symbols of a nation, and we should encourage visiting to promote our national influence.</strong> Such a fact leads impressionable people to generate the opinion that <strong>we should not charge foreign visitors more to visit these sites, as higher fees discourage visiting and hinder the influence of our culture.</strong> However, such a statement suffers from both logical and factual fallacies, and it should be examined meticulously. As far as <strong>culture, economy, and feasibility are concerned, I strongly hold that we ought to have foreign visitors pay more for visiting the sites.</strong></p><p>It is hard to deny that <strong>text is not always able to convey the subtlety and diversity in communication,</strong> and such a fact leads impressionable people to generate the opinion that <strong>email has more disadvantages in professional and social communication simply as emails are usually composed in pure text, causing confusion and misunderstanding.</strong> However, such a statement suffers from both logical and factual fallacies, and it should be examined meticulously. As far as <strong>effectiveness, economy, and social relationship are concerned, I strongly hold that email has brought more advantages.</strong></p><p>总结：文章的开头包括引入部分、过渡和自己的立场。引入部分需要引人入胜，提供新信息；过渡部分需要流畅有逻辑；自己的立场需要明确，最好有一个引人入胜的引入和有逻辑的过渡。</p><p>关于写作思路，首先这里使用了 confession 的手法，之后通过 confession 的转折引入我们需要谈论的主题。很显然，这其中还有不够好的地方，需要自己再进行润色，以便于达到独树一格的水平。</p><p>从逻辑考虑出发，<code>As far as (Pont 1), (Point 2), and (Point 3) are concerned</code> 这一句话虽然有它的好处，和下面的段落遥相呼应，但是特征也十分明显，<code>As far as</code> 用在这里也略显拖沓了。所以有必要将它精简。除此之外，首段和尾段因为更加好准备，所以我们可以适当使用一些与众不同但是比较贴合的词汇来增加我们的词汇丰富度。例如：</p><p>There is an undeniable difficulty in refuting the prevailing notion that (<code>anti-notion</code>). Such a fact leads susceptible individuals to form the belief that (<code>anti-point</code> <code>simply as</code> <code>anti-reason connecting anti-notion and anti-point</code>), causing confusion and misunderstanding. However, it is imperative to scrutinize this statement meticulously due to its logical and factual fallacies. When considering (<code>hight-point1</code>), (<code>hight-point2</code>), and (<code>hight-point3</code>), I staunchly maintain that (<code>point</code> <code>has brought more advantages</code>).</p><p>对于观点的描述，可以使用更为书面化的，也足够精确的词语进行描述，例如：</p><p>text is often inadequate in conveying the subtlety and diversity of communication. (这句话使用了 <code>inadequate</code> 表明使用的工具是不充分的，<code>is not able</code> 一个是因为太常见，另外一个是因为它的含义没有 <code>inadequate</code> 范围狭窄和精确)</p><div align="center">  <img src="../../../../loading2.svg" data-original="/2023/10/29/ielts-writing-1/3.jpeg"></div><h2 id="第一个正文论理-Reasoning"><a href="#第一个正文论理-Reasoning" class="headerlink" title="第一个正文论理 Reasoning"></a>第一个正文论理 Reasoning</h2><h3 id="例子和讲解-Example1"><a href="#例子和讲解-Example1" class="headerlink" title="例子和讲解 Example1"></a>例子和讲解 Example1</h3><p>论理段的结构和要求，包括 coherent、consistent 和 adequate, 以及一个模板。<strong>充分注意细节</strong>，不能写<br>偏题。</p><p>要注意的是，从这个部分开始，可以用模板的部分就比较少了，其余的绝大部分只能靠自己去积累一些说法，当然这些说法还是可以通用的。</p><p>我们从上面讲到的 high-level 到 detail 的说法循序渐进：</p><table><thead><tr><th>段落层次</th><th>示例</th></tr></thead><tbody><tr><td>high</td><td><strong>First and foremost,</strong> having foreign visitors pay more can he promote national culture, as such an act encourages local citizens to visit the sites.</td></tr><tr><td>mid</td><td><strong>To be more specific,</strong> the money charged from foreign visitors can be used to subsidize citizens to visit with cheap or free entry;</td></tr><tr><td>detail</td><td><strong>Furthermore,</strong> citizens will not only find a free entry inviting, but be attracted with a stronger sense of cultural belonging due to fewer entry barrier.</td></tr><tr><td>optional filler</td><td><strong>Therefore,</strong> the benefit of charging foreign visitors more is ‘clear even to the layman’s eyes, and our government should impose such policy.</td></tr></tbody></table><p>Detail 可以替换成其它形式。我们可以看到，示例中的 Detail 是跟随原有的论点进一步分析。如果当我们不好进一步分析的时候，我们可以进行（承接上文的观点的）对立观点的驳斥。例如：</p><p>On the other hand, foreign visitors might take up the limited accommodation capacity of the sites, so they needed to be reasonably discouraged from visiting.</p><p>当然，也可以既承接观点，又驳斥，此类情况需要使用一个转折。难点在于这样的观点应该如何构思出来：</p><p>in addition, having foreign visitors pay more could not only save available, seats” for citizens, but collect a fund of restoration for a more appealing attraction to all visitors.</p><p>示例中的原文，最后一段表示总结 Conclusion。除了总结，还可以表示成假设 What if 用于增强语气：</p><p>If we do not have foreign visitors pay more, we will not only lose a great opportunity in showing national culture to citizens, but one in promoting patriotism as well.</p><p>值得注意的是，最后一段一般还是用于应急的场景，有三段式由浅入深就已经足够。</p><h3 id="注重连贯性和说服性-Example2"><a href="#注重连贯性和说服性-Example2" class="headerlink" title="注重连贯性和说服性 Example2"></a>注重连贯性和说服性 Example2</h3><p>First and foremost, studying at university or college <strong>is more economical (not using better)</strong> as students will be able to find jobs that <strong>are more financially rewarding</strong>.<br>To be more specific, the world today <strong>runs at an unprecedentedly fast</strong> speed and <strong>various industries require talents with both excellent technical and soft</strong> skills.<br><strong>Elite</strong> universities are the places that <strong>provide an education that best meets</strong> such needs - <strong>a depth into a specific field with an atmosphere for communication and collaboration</strong>.<br><strong>Such a fact is further substantiated by studies worldwide including one conducted by NPR (National Public Radio) in 2017 - the only thing that is more expensive than attending college is NOT attending.</strong></p><h3 id="避免偏题（与分论点不匹配）"><a href="#避免偏题（与分论点不匹配）" class="headerlink" title="避免偏题（与分论点不匹配）"></a>避免偏题（与分论点不匹配）</h3><p>Moreover, students who study hard will be able to pay off their tuition quickly with a better paying job.<br>Take my friend Diana as an example - she studies hard in college and was able to find a job that pays really well. She paid off her loan, completely changed her life with the job, and helped her family as well. Today she is the role model of my home school.</p><p>写作的时候，不要用 Listing 方式的写作。这个地方写到最后就变成了，因为努力找到了好工作，而不是好学校找到好工作，学校到最后举例的意义就可有可无了。使用身边人的例子不够具有说服力。</p><h3 id="最后再来看一篇例子"><a href="#最后再来看一篇例子" class="headerlink" title="最后再来看一篇例子"></a>最后再来看一篇例子</h3><p>First of all, email is an <strong>extraordinarily efficient tool of communication</strong> as it <strong>enables smooth and effective social and professional communication</strong> in modern time.<br>For instance, we can <strong>reach our beloved ones or colleagues simply with a few clicks on the keyboard or a mobile device wherever we are</strong>, whenever we want, and however we would like to.<br>In addition, we are able to communicate at our own pace - <strong>build strong emotional connection with our family on the other hemisphere with a couple emails over the week</strong>, or have a continuous discussion with a team of colleagues within the same building all day long.<br><strong>Compared with the age of phone calls and paper mails, email has totally transformed our ways of living a life or conducting business</strong>.</p><p>加油，看到这儿了，好棒！坚持看下去 ₍ᐢ •͈ ༝ •͈ ᐢ₎♡</p><div align="center">  <img src="../../../../loading2.svg" data-original="/2023/10/29/ielts-writing-1/6.jpeg"></div><h2 id="Examplification"><a href="#Examplification" class="headerlink" title="Examplification"></a>Examplification</h2><p>examplification 和 example 之间的区别：example 只是用来举例，而 examplification 是将举例实例化。前者可能只使用一个通用的论证过程，后者必须有一个现实世界的对照。</p><p>这是一个 example：</p><blockquote><p>For example, if you work hard, you will be able to get good results - tests, career, relationships …etc.</p></blockquote><p>这是一个 examplification：</p><blockquote><p>Take my friend Colin as an example: in the two months before his test, he reviewed three reading passages each day, worked on one new mock test; in addition, he finished 20 writing part twos in the week before his test and had them reviewed by Vince. He was eventually able to get an overall 7.5 in his first IELTS trial.</p></blockquote><p>Examplification 同样有自己的写作常用 mindset：</p><p><strong>Furthermore, the fact that</strong> income generated from historical sites promotes local economy <strong>indicates that</strong> foreign visitors, who <em>usually are able to afford a higher admission, should be reasonably charged more</em>.<br><strong>Take the case of</strong> the well-known Cotta site located in the Terra town, which charges foreign visitors 75% more and uses the extra income on infrastructure such as roads, restaurants, and hotels. <strong>As a result</strong>, <em><strong>not only</strong> the life of local citizens is greatly improved, <strong>but</strong> such act <strong>also</strong> creates more jobs in town and attracts more domestic and international visitors with easier access and better facility.</em><br><strong>Had it not been for the extra</strong> income from the site, the Terra town would <strong>never have been able to significantly <em>improve</em></strong> <em>the life of its residents and form a virtuous cycle in tourism.</em></p><p>一般来说，examplification 需要同时具备三要素：Generality Adequate Coherent. 最重要的是需要具有普适性 Generality.</p><p>例如，当我们的举例，不是世界上的典型例子，而是身边的人举例（这种时候因为考官无从认证真实性，所以更为好写），因为缺乏普适性，所以这部分内容需要我们自行补充背景，确保举的例子可被复制，普适性足够强。同样，关于这部分的补充同样也是增强逻辑严密性的一种手段。</p><p>Take the case of my friend Alex, <strong>a typical college student among thousands</strong>, who once was a diligent student at TS College, <strong>a well-known college for its expertise in science and engineering</strong>. Alex honed both his academic and communication skills at TS. As a result, he received offers from multiple <strong>Fortune 500 firms</strong> upon his graduation. Today, he is in a high-paying job which he likes a lot.</p><p>接下来看另外一个例子，从 AB 面论证了「是否使用电子邮件」带来的诸多好处。</p><p>A 面</p><p><strong>Furthermore, the fact that</strong> <em>email facilitates effective communication for free or low-cost</em> <strong>indicates that</strong> <strong>it has brought great benefits to</strong> <strong>both our personal and professional life.</strong><br><strong>Take the case of the changes we all witnessed in the past decades</strong> - in many cases email has replaced expensive international phone calls, and enabled us to nail a deal across the globe or keep a close connection with family members home and abroad. <strong>As a result</strong>, email not only improved our life but accelerated globalization, and has its role in the growth of international trade.<br><strong>Had it not been for</strong> email, we would never have been able to get so close to each other.</p><p>B 面</p><p><strong>Furthermore, the fact that</strong> <em>email brings convenience at the cost of social relationship</em> <strong>indicates that it hurts both our personal and professional life greatly.<br>Take the case of</strong> Tendollar, the company I work for and one of the biggest IT firm in the world: coworkers in the same building or even the same office rarely talk to each other face-to-face and almost always communicate via email or its upgraded version - instant message applications. <strong>As a result,</strong> a lot of times people do not even know how to properly talk at an official meeting or after work with their friends and beloved ones.<br><strong>Had it not been for</strong> email, we would never have become so distant from each other while we are so close to each other.</p><div align="center">  <img src="../../../../loading2.svg" data-original="/2023/10/29/ielts-writing-1/5.jpeg"></div><h2 id="让步段和结束-Concession-and-Ending"><a href="#让步段和结束-Concession-and-Ending" class="headerlink" title="让步段和结束 Concession and Ending"></a>让步段和结束 Concession and Ending</h2><p>Concession: A literary device used in argumentative writing, where one acknowledges a point made by one’s opponent.</p><p>让步，也就是说需要攻击对面比较 confirm 的观点。例如，在 cat or dog? 的问题上，我们选择了 cat。这个时候对面抛出了「狗可以保护人类」的观点，我们就可以论证「狗不能强力的保护人类，况且保护人类的一般是警察」。</p><p>让步自然段中，我们同样可以有自己的 mindset.</p><p><strong>Nevertheless, a voice arises that</strong> since historical sites are the symbols of a nation, charging foreign visitors more is not feasible as <em>higher prices discourage visiting and hinder the spread of our national influence</em>.<br><strong>Ironically</strong>, site admission is usually a small part of traveling expenses compared with plane tickets and accommodation, and <em>tourists usually travel to a foreign country with a sizeable budget</em>; in addition, tourists travel long and far with the aim of exploring and understanding a new culture, <em>so something as trivial as a few extra dollars on a ticket will not be enough to discourage them</em>.<br><strong>Therefore,</strong> charging foreign visitors more <strong>is a feasible approach</strong>.</p><p>接下来我们再看一篇例子：</p><p>Nevertheless, a voice arises that text in email cannot convey the subtlety and diversity in communication - it creates confusion and misleading information, damaging our social relationship.<br>Ironically, a hammer can hurt a person badly while millions are using it everyday. Email is simply a tool and not the only vehicle of information, we can use it mostly directly or to complement various other ways of communication. For instance, we can respond a simple “YES” to an address confirmation, or inform our coworkers of the progress of the business trip while keep the very details for a later face-to-face meeting.<br>Therefore, as long as we use our tools (email in this case) properly, we will be able to significantly enhance both our personal and professional relationships.</p><p>关于结束段落，我们一般只是起到一个总结的作用，来直接看看 mindset：</p><p><strong>In a nutshell, I maintain that</strong> foreign visitors should pay more as such policy is feasible to implement, and benefits our national culture and economy.<br><strong>Admittedly, as my favorite quote from James Madison goes, as long as the reason of man continues fallible, different opinions will be formed, and some people may oppose me.</strong><br><strong>However, I believe they will compromise after being exposed to my article.</strong></p><p>这里我们可以看到，因为我们有在写作的时候进行不断的总结，所以我们在 Ending 段落持续重复文中观点显得十分重复。所以我们可以放一些较为通用的语言包上去。例如，我们想体现我们的包容性，批判性，就可以使用这种通用的名人名言。</p><div align="center">  <img src="../../../../loading2.svg" data-original="/2023/10/29/ielts-writing-1/4.jpeg"></div>]]></content>
      
      
      <categories>
          
          <category> 英语学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> English </tag>
            
            <tag> 作文 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>部分剑桥雅思的做题记录和沉淀（2）</title>
      <link href="/2023/10/24/ielts-reading-2/"/>
      <url>/2023/10/24/ielts-reading-2/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="剑7-TEST4-1"><a href="#剑7-TEST4-1" class="headerlink" title="剑7-TEST4.1"></a>剑7-TEST4.1</h2><p><strong>Pulling strings to build pyramids</strong></p><p>No one knows exactly how the pyramids were built. Marcus Chown reckons the answer could be hanging in the air.</p><p>The pyramids of Egypt were built more than three thousand years ago, and no one knows how. The conventional picture is that tens of thousands of slaves dragged stones on sledges. But there is no evidence to back this up. Now a Californian software consultant called Maureen Clemmons has suggested that kites might have been involved. While perusing a book on the monuments of Egypt, she noticed a hieroglyph that showed a row of men standing in odd postures. They were holding what looked like ropes that led, via some kind of mechanical system, to a giant bird in the sky. She wondered if perhaps the bird was actually a giant kite, and the men were using it to lift a heavy object.</p><details>  <summary>点我查看解析</summary>  <div>be hanging in the air: 悬而未决</div>  <div>sledges: 雪橇，拖车</div>  <div>hieroglyph: 象形文字</div>  <div>这段主要是描述了部分学者对于埃及金字塔建造的刻板印象——万计的奴隶用用拖车拖着石头，但是莫琳·克莱蒙斯从埃及古迹的书中发现那时候的人们使用了类似于风筝的道具。</div></details><br><p>Intrigued, Clemmons contacted Morteza Gharib, aeronautics professor at the California Institute of Technology. He was fascinated by the idea. Coming from Iran, I have a keen interest in Middle Eastern science, he says. He too was puzzled by the picture that had sparked Clemmonss interest. The object in the sky apparently had wings far too short and wide for a bird. The possibility certainly existed that it was a kite, he says. And since he needed a summer project for his student Emilio Graff, investigating the possibility of using kites as heavy lifters seemed like a good idea.</p><p>Gharib and Graff set themselves the task of <strong>raising a 4.5-metre stone column from horizontal to vertical</strong>, using no source of energy except the wind. Their <strong>initial calculations</strong> and scale-model wind-tunnel experiments <strong>convinced them they wouldn’t need a strong wind to lift the 33.5-tonne column.</strong> Even a modest force, if sustained over a long time, would do. <strong>The key was to use a pulley system that would magnify the applied force.</strong> So they rigged up a tent-shaped scaffold directly above the tip of the horizontal column, with pulleys suspended from the scaffolds apex. The idea was that as one end of the column rose, the base would roll across the ground on a trolley.</p><details>  <summary>点我查看解析</summary>  <div>Intrigue, Intrigued: 感兴趣，出于兴趣。</div>  <div>aeronautics: 航天学。</div>  <div>column: 石柱。</div>  <div>modest: 适度，谦逊。</div>  <div>pulley system that would magnify the applied force: pulley 滑轮，magnify 放大，applied force 施加的力。</div>  <div>rigged up: rig 操控，操纵。rigged up 操作，安装。rigged 被操控的。</div>  <div>scaffold: 脚手架。</div>  <div>tip: 表示方位的时候「尖端」。</div>  <div>with pulleys suspended from the scaffolds apex: suspended 悬挂/被悬挂，apex 尖端。</div>  <div>trolley: 手推车。</div>  <div>这段主要是描述了莫尔特扎·加里布对这个实验非常好奇，以及派自己学生做实验的细节。得到了结论是：不需要强风也可以举起33.5吨的柱子。这两段的末尾描述了实验的过程细节。</div></details><br><p>Earlier this year, the team put Clemmons’s unlikely theory to the test, using a 40-square-metre rectangular nylon sail. The kite lifted the column clean off the ground. We were absolutely stunned, Gharib says. The instant the sail opened into the wind, a huge force was generated and the column was raised to the vertical in a mere 40 seconds.</p><p>The wind was blowing at a gentle 16 to 20 kilometres an hour, little more than half what they thought would be needed. What they had failed to reckon with was what happened when the kite was opened. There was a huge initial force five times larger than the steady state force, Gharib says. This jerk meant that kites could lift huge weights, Gharib realised. Even a 300-tonne column could have been lifted to the vertical with 40 or so men and four or five sails. <strong>So Clemmons was right: the pyramid builders could have used kites to lift massive stones into place. Whether they actually did is another matter, Gharib says.</strong> There are no pictures showing the construction of the pyramids, so there is no way to tell what really happened. The evidence for using kites to move large stones is no better or worse than the evidence for the brute force method, Gharib says.</p><details>  <summary>点我查看解析</summary>  <div>nylon sail: 尼龙帆。</div>  <div>The kite lifted the column clean off the ground: clean 在这里类似于副词，表示「完全的」意思。=fully</div>  <div>stun, stunned: 惊呆了。</div>  <div>reckon: 推测，推想。</div>  <div>steady state: 稳态。</div>  <div>jerk: 猛烈拉动，颠簸。</div>  <div>brute force: 蛮力。brute 野蛮的，暴掠的。</div>  <div>这段主要是描述了今年早些时候克莱蒙斯团队验证这一理论的过程，结果使团队惊呆了，帆布打开的时候产生了惊人的猛烈扯动力量，很快就将巨大的石柱送上了垂直上空。所以至少可以得出结论：金字塔建造者可以使用风筝将巨大的石头举起来就位，即便是他们具体实施的过程无从考证。</div></details><br><p>Indeed, the experiments have left many specialists unconvinced. The evidence for kite-lifting is non-existent, says Willeke Wendrich, an associate professor of Egyptology at the University of California, Los Angeles.</p><p><strong>Others feel there is more of a case for the theory.</strong> Harnessing the wind would not have been a problem for accomplished sailors like the Egyptians. And they are known to have used wooden pulleys, which could have been made strong enough to bear the weight of massive blocks of stone. In addition, there is some physical evidence that the ancient Egyptians were interested in flight. A wooden artifact found on the step pyramid at Saqqara looks uncannily like a modern glider. Although it dates from several hundred years after the building of the pyramids, its sophistication suggests that the Egyptians might have been developing ideas of flight for a long time. And other ancient civilisations certainly knew about kites; as early as 1250 BC, the Chinese were using them to deliver messages and dump flaming debris on their foes.</p><details>  <summary>点我查看解析</summary>  <div>more of a case for the theory: 这个理论还有更多的理由。表示这个理论可以更充分。</div>  <div>harness: 原本的意思是给马套上鞍具。在这里表示驾驭的意思。</div>  <div>accomplished: 熟练的，才华横溢的。</div>  <div>glider: 滑翔机。</div>  <div>dump flaming debris on their foes: dump 投递，投掷，倾倒；flaming 燃烧；foes 敌人。</div>  <div>jerk: 猛烈拉动，颠簸。</div>  <div>brute force: 蛮力。brute 野蛮的，暴掠的。</div>  <div>这段主要是描述了一些人不是很认可之前提到的理论，认为古埃及人没有这样的能力。但实际上，有更多的证据可以证明这个理论——埃及人会的东西实际上比我们想象的多。举的例子就包括了很难被压坏的木制滑轮，还有飞行器。</div></details><br><p>The experiments might even have practical uses nowadays. There are plenty of places around the globe where people have no access to heavy machinery, but do know how to deal with wind, sailing and basic mechanical principles. Gharib has already been contacted by a civil engineer in Nicaragua, who wants to put up buildings with adobe roofs supported by concrete arches on a site that heavy equipment can’t reach. His idea is to build the arches horizontally, then lift them into place using kites. We’ve given him some design hints, says Gharib. Were just waiting for him to report back. So whether they were actually used to build the pyramids or not, it seems that kites may make sensible construction tools in the 21st century AD.</p><details>  <summary>点我查看解析</summary>  <div>sailing: 同之前的 sail 词缀，表示航行。</div>  <div>adobe: 土的，土胚，砖胚。</div>  <div>civil engineer: 土木工程师。</div>  <div>sensible: 明智的，有意义的。</div>  <div>最后一段主要描述了本文所描述的实验对于现代的意义——尤其是对于无法接触现代大型工业的落后地区来说。</div></details><br><div align="center">  <img src="../../../../loading2.svg" data-original="/2023/10/24/ielts-reading-2/1.jpeg"></div><h2 id="剑7-TEST3-2"><a href="#剑7-TEST3-2" class="headerlink" title="剑7-TEST3.2"></a>剑7-TEST3.2</h2><p><strong>Population movements and genetics</strong></p><p><strong>A</strong></p><p>Study of the origins and distribution of human populations used to be based on archaeological and fossil evidence. A number of techniques developed since the 1950s, however, have placed the study of these subjects on a sounder and more objective footing. The best information on early population movements is now being obtained from the ‘archaeology of the living body’, the clues to be found in genetic material.</p><p><strong>B</strong></p><p><strong>Recent work on the problem of when people first entered the Americas is an example of the value of these new techniques.</strong> North-east Asia and Siberia have long been accepted as the launching ground for the first human colonizers of the New World. But was there one major wave of migration across the Bering Strait into the Americas, or several? And when did this event, or events, take place? <strong>In recent years, new clues have come from research into genetics</strong>, including the distribution of genetic markers in modern Native Americans.</p><p><strong>C</strong></p><p>An important project, led by the biological anthropologist <strong>Robert Williams</strong>, focused on the <strong>variants (called Gm allotypes) of</strong> <strong>one particular protein</strong> - immunoglobin G- found in the <strong>fluid portion of human blood</strong>. All proteins ‘drift’, or produce variants, over the generations, and members of an interbreeding human population will share a set of such variants. Thus, by comparing the Gm allotypes of two different populations (e.g. two Indian tribes), one can establish their genetic ‘distance’, <strong>which itself can be calibrated to give an indication of the length of time since these populations last interbred</strong>.</p><p><strong>D</strong></p><p>Williams and his colleagues sampled the blood of over 5,000 American Indians in western North America during a twenty-year period. They found that their Gm allotypes could be divided into two groups, one of which also corresponded to the genetic typing of Central and South American Indians. <strong>Other tests showed that the Inuit (or Eskimo) and Aleut formed a third group</strong>. <strong>From this evidence it was deduced that there had been three major waves of migration across the Bering Strait.</strong> <strong>The first, Paleo-Indian, wave more than 15,000 years ago was ancestral to all Central and South American Indians.</strong> The second wave, about 14,000 12,000 years ago, brought Na-Dene hunters, ancestors of the Navajo and Apache (who only migrated south from Canada about 600 or 700 years ago). The third wave, perhaps 10,000 or 9,000 years ago, saw the migration from North-east Asia of groups ancestral to the modern Eskimo and Aleut.</p><p><strong>E</strong></p><p><strong>How far does other research support these conclusions</strong> Geneticist Douglas Wallace has studied mitochondrial DNA in blood samples from three widely separated Native American groups: <strong>Pima-Papago Indians in Arizona, Maya Indians on the Yucatanpeninsula, Mexico,</strong> and <strong>Ticuna Indians in the Upper Amazon region of Brazil.</strong> As would have been predicted by Robert Williams’s work, <strong>all three groups appear to be descended from the same ancestral (Paleo-Indian) population</strong>.</p><p><strong>F</strong></p><p><strong>There are two other kinds of research that have thrown some light on the origins of the Native American population;</strong> they involve the study of teeth and of languages. The biological anthropologist Christy Turner is an expert in the analysis of changing physical characteristics in human teeth. He argues that tooth crowns and roots have a high genetic component, minimally affected by environmental and other factors Studies carried out by <strong>Turner of many thousands of New and Old World specimens</strong>, both ancient and modern, suggest that the majority of prehistoric Americans <strong>are linked to Northern Asian populations by crown and root traits such as incisor shoveling</strong> (a scooping out on one or both surfaces of the tooth), <strong>single-rooted upper first premolars6 and triple-rooted lower first molars</strong>.</p><p>According to Turner, this ties in with the idea of a single Paleo-Indian migration out of North Asia, which he sets at before 14,000 years ago by calibrating rates of dental micro-evolution. <strong>Tooth analyses also suggest that there were two later migrations of Na-Denes and Eskimo-Aleut</strong>.</p><p><strong>G</strong></p><p>The linguist Joseph Greenberg has, since the 1950s, <strong>argued that all Native American languages belong to a single ‘Amerind’ family, except for Na-Dene and Eskimo-Aleut</strong> - a view that gives credence to the idea of three main migrations. Greenberg is in a minority among fellow linguists, most of whom favour the notion of a great many waves of migration to account for the more than 1,000 languages spoken at one time by American Indians. <strong>But there is no doubt that the new genetic and dental evidence provides strong backing for Greenberg’s view.</strong> Dates given for the migrations should nevertheless be treated with caution, except where supported by hard archaeological evidence.</p><div align="center">  <img src="../../../../loading2.svg" data-original="/2023/10/24/ielts-reading-2/2.jpeg"></div><h2 id="剑6-TEST1-1"><a href="#剑6-TEST1-1" class="headerlink" title="剑6-TEST1.1"></a>剑6-TEST1.1</h2><p><strong>AUSTRALIA’S SPORTING SUCCESS</strong></p><p>A  They play hard, they play often, and they play to win. Australian sports teams win more than their fair share of titles, demolishing rivals with seeming ease. How do they do it? A big part of the secret is an extensive and expensive network of sporting academies underpinned by science and medicine. At the Australian Institute of Sport (AIS), hundreds of youngsters and pros live and train under the eyes of coaches. Another body, the Australian Sports Commission (ASC), finances programmes of excellence in a total of 96 sports for thousands of sportsmen and women. Both provide intensive coaching, training facilities and nutritional advice.</p><details>  <summary>点我查看解析</summary>  <div>fair share of titles: fair 除了公平，还有「应有」的意思。titles 表示头衔，这里引申为「荣誉」。</div>  <div>demolishing rivals with seeming ease: demolish 是摧残，破坏的意思，这里表示「摧枯拉朽地击败对手」。</div>  <div>underpinned: =based on 基于</div>  <div>intensive coaching: 加强版的训练。强化指导。</div>  <div>这段主要是综述了澳大利亚的运动员可以在国际赛事中取的辉煌成绩的背后原因——这个秘密的一个重要部分是一个以科学和医学为基础的广泛而昂贵的体育学院网络。</div></details><br><p>B  Inside the academies, science takes centre stage. The AIS employs more than 100 sports scientists and doctors, and collaborates with scores of others in universities and research centres. AIS scientists work across a number of sports, applying skills learned in one - such as building muscle strength in golfers - to others, such as swimming and squash. They are backed up by technicians who design instruments to collect data from athletes. They all focus on one aim: winning. ‘We can’t waste our time looking at ethereal scientific questions that don’t help the coach work with an athlete and improve performance,’ says Peter Fricker, chief of science at AIS.</p><details>  <summary>点我查看解析</summary>  <div>collaborates with scores of others in universities: scores 在这里表示人员的意思。</div>  <div>squash: 壁球。</div>  <div>ethereal: 空洞的、空灵的。</div>  <div>chief: 主管。</div>  <div>这段主要是讲述了，AIS招聘科学家的用处——只有一个目标，为了帮助运动员称为冠军。为此，没有必要去研究空洞的科学问题。</div></details><br><p>C  A lot of their work comes down to measurement - everything from the exact angle of a swimmer’s dive to the second-by-second power output of a cyclist. This data is used to wring improvements out of athletes. The focus is on individuals, tweaking performances to squeeze an extra hundredth of a second here, an extra millimetre there. No gain is too slight to bother with. It’s the tiny, gradual improvements that add up to world-beating results. To demonstrate how the system works, Bruce Mason at AIS shows off the prototype of a 3D analysis tool for studying swimmers. A wire-frame model of a champion swimmer slices through the water, her arms moving in slow motion. Looking side-on, Mason measures the distance between strokes. From above, he analyses how her spine swivels. When fully developed, this system will enable him to build a biomechanical profile for coaches to use to help budding swimmers. Mason’s contribution to sport also includes the development of the SWAN (SWimming ANalysis)system now used in Australian national competitions. It collects images from digital cameras running at 50 frames a second and breaks down each part of a swimmer’s performance into factors that can be analysed individually - stroke length, stroke frequency, average duration of each stroke, velocity, start, lap and finish times, and so on. At the end of each race, SWAN spits out data on each swimmer.</p><details>  <summary>点我查看解析</summary>  <div>comes down to: 归结于，归因于。</div>  <div>wring improvements out of athletes: 直译：榨取运动员的进步。=促进运动员的进步（一种更为激烈的口吻）。和后文的 squeeze an extra hundredth of a second 相呼应。</div>  <div>tweaking: 拧，调整。</div>  <div>too slight to bother with: 微不足道的。</div>  <div>world-beating results: 举世瞩目的成果。</div>  <div>wire-frame model: 线框模型，广泛用于建模领域，属于现实事物的抽象、简化版。</div>  <div>Looking side-on: 从一旁看着。</div>  <div>swivel: 旋转。</div>  <div>help budding swimmers: budding 是发育，一般用于种子发育。这里表示运动员的成长。</div>  <div>stroke: 区分于 strike，strike 一般用于击打动作，stroke 用于划动作。stroke 还有中风、轻抚、举动的意思。表示击打一般只用于敲击键盘和击球。</div>  <div>spit out: 输出。</div>  <div>这段主要是讲述了「测量」在帮助运动员的过程中是怎么做的——AIS 的 Bruce Mason 展示了用于研究游泳运动员的 3D 分析工具原型，以及澳大利亚国家比赛中使用的 SWAN（游泳分析）系统。</div></details><br><p>D  ‘Take a look,’ says Mason, pulling out a sheet of data. He points out the data on the swimmers in second and third place, which shows that the one who finished third actually swam faster. So why did he finish 35 hundredths of a second down? ‘His turn times were 44 hundredths of a second behind the other guy,’ says Mason. ‘If he can improve on his turns, he can do much better’ This is the kind of accuracy that AIS scientists’ research is bringing to a range of sports.</p><p>With the Cooperative Research Centre for Micro Technology in Melbourne, they are developing unobtrusive sensors that will be embedded in an athlete’s clothes or running shoes to monitor heart rate, sweating, heat production or any other factor that might have an impact on an athlete’s ability to run. There’s more to it than simply measuring performance. Fricker gives the example of athletes who may be down with coughs and colds 11 or 12 times a year. After years of experimentation, AlS and the University of Newcastle in New South Wales developed a test that measures how much of the immune-system protein immunoglobulin A is present in athletes’ saliva. If IgA levels suddenly fall below a certain level, training is eased or dropped altogether. Soon, IgA levels start rising again, and the danger passes. Since the tests were introduced, AIS athletes in all sports have been remarkably successful at staying healthy.</p><details>  <summary>点我查看解析</summary>  <div>pulling out: 拿出了...</div>  <div>in second and third place: 第二名和第三名。</div>  <div>finish 35 hundredths of a second down: down 在这里表示落后的意思，还要注意下百分之三十五的表达，关键词是 hundredths，这里并没有使用普通的 percent 表达。</div>  <div>is the kind of accuracy: 这里等同于 a series of 表示一系列。</div>  <div>Melbourne: 墨尔本。</div>  <div>unobtrusive: 不引人注目的，不招摇的。</div>  <div>University of Newcastle in New South Wales: 纽卡斯尔大学（新南威尔士）。</div>  <div>immunoglobulin: 免疫球蛋白，一般看到的 lgA 就表示免疫球蛋白A。</div>  <div>saliva: 唾液，olivia 有表示橄榄的意思。</div>  <div>remarkably: 显著的。</div>  <div>第一段主要讲述了（在上一段中）拿到的分析数据，的使用例子。分析了为什么一个运动员明明游的更快，却落后的原因——是因为转弯的时候落后了。</div>  <div>第二段主要讲述了传感器开发，不仅仅是为了监测心率、出汗、产热或任何其他可能影响运动员能力的因素（比赛性能），还进一步守护健康，让运动员不至于在免疫力低下的时候训练。</div></details><br><p>E  Using data is a complex business. Well before a championship, sports scientists and coaches start to prepare the athlete by developing a ‘competition model’, based on what they expect will be the winning times. ‘You design the model to make that time,’ says Mason. ‘A start of this much, each free-swimming period has to be this fast, with a certain stroke frequency and stroke length, with turns done in these times.’ All the training is then geared towards making the athlete hit those targets, both overall and for each segment of the race. Techniques like these have transformed Australia into arguably the world’s most successful sporting nation.</p><p>F  Of course, there’s nothing to stop other countries copying—and many have tried. Some years ago, the AIS unveiled coolant-lined jackets for endurance athletes. At the Atlanta Olympic Games in 1996, these sliced as much as two percent off cyclists’ and rowers’ times. Now everyone uses them. The same has happened to the ‘altitude tent’, developed by AIS to replicate the effect of altitude training at sea level. But Australia’s success story is about more than easily copied technological fixes, and up to now no nation has replicated its all-encompassing system.</p><details>  <summary>点我查看解析</summary>  <div>championship: 锦标赛。</div>  <div>be geared towards: be aimed to 目标是，旨在</div>  <div>slice: 切片，但是它可以被借用为缩短的意思（因为切断了和缩短有引申义）。</div>  <div>replicate: 复制，复刻。同 reproduce。</div>  <div>encompassing: 无所不包的，包罗万象的。</div>  <div>第一段主要讲述了，使用科学方法获得的数据的使用。打个比方，通过数据设计出来的比赛模型下，需要多少秒才可以赢得比赛，那么，训练就要按照这个时间去做。诸如此类的措施已经让澳大利亚变成了最成功的体育国家。</div>  <div>这段主要是讲述了，AIS招聘科学家的用处——只有一个目标，为了帮助运动员称为冠军。为此，没有必要去研究空洞的科学问题。</div></details><br><div align="center">  <img src="../../../../loading2.svg" data-original="/2023/10/24/ielts-reading-2/3.jpeg"></div>]]></content>
      
      
      <categories>
          
          <category> 英语学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> English </tag>
            
            <tag> 阅读 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>通过一些句子增加雅思听力词汇（4）</title>
      <link href="/2023/10/21/ielts-listening-words-4/"/>
      <url>/2023/10/21/ielts-listening-words-4/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><audio src="audio.mp3" controls loop preload="metadata">  你的浏览器不支持 audio 标签。</audio><p>No.145  And there is an increased need to resolve social problems as people begin to compete for resources.</p><p>由于人们为资源相互竞争，越来越多的社会问题也需要解决。</p><p>No.146  The third strategy is to avoid the <strong>drought</strong> conditions.</p><p>第三种策略是避免干旱。</p><p>No.147  Surveys indicate that almost everybody cares about the environment.</p><p>调查表明几乎所有人都对环境表示关心。</p><p>No.148  Individuals, people, could govern themselves, without the need for kings and queens.</p><p>个体、人民能够管理自己，不需要国王和王后。</p><p>No.149  Some of them <strong>utilized</strong> stone structures called “stone canoes”</p><p>有些人用石制结构，叫做石舟。</p><p>No.150  The geocentric theory continued to <strong>prevail</strong> in Western thought for almost 2, 000 years.</p><p>地心说理论在西方国家持续流行了两千多年。</p><p>No.151  The phones <strong>interfere</strong> with the radio communication at the airport.</p><p>电话引号干扰了机场的无线电通信。</p><p>No.152  Light hits the water <strong>droplets</strong> and is <strong>scattered</strong> in random directions.</p><p>光照到小水珠上，并向随机的方向分散。</p><p>No.153  There are a lot of <strong>marine</strong> plants that survive, grow, and <strong>reproduce</strong> in surface waters.</p><p>有很多的海洋生物在水域表面生存、长大、繁殖。</p><p>No.154  So, the assignment is to reproduce one of the animal <strong>camouflage</strong> experiments.</p><p>我们的作业是复制一个动物伪装的实验。</p><p>No.155  The rooms were arranged around a <strong>chimney</strong> in the center of the house.</p><p>房间被安排在房屋中心的烟囱周围。</p><p>No.156  Wind and water are constantly <strong>crashing</strong> into these plants.</p><p>风和潮水会持续地冲刷撞击这些植物（海边的植物）。</p><p>No.157  And different colors appeal to or inspire different emotions in different people.</p><p>不同的颜色会吸引不同人，或者激发不同的情感。</p><p>No.158  Maybe there was some kind of a climate <strong>shift</strong>?</p><p>也许曾经有一些气候变化？</p><p>No.159  Operas quit being <strong>presented</strong> in Latin and started being presented in Italian.</p><p>歌剧不再用拉丁文，而开始用意大利语了。</p><p>No.160  This relatively low <strong>compact</strong> structure helps the house <strong>withstand</strong> the strong winds <strong>blowing off</strong> the ocean.</p><p>这种相对低矮结实的房屋结构会有助于房屋承受海洋刮来的强风。</p><p>No.161  It was <strong>customary</strong> to <strong>scrape</strong> <strong>away</strong> the surface of the <strong>parchment</strong> with an <strong>abrasive</strong>.</p><p>用研磨料来刮掉羊皮纸表面（的字迹）是很习惯的（做法）。</p><p>No.162  The characters <strong>resemble</strong> real people.</p><p>这些角色像真人。</p><p>No.163  Memory tests were never performed on young children.</p><p>记忆力实验从来没在小孩子身上做（进行）过。</p><p>No.164  The <strong>optic</strong> nerve connects the back of the eye to the brain.</p><p>视觉神经把眼睛的背面和大脑连接起来。</p><p>No.165  Professors want to notify you of changes to class schedules.</p><p>教授想通知你关于课程表的变动。</p><p>No.166  Organic farms don’t use chemical <strong>pesticides</strong> or anything that can pollute the soil or the water.</p><p>有机农场不会使用化学杀虫剂这种会污染水或土壤的东西。</p><p>No.167  Then classify them based on <strong>similarities</strong> and <strong>differences</strong>.</p><p>然后根据相同点和不同点来分类他们。</p><p>No.168  <strong>Sulfuric</strong> acid <strong>dissolves</strong> <strong>limestone</strong>, right?</p><p>硫酸能溶解石灰岩，对吧？</p><p>No.169  New standards for sculpture, standards that <strong>emphasized</strong> form rather than color.</p><p>新的雕塑标准，重视形式而非颜色。</p><p>No.170  Andrew Carnegie was particularly admired for his <strong>generosity</strong>.</p><p>安德鲁 · 卡耐基因他的慷慨而受到敬仰。</p><p>No.171  We don’t have time to start <strong>from scratch</strong>.</p><p>我们没时间从头再来。</p><p>No.172  He divided all living things into two groups.</p><p>他把生物分成两组。</p><p>No.173  Scientists can identify the type of plant from <strong>ancient remains</strong>.</p><p>科学家可以从远古残骸中鉴别出植物的类型。</p><p>No.174  The population <strong>soared</strong> in the early 1800s.</p><p>十九世纪初，人口激增。</p><p>No.175  Large heavy <strong>mortars</strong>, the sort of thing that would have been used for grinding grain.</p><p>大的研钵，这种东西可以用来研磨食物。</p><p>No.176  So when water <strong>evaporates</strong> from the ocean, it takes energy to convert that water into a <strong>gaseous</strong> <strong>form</strong>, into water <strong>vapor</strong>.</p><p>所以当水从海洋蒸发时，需要能量来把水转换成气态形式成水蒸气。</p><p>No.177  About 30 years ago, a <strong>geologist</strong> named Edward Cotter, published a paper that contained a very interesting hypothesis.</p><p>三十年前，一个叫科特的地质学家，发表了一篇论文，包含了一个很有趣的假说。</p><p>No.178  There are elephants, which <strong>descended from</strong> <strong>mastodons</strong>.</p><p>大象起源于乳齿象（是乳齿象的后代）。</p><p>No.179  Color film hadn’t even been <strong>invented</strong> yet.</p><p>那时彩色胶片还没有发明。</p><p>No.180  Different types of <strong>atoms</strong> <strong>glow</strong> in different colors.</p><p>不同类型的原子发出不同颜色的光。</p><p>No.181  Such forces could actually <strong>alter</strong> a moon’s orbit.</p><p>这种力量实际上可以改变月球的轨道。</p><p>No.182  As you know, <strong>microbes</strong> are <strong>microorganisms</strong> like bacteria that help to <strong>digest</strong> or <strong>break down</strong> food.</p><p>细菌帮助去消化或者分解食物。</p><p>No.183  Features such as color, <strong>scent</strong>, and shape attract <strong>pollinators</strong>.</p><p>像是颜色、气味和形状之类的特征会吸引传粉者。</p><p>No.184  Soon, the text began to be more widely <strong>circulated</strong> through the Middle East.</p><p>很快这篇文章开始更为广泛第在中东流传。</p><p>No.185  And these <strong>spots</strong> are so important because many animals rely on <strong>microclimate</strong> to <strong>regulate</strong> their body temperature.</p><p>而这些地区很是重要，因为很多动物就是依靠小气候来调节其身体温度的。</p><p>No.186  To get that <strong>perfection</strong>, the engineer must have had to measure it repeatedly during construction.</p><p>要达到那个完美程度，工程师必须在建造过程中重复地测量。</p><p>No.187  I get it, so it’s mainly for people who decide to <strong>withdraw</strong> from to change to new courses early on.</p><p>我懂了，这个主要是为那些想要退课、早点换新课。</p><p>No.188  Well, the internship requires me to have a <strong>scuba</strong> diving <strong>certification</strong>.</p><p>这个实习要求我有潜水证。</p><p>No.189  They swallow stones, <strong>smashing</strong> food up, just as we do when we chew.</p><p>他们吞下石头，碾碎食物，就像我们咀嚼的时候一样。</p><p>No.190  But two of our <strong>faculty</strong> accompany each group and also give <strong>seminars</strong>.</p><p>但是教职员工的其中两人会分别配每个组，讲研讨课。</p><p>No.191  The same species are <strong>isolated</strong> from each other and then develop into two different directions and end up as two <strong>distinct</strong> species.</p><p>相同的物种彼此隔离，然后他们向两个不同的方向发展最终成了两个不同的物种。</p><p>No.192  Researchers have long been interested in whether animals <strong>possess</strong> this capability.</p><p>研究人员一直都对动物是否具有这样的能力感兴趣。</p><p>No.193  Two stars that arise at the same time.</p><p>两颗星星同时出现。</p><p>No.194  His <strong>proposition</strong> was rejected based on other scientific beliefs I held at the time.</p><p>他的提议被当时的科学观点所反对。</p><div align="center">  <img src="../../../../loading2.svg" data-original="/2023/10/21/ielts-listening-words-4/1.webp"></div>]]></content>
      
      
      <categories>
          
          <category> 英语学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> English </tag>
            
            <tag> 单词 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>部分剑桥雅思的做题记录和沉淀（1）</title>
      <link href="/2023/10/19/ielts-reading-1/"/>
      <url>/2023/10/19/ielts-reading-1/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="剑7-TEST2-3"><a href="#剑7-TEST2-3" class="headerlink" title="剑7-TEST2.3"></a>剑7-TEST2.3</h2><p><strong>Makete Integrated Rural Transport Project</strong></p><p><strong>Section A</strong></p><p>The disappointing results of many conventional road transport projects in Africa led some experts to rethink the strategy by which rural transport problems were to be tackled at the beginning of the 1980s. A request for help in improving the availability of transport within the remote Makete District of south-western Tanzania presented the opportunity to try a new approach.</p><p>The concept of ‘integrated rural transport’ was adopted in the task of examining the transport needs of the rural households in the district. The objective was to reduce the time and effort needed to obtain access to essential goods and services through an improved rural transport system. The underlying assumption was that the time saved would be used instead for activities that would improve the social and economic development of the communities. The Makete Integrated Rural Transport Project (MIRTP) started in 1985 with financial support from the Swiss Development Corporation and was coordinated with the help of the Tanzanian government.</p><details>  <summary>点我查看解析</summary>  <div>integrated: 综合的（完整统一的、密切协调的）</div>  <div>underlying: 基本的（潜在的）</div>  <div>households: 家庭的</div>  <div>Section A 主要讲了 MIRTP 的背景。第一段主要是讲了坦桑尼亚西南部的交通困难，第二段主要是讲了“农村综合交通”的概念的目标，以及（为了这个目标）MIRTP 被提出的背景。</div></details><br><p><strong>Section B</strong></p><p>When the project began, Makete District was virtually totally isolated during the rainy season. The regional road was in such bad shape that access to the main towns was impossible for about three months of the year. Road traffic was extremely rare within the district, and alternative means of transport were restricted to donkeys in the north of the district. People relied primarily on the paths, which were slippery and dangerous during the rains.</p><p>Before solutions could be proposed, the problems had to be understood. Little was known about the transport demands of the rural households, so Phase I, between December 1985 and December 1987, focused on research. The socio-economic survey of more than 400 households in the district indicated that a household in Makete spent, on average, seven hours a day on transporting themselves and their goods, a figure which seemed extreme but which has also been obtained in surveys in other rural areas in Africa. Interesting facts regarding transport were found: 95% was on foot; 80% was within the locality; and 70% was related to the collection of water and firewood and traveling to grinding mills.</p><details>  <summary>点我查看解析</summary>  <div>socio-economic: 社会经济的</div>  <div>grinding mills: 磨坊</div>  <div>Section B 主要讲了项目的第一阶段，刚开始的时候，交通极为不便。想解决问题必须得了解问题，在调查中发现大部分人每天花很长时间在交通上</div></details><br><p><strong>Section C</strong></p><p>Having determined the main transport needs, possible solutions were identified which might reduce the time and burden. During Phase II, from January to February 1991, a number of approaches were implemented in an effort to improve mobility and access to transport. An improvement of the road network was considered necessary to ensure the import and export of goods to the district. These improvements were carried out using methods that were heavily dependent on labour.</p><p>In addition to the improvement of roads, these methods provided training in the operation of a mechanical workshop and bus and truck services. However, the difference from the conventional approach was that this time consideration was given to local transport needs outside the road network.</p><p>Most goods were transported along the paths that provide short-cuts up and down the hillsides, but the paths were a real safety risk and made the journey on foot even more arduous. It made sense to improve the paths by building steps, handrails and footbridges.</p><p>It was uncommon to find means of transport that were more efficient than walking but less technologically advanced than motor vehicles. The use of bicycles was constrained by their high cost and the lack of available spare parts. Oxen were not used at all but donkeys were used by a few households in the northern part of the district. MIRTP focused on what would be most appropriate for the inhabitants of Makete in terms of what was available, how much they could afford and what they were willing to accept. After careful consideration, the project chose the promotion of donkeys - a donkey costs less than a bicycle - and the introduction of a locally manufacturable wheelbarrow.</p><details>  <summary>点我查看解析</summary>  <div>arduous: 艰辛的</div>  <div>wheelbarrow、barrow: 独轮车</div>  <div>Section C 主要讲了项目的二阶段，用于增加流动性和交通的便利性。除了成本道路之外，考虑到了该地区的环境让徒步变的不容易，但是又很难找到比徒步更好的交通方式——因此选择了驴。</div></details><br><p><strong>Section D</strong></p><p>At the end of Phase II, it was clear that the selected approaches to Makete’s transport problems had different degrees of success. Phase III, from March 1991 to March 1993, focused on the refinement and institutionalisation of these activities.</p><p>The road improvements and accompanying maintenance system had helped make the district centre accessible throughout the year. Essential goods from outside the district had become more readily available at the market, and prices did not fluctuate as much as they had done before.</p><p>Paths and secondary roads were improved only at the request of communities who were willing to participate in construction and maintenance. However, the improved paths impressed the inhabitants, and request for assistance greatly increased soon after only a few improvements had been completed.</p><p>The efforts to improve the efficiency of the existing transport services were not very successful because most of the motorised vehicles in the district broke down and there were no resources to repair them. Even the introduction of low-cost means of transport was difficult because of the general poverty of the district. The locally manufactured wheelbarrows were still too expensive for all but a few of the households. Modifications to the original design by local carpenters cut production time and costs. Other local carpenters have been trained in the new design so that they can respond to requests. Nevertheless, a locally produced wooden wheelbarrow which costs around 5000 Tanzanian shillings (less than US$20) in Makete, and is about one quarter the cost of a metal wheelbarrow, is still too expensive for most people.</p><p>Donkeys, which were imported to the district, have become more common and contribute, in particular, to the transportation of crops and goods to market. Those who have bought donkeys are mainly from richer households but, with an increased supply through local breeding, donkeys should become more affordable. Meanwhile, local initiatives are promoting the renting out of the existing donkeys.</p><p>It should be noted, however, that a donkey, which at 20,000 Tanzanian shillings costs less than a bicycle, is still an investment equal to an average household’s income over half a year. This clearly illustrates the need for supplementary measures if one wants to assist the rural poor.</p><details>  <summary>点我查看解析</summary>  <div>institutionalisation、institutionalization: 制度化</div>  <div>refinement: 细致化、精致化</div>  <div>readily: 乐意的、爽快的、容易的</div>  <div>Section D 主要讲了项目的三阶段，项目进入 refinement 阶段——理由是，即便有不少措施在实施，还是有不少困难之处在。这里举例了独轮车和驴，仍然太贵来做举例——如果真的想帮到他们，那么 supplementary measures should be done.</div></details><br><p><strong>Section E</strong></p><p>It would have been easy to criticise the MIRTP for using in the early phases a’top-down’ approach, in which decisions were made by experts and officials before being handed down to communities, but it was necessary to start the process from the level of the governmental authorities of the district. It would have been difficult to respond to the requests of villagers and other rural inhabitants without the support and understanding of district authorities.</p><p><strong>Section F</strong></p><p>Today, nobody in the district argues about the importance of improved paths and inexpensive means of transport. But this is the result of dedicated work over a long period, particularly from the officers in charge of community development. They played an essential role in raising awareness and interest among the rural communities.</p><p>The concept of integrated rural transport is now well established in Tanzania, where a major program of rural transport is just about to start. The experiences from Makete will help in this initiative, and Makete District will act as a reference for future work.</p><details>  <summary>点我查看解析</summary>  <div>Section E 主要说明了当地政府力量在这个项目中的协作。MIRTP 自顶向下可以被批评，但是在 response the requests of rural inhabitants 的时候政府力量帮忙做了 support 和 understanding。</div>  <div>Section F 主要讲了 MIRTP 对坦桑尼亚其它地区有借鉴意义，说的是未来影响。will act as a reference for future work.</div></details><br><div align="center">  <img src="../../../../loading2.svg" data-original="/2023/10/19/ielts-reading-1/1.png"></div><h2 id="剑7-TEST3-3"><a href="#剑7-TEST3-3" class="headerlink" title="剑7-TEST3.3"></a>剑7-TEST3.3</h2><p>Forests are one of the main elements of our natural heritage. The decline of Europe’s forests over the last decade and a half has led to an increasing awareness and understanding of the serious imbalances which threaten them. European countries are becoming increasingly concerned by major threats to European forests, threats which know no frontiers other than those of geography or climate: air pollution, soil deterioration, the increasing number of forest fires and sometimes even the mismanagement of our woodland and forest heritage. There has been a growing awareness of the need for countries to get together to co-ordinate their policies. In December 1990, Strasbourg hosted the first Ministerial Conference on the protection of Europe’s forests. The conference brought together 31 countries from both Western and Eastern Europe. The topics discussed included the <strong>coordinated study of the destruction of forests, as well as how to combat forest fires and the extension of European research programs on the forest ecosystem</strong>. The preparatory work for the conference had been undertaken at two meetings of experts. Their initial task was to decide which of the many forest problems of concern to Europe involved the largest number of countries and might be the subject of joint action. Those confined to particular geographical areas, such as countries bordering the Mediterranean or the Nordic countries therefore had to be discarded. However, this does not mean that in future they will be ignored.</p><details>  <summary>点我查看解析</summary>  <div>deterioration: 恶化</div>  <div>heritage: 遗产，财产</div>  <div>Ministerial: 部长的，大臣的</div>  <div>combat: 扑灭</div>  <div>preparatory: 准备性的，prepare 的形容词</div>  <div>joint action: 联合行动</div>  <div>Nordic countries: 北欧国家</div>  <div>第一段为大概的概述段，首先引出欧洲的森林急剧减少的问题，为了应对这些问题，欧洲各国需要联合起来。1990年，斯特拉斯堡主办了第一届保护欧洲森林部长级会议，需要看看在欧洲关心的问题之中，哪些国家涉及到的最多。</div></details><br><p>As a whole, European countries see forests as <strong>performing a triple function</strong>: biological, economic and recreational. <strong>The first is to act as a ‘green lung’ for our planet</strong>; by means of photosynthesis, forests produce oxygen through the transformation of solar energy, thus fulfilling what for humans is the essential role of an immense, non-polluting power plant. <strong>At the same time, forests provide raw materials for human activities through their constantly renewed production of wood</strong>. Finally, they offer those condemned to spend five days a week in an urban environment an unrivalled area of freedom to unwind and take part in a range of leisure activities, such as hunting, riding and hiking. The economic importance of forests has been understood since the dawn of man - wood was the first fuel. The other aspects have been recognised only for a few centuries but they are becoming more and more important. Hence, there is a real concern throughout Europe about the damage to the forest environment which threatens these three basic roles.</p><details>  <summary>点我查看解析</summary>  <div>recreational: 娱乐性</div>  <div>photosynthesis: 光合作用</div>  <div>immense: 巨大的</div>  <div>unrivaled、unrivalled: 无与伦比的</div>  <div>unwind: 放松</div>  <div>dawn: 黎明，诞生，起源</div>  <div>Hence: 因此，同 Therefore</div>  <div>这段主要说明了欧洲人认为森林的三个作用：biological, economic and recreational</div></details><br><p>The myth of the ‘natural’ forest has survived, yet there are effectively no remaining ‘primary’ forests in Europe. All European forests are artificial, having been adapted and exploited by man for thousands of years. This means that a forest policy is vital, <strong>that it must transcend national frontiers and generations of people</strong>, and that it must allow for the inevitable changes that take place in the forests, <strong>in needs, and hence in policy</strong>. The Strasbourg conference was one of the first events on such a scale to reach this conclusion. A general declaration was made that ‘a central place in any ecologically coherent forest policy must be given to <strong>continuity over time</strong> and to the <strong>possible effects of unforeseen events</strong>, to ensure that the full <strong>potential of these forests is maintained</strong>‘.</p><details>  <summary>点我查看解析</summary>  <div>myth: 神话</div>  <div>这段从所有的森林都是人工森林（这意味着所有的森林已经开发了几千年），需要指定超越边界的政策。那么斯特拉斯堡会议是首次达成这一结论的大规模活动之一。强调了做出的政策必须超越时间、具有预见性</div></details><br><p>That general declaration was accompanied by <strong>six detailed resolutions</strong> to assist national policy-making. <strong>The first</strong> proposes the <strong>extension and systematisation of surveillance sites to monitor</strong> <strong>forest decline</strong>. Forest decline is still poorly understood but leads to the loss of a high proportion of a tree’s needles or leaves. The entire continent and the majority of species are now affected: between 30% and 50% of the tree population. The condition appears to result from the cumulative effect of a number of factors, with atmospheric pollutants the principal culprits. Compounds of nitrogen and sulphur dioxide should be particularly closely watched. <strong>However, their effects are probably accentuated by climatic factors</strong>, such as drought and hard winters, or soil imbalances such as soil acidification, which damages the roots. <strong>The second resolution</strong> concentrates on the need to preserve the <strong>genetic diversity of European forests</strong>. The aim is to reverse the decline in the number of tree species or at least to preserve the ‘genetic material’ of all of them. Although forest fires do not affect all of Europe to the same extent, the amount of damage caused the experts to propose as the third resolution that <strong>the Strasbourg conference consider the establishment of a European database on the subject</strong>. All information used in the development of national preventative policies would become generally available. The subject of the fourth resolution discussed by the ministers was <strong>mountain forests</strong>. In Europe, it is undoubtedly the mountain ecosystem which has changed most rapidly and is most at risk. A thinly scattered permanent population and development of leisure activities, particularly skiing, have resulted in significant long-term changes to the local ecosystems. <strong>Proposed developments include preferential research program on mountain forests</strong>. <strong>The fifth resolution relaunched the European research network on the physiology of trees, called Eurosilva</strong>. Eurosilva should support joint European research on tree diseases and their physiological and biochemical aspects. Each country concerned could increase the number of scholarships and other financial support for doctoral theses and research projects in this area. <strong>Finally, the conference established the framework for a European research network on forest ecosystems</strong>. This would also involve harmonising activities in individual countries as well as identifying a number of priority research topics relating to the protection of forests. The Strasbourg conference’s main concern was to provide for the future. This was the initial motivation, one now shared by all 31 participants representing 31 European countries. Their final text commits them to on-going discussion between government representatives with responsibility for forests.</p><details>  <summary>点我查看解析</summary>  <div>systematisation、systematization: 系统化</div>  <div>surveillance: 系统化</div>  <div>cumulative: 积累性的</div>  <div>accentuate: 加剧</div>  <div>thinly scattered: 渐渐零散的（日渐稀疏）</div>  <div>physiology: 生理学</div>  <div>on-going、ongoing: 持续的</div>  <div>这段主要从六个方面的解决方案，来阐述对这些政策制定的帮助。</div></details><br><div align="center">  <img src="../../../../loading2.svg" data-original="/2023/10/19/ielts-reading-1/2.jpeg"></div><h2 id="剑7-TEST4-3"><a href="#剑7-TEST4-3" class="headerlink" title="剑7-TEST4.3"></a>剑7-TEST4.3</h2><p><strong>EFFECTS OF NOISE</strong></p><p>In general, it is plausible to suppose that we should prefer peace and quiet to noise. And yet most of us have had the experience of having to adjust to sleeping in the mountains or the countryside because it was initially ‘too quiet’, an experience that suggests that humans are capable of adapting to a wide range of noise levels. Research supports this view. For example, Glass and Singer (1972) exposed people to short bursts of very loud noise and then measured their ability to work out problems and their physiological reactions to the noise. <strong>The noise was quite disruptive at first, but after about four minutes the subjects were doing just as well on their tasks as control subjects who were not exposed to noise.</strong> Their physiological arousal also declined quickly to the same levels as those of the control subjects.</p><details>  <summary>点我查看解析</summary>  <div>plausible: 似是而非的</div>  <div>arousal: 唤醒</div>  <div>control subjects: 对照组</div>  <div>这段首先踢出来一个反常识但是符合直觉的观点：虽然大家偏爱安静的环境，但是却也可以忍受喧闹的环境。在 Glass and Singer 1927 年的研究之中，一开始噪音相当具有破坏性，但大约四分钟后，受试者的任务表现与未接触噪音的对照受试者一样好。</div></details><br><p>But there are limits to adaptation and loud noise becomes <strong>more troublesome if the person is required to concentrate on more than one task.</strong> For example, high noise levels interfered with the performance of subjects who were required to monitor three dials at a time, a task not unlike that of an airplane pilot or an air-traffic controller (Broadbent, 1957). <strong>Similarly</strong>, noise did not affect a subject’s ability to track a moving line with a steering wheel, <strong>but it did interfere with the subject’s ability to repeat numbers while tracking</strong> (Finkelman and Glass, 1970).</p><p>Probably the most significant finding from research on noise is that <strong>its predictability is more important than how loud it is.</strong> We are much more able to ‘tune out’ chronic background noise, even if it is quite loud, than to work under circumstances with unexpected intrusions of noise. In the Glass and Singer study, in which subjects were exposed to bursts of noise as they worked on a task, some subjects heard loud bursts and others heard soft bursts. For some subjects, the bursts were spaced exactly one minute apart (predictable noise); others heard the same amount of noise overall, but the bursts occurred at random intervals (unpredictable noise). <strong>Subjects reported finding the predictable and unpredictable noise equally annoying</strong>, and all subjects performed at about the same level during the noise portion of the experiment. <strong>But the different noise conditions had quite different after-effects</strong> when the subjects were required to proofread written material under conditions of no noise. As shown in Table 1 the <strong>unpredictable noise produced more errors in the later proofreading task than predictable noise</strong>; and soft, unpredictable noise actually produced slightly more errors on this task than the loud, predictable noise.</p><details>  <summary>点我查看解析</summary>  <div>proofread: 校对</div>  <div>第一段主要讲述了如果一个人需要专注于一项以上的任务，那么大声的噪音会变得更加麻烦，这个结论分别被两位学者发现。</div>  <div>第二段主要说明了噪音的「可预测性」非常重要，重要性高于「响度」。并且通过一组实验举例，虽然对照组和实验组的表现差不多，但是在实验后测试的工作中，非预测性噪音组的错误明显更多。</div></details><br><p>Unpredictable Noise Predictable Noise Average</p><table><thead><tr><th>Loud noise</th><th>40.1</th><th>31.8</th><th>35.9</th></tr></thead><tbody><tr><td>Soft noise</td><td>36.7</td><td>27.4</td><td>32.1</td></tr><tr><td>Average</td><td>38.4</td><td>29.6</td><td></td></tr></tbody></table><p> Table 1: Proofreading Errors and Noise</p><p>Apparently, unpredictable noise produces more fatigue than predictable noise, but it takes a while for this fatigue to take its toll on performance. <strong>Predictability is not the only variable that reduces or eliminates the negative effects of noise</strong>. <strong>Another is control</strong>. If the individual knows that he or she can control the noise, this seems to eliminate <strong>both its negative effects at the time and its after-effects</strong>. This is true even if the individual never actually exercises his or her option to turn the noise off (Glass and Singer, 1972). Just the knowledge that one has control is sufficient.</p><p>The studies discussed so far exposed people to noise for <strong>only short periods and only transient effects</strong> were studied. <strong>But the major worry about noisy environments is that living day after day with chronic noise may produce serious, lasting effects</strong>. One study, suggesting that this worry is a realistic one, compared elementary school pupils who attended schools near Los Angeles’s busiest airport with students who attended schools in quiet neighbourhoods (Cohen et al., 1980). It was found that children <strong>from the noisy schools had higher blood pressure and were more easily distracted</strong> than those who attended the quiet schools. Moreover, there was no evidence of adaptability to the noise. In fact, <strong>the longer</strong> the children had attended the noisy schools, <strong>the more</strong> distractible they became. The effects also seem to be long-lasting. A follow-up study showed that children who were moved to less noisy classrooms still showed greater distractibility one year later than students who had always been in the quiet schools (Cohen et al, 1981). It should be noted that the two groups of children had been carefully matched by the investigators so that they were comparable in age, ethnicity, race, and social class.</p><details>  <summary>点我查看解析</summary>  <div>ethnicity: 民族</div>  <div>race: 种族</div>  <div>comparable: 种族</div>  <div>第一段主要讲述了上一段结论的展开，说明了只要知晓有噪声的「控制权」，就可以减轻受到的影响。</div>  <div>第二段主要讲述了本文迄今为止，对噪音讨论的局限性——那就是讨论的时间尺度太短，事实上，噪音带来的更大的影响是慢性的，长期的。最后引述了 Cohen 等人的长期实验，来论证这个观点。</div></details><br><div align="center">  <img src="../../../../loading2.svg" data-original="/2023/10/19/ielts-reading-1/3.jpeg"></div><h2 id="剑7-TEST4-2"><a href="#剑7-TEST4-2" class="headerlink" title="剑7-TEST4.2"></a>剑7-TEST4.2</h2><p><strong>Endless Harvest</strong></p><p>More than two hundred years ago, Russian explorers and fur hunters landed on the Aleutian Islands, a volcanic archipelago in the North Pacific, and learned of a land mass that lay farther to the north. The islands’ native inhabitants called this land mass Aleyska, the ‘Great Land’; today, we know it as Alaska.</p><p>The forty-ninth state to join the United States of America (in 1959), Alaska is fully one-fifth the size of the mainland 48 states combined. It shares, with Canada, <strong>the second longest river system in North America and has over half the coastline of the United States</strong>. The rivers feed into the Bering Sea and Gulf of Alaska - cold, nutrient-rich waters which support tens of millions of seabirds, and over 400 species of fish, shellfish, crustaceans, and mollusks. Taking advantage of this rich bounty, Alaska’s commercial fisheries have developed into some of the largest in the world.</p><details>  <summary>点我查看解析</summary>  <div>archipelago: 群岛</div>  <div>land mass: 约等于 land，就是表示一块大陆</div>  <div>shellfish, crustaceans, and mollusks: 贝类、甲壳类动物和软体动物</div>  <div>bounty: 恩惠</div>  <div>fishery、fisheries: 渔业</div>  <div>这两段主要说明了阿拉斯加的来历，历史，以及拥有丰富的资源。为下文做铺垫。</div></details><br><p>According to the Alaska Department of Fish and Game (ADF&amp;G), Alaska’s commercial fisheries landed hundreds of thousands of tonnes of shellfish and herring, and well over a million tonnes of groundfish (cod, sole, perch and pollock) in 2000. <strong>The true cultural heart and soul of Alaska’s fisheries, however, is salmon.</strong> ‘Salmon,’ notes writer Susan Ewing in The Great Alaska Nature Factbook, ‘pump through Alaska like blood through a heart, bringing rhythmic, circulating nourishment to land, animals and people.’ The ‘predictable abundance of salmon allowed some native cultures to flourish,’ and ‘dying spawners* feed bears, eagles, other animals, and ultimately the soil itself.’ All five species of Pacific salmon - chinook, or king; chum, or dog; coho, or silver; sockeye, or red; and pink, or humpback - spawn** in Alaskan waters, and 90% of all Pacific salmon commercially caught in North America are produced there. Indeed, <strong>if Alaska was an independent nation, it would be the largest producer of wild salmon in the world</strong>. During 2000, commercial catches of Pacific salmon in Alaska exceeded 320,000 tonnes, with an ex-vessel value of over US260 million.</p><details>  <summary>点我查看解析</summary>  <div>Game: ADF&G 这里的 G 表示狩猎的意思。和渔业紧密相关。</div>  <div>land: 这里的 land 除了有陆地的意思，还有捕捞的意思。</div>  <div>herring、groundfish, cod, sole, perch and pollock: 鲱鱼、底层鱼类（鳕鱼、鳎目鱼、鲈鱼和狭鳕）</div>  <div>spawn、spawners: 产卵、产卵者</div>  <div>vessel: 船舶、血管</div>  <div>这一段承上启下，说明了阿拉斯加的鲑鱼数量之多，足足有 90% 占比的鲑鱼是阿拉斯加出产的，举例（例如 The Great Alaska Nature Factbook）说明了鲑鱼对于阿拉斯加的重要性。强化了「阿拉斯加非常依靠鲑鱼」这一结论。</div></details><br><p>Catches have not always been so healthy. <strong>Between 1940 and 1959, overfishing led to crashes in salmon populations so severe</strong> that <strong>in 1953 Alaska was declared a federal disaster area</strong>. With the onset of statehood, however, the State of Alaska took over management of its own fisheries, guided by a state constitution which mandates that Alaska’s natural resources be managed on a sustainable basis. At that time, statewide harvests totaled around 25 million salmon. <strong>Over the next few decades average catches steadily increased as a result of this policy of sustainable management, until, during the 1990s</strong>, annual harvests were well in excess of 100 million, and on several occasions over 200 million fish.</p><details>  <summary>点我查看解析</summary>  <div>onset: 建立。</div>  <div>mandate: 要求, =ask.</div>  <div>herring、groundfish, cod, sole, perch and pollock: 鲱鱼、底层鱼类（鳕鱼、鳎目鱼、鲈鱼和狭鳕）</div>  <div>several occasions: 有的时候, =sometimes</div>  <div>这一段主要说明了阿拉斯加州政府成立后要求当地可持续发展的需要，之后捕捞的数量稳定的增长，到了 1990 年代，年产量远远超过 1 亿条，有时甚至超过 2 亿条。</div></details><br><p>The primary reason for such increases is what is known as ‘In-Season Abundance-Based Management’. There are biologists throughout the state constantly, <strong>monitoring adult fish as they show up to spawn</strong>. The biologists sit in streamside counting towers, study sonar, watch from aeroplanes, and talk to fishermen. The salmon season in Alaska is not pre-set. The fishermen know the approximate time of year when they will be allowed to fish, but on any given day, one or more field biologists in a particular area can put a halt to fishing. Even sport fishing can be brought to a halt. It is this management mechanism that has allowed salmon stocks - and, accordingly, Alaska salmon fisheries - to prosper, even as salmon populations in the rest of the United States are increasingly considered threatened or even endangered.</p><details>  <summary>点我查看解析</summary>  <div>put a halt to fishing: halt 是阻止，禁止的意思，这里当成名词使用。意思就是：阻止捕捞鱼。</div>  <div>mandate: 要求, =ask.</div>  <div>even as: 这个=however，表示转折。</div>  <div>sport fishing: 游钓，娱乐钓鱼。是一种钓鱼活动，娱乐钓鱼更注重钓鱼过程的乐趣和挑战，而不仅仅关注捕获鱼类的数量或价值。</div>  <div>这一段主要讲述了「基于季节丰度的管理」带来了影响。生物学家通过各种方式查看鲑鱼的排卵期，以便于确定哪些时候不可以捕捞。通过管理，鲑鱼渔业得以繁荣。但是最后也提到了过度捕捞会带来灾害。</div></details><br><p>In 1999, the Marine Stewardship Council (MSC) commissioned a review of the Alaska salmon fishery. <strong>The Council, which was founded in 1996, certifies fisheries that meet high environmental standards, enabling them to use a label that recognises their environmental responsibility.</strong> The MSC has established a set of criteria by which commercial fisheries can be judged. <strong>Recognising the potential benefits of being identified as environmentally responsible, fisheries approach the Council requesting to undergo the certification process.</strong> The MSC then appoints a <strong>certification committee</strong>, composed of a panel of fisheries experts, <strong>which gathers information and opinions</strong> from fishermen, biologists, government officials, industry representatives, non-governmental organisations and others.</p><details>  <summary>点我查看解析</summary>  <div>put a halt to fishing: halt 是阻止，禁止的意思，这里当成名词使用。意思就是：阻止捕捞鱼。</div>  <div>undergo: 经受、接受。在本文里面是接受认证程序。</div>  <div>a panel of fisheries experts: panel 在这里是一组的意思，同 group.</div>  <div>这一段主要讲述了海洋管理委员会制定了一套判断商业渔业的标准。并且渔业向理事会请求接受认证程序的时候，MSC 组件了专门的认证委员会收集意见。</div></details><br><p>Some observers thought the Alaska salmon fisheries would not have any chance of certification when, in the months leading up to MSC’s final decision, salmon runs throughout western Alaska completely collapsed. In the Yukon and Kuskokwim rivers, chinook and chum runs were probably the poorest since statehood; <strong>subsistence communities throughout the region, who normally have priority over commercial fishing, were devastated.</strong></p><p>The crisis was completely unexpected, but researchers believe it had nothing to do with impacts of fisheries. Rather, <strong>they contend, it was almost certainly the result of climatic shifts, prompted in part by cumulative effects of the el El Nino &#x2F; La Nina phenomenon on Pacific Ocean temperatures</strong>, culminating in a harsh winter in which huge numbers of salmon eggs were frozen. <strong>It could have meant the end as far as the certification process was concerned. However, the state reacted quickly, closing down all fisheries, even those necessary for subsistence purposes</strong>.</p><p>In September 2000, MSC announced that the Alaska salmon fisheries qualified for certification. Seven companies producing Alaska salmon were immediately granted permission to display the MSC logo on their products. Certification is for an initial period of five years, with an annual review to ensure that the fishery is continuing to meet the required standards.</p><details>  <summary>点我查看解析</summary>  <div>in the months leading up to MSC's final decision: leading up to 在...之前。</div>  <div>be devastated: 遭到了破坏。</div>  <div>subsistence: 生存</div>  <div>culminating in a harsh winter: 最终造成了严酷的冬季。</div>  <div>这三段主要讲述了，因为生态环境遭到破坏，认证可能会遭遇失败的危机。在一众找借口，逃避的声音中，州政府及时出手直面问题关闭渔场。最终获得了胜利，MSC宣布阿拉斯加鲑鱼渔业获得认证资格，并在之后一直监督他们。</div></details><br><div align="center">  <img src="../../../../loading2.svg" data-original="/2023/10/19/ielts-reading-1/4.jpeg"></div>]]></content>
      
      
      <categories>
          
          <category> 英语学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> English </tag>
            
            <tag> 阅读 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>一个文字格式化工具</title>
      <link href="/2023/10/17/format-markdown-app/"/>
      <url>/2023/10/17/format-markdown-app/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><script>function formatText() {  const input = document.getElementById('input');  const output = document.getElementById('output');  const content = input.value;  const formattedContent = updateDocument(content);  output.value = formattedContent;}const updateDocument = (text) => {  let content = text;  content = processPunctuation(content);  content = condenseContent(content);  content = replaceFullNumbers(content);  content = replaceFullChars(content);  // 标记是否位于代码区域内  let isInCodeArea = false;  let existImageOrLinkArea = false;  // 每行操作  content = content    .split("\n")    .map((line) => {      if (line.trim().startsWith("```")) {        isInCodeArea = !isInCodeArea;      }      if (!/!?\[.*?\]\(.+?\)/.test(line)) {        existImageOrLinkArea = true;      }      line = replacePunctuations(line);      line = line.replace(        /([\u4e00-\u9fa5\u3040-\u30FF])([a-zA-Z0-9@&=\[\$\%\^\-\+(\/\\])/g,        "$1 $2"      );      line = line.replace(        /([a-zA-Z0-9!&;=\]\,\.\:\?\$\%\^\-\+\)\/\\])([\u4e00-\u9fa5\u3040-\u30FF])/g,        "$1 $2"      );      // 不在代码区域内才执行此项替换      if (        !/`+[^`]*[『\[]([^』\]]+)[』\]][『\[]([^』\]]+)[』\]][^`]*`+/g.test(          line        ) &&        !isInCodeArea      ) {        line = line.replace(          /[『\[]([^』\]]+)[』\]][『\[]([^』\]]+)[』\]]/g,          "[$1]($2)"        );      }      line = line.replace(        /[『\[]([^』\]]+)[』\]][（(]([^』)]+)[）)]/g,        "[$1]($2)"      );      if (existImageOrLinkArea) {        const imgOrLinks = line.match(/!?\[.*?\]\(.+?\)/g);        imgOrLinks?.forEach((e) => {          line = line.replace(e, e.replace(/ /g, "").replace("。", "."));        });      }      return line;    })    .join("\n")    .trim();  return content;};const condenseContent = (content) => {  content = content.replace(/^(.*)(\r?\n\1)+$/gm, "$1");  return content;};const replacePunctuations = (content) => {  content = content.replace(    /([\u4e00-\u9fa5\u3040-\u30FF])\.($|\s*)/g,    "$1。"  );  content = content.replace(/([\u4e00-\u9fa5\u3040-\u30FF]),\s*/g, "$1，");  content = content.replace(/([\u4e00-\u9fa5\u3040-\u30FF]);\s*/g, "$1；");  content = content.replace(/([\u4e00-\u9fa5\u3040-\u30FF])!\s*/g, "$1！");  content = content.replace(/([\u4e00-\u9fa5\u3040-\u30FF]):\s*/g, "$1：");  content = content.replace(/([\u4e00-\u9fa5\u3040-\u30FF])\?\s*/g, "$1？");  content = content.replace(/([\u4e00-\u9fa5\u3040-\u30FF])\\\s*/g, "$1、");  content = content.replace(/\(([\u4e00-\u9fa5\u3040-\u30FF])/g, "（$1");  content = content.replace(/\[([\u4e00-\u9fa5\u3040-\u30FF])/g, "『$1");  content = content.replace(/([\u4e00-\u9fa5\u3040-\u30FF。！])\]/g, "$1』");  content = content.replace(/<([\u4e00-\u9fa5\u3040-\u30FF])/g, "《$1");  content = content.replace(/([\u4e00-\u9fa5\u3040-\u30FF。！])>/g, "$1》");  content = content.replace(/。{3,}/g, "\u2026\u2026");  content = content.replace(/([！？])$1{3,}/g, "$1$1$1");  content = content.replace(/([。，；：、“”『』〖〗《》])\1{1,}/g, "$1");  return content;};const replaceFullNumbers = (content) => {  // " 全角数字。";  content = content.replace("０", "0");  content = content.replace("１", "1");  content = content.replace("２", "2");  content = content.replace("３", "3");  content = content.replace("４", "4");  content = content.replace("５", "5");  content = content.replace("６", "6");  content = content.replace("７", "7");  content = content.replace("８", "8");  content = content.replace("９", "9");  return content;}const processPunctuation = (text) => {  const punctuationPairs = [    { en: '.', zh: '。' },    { en: ',', zh: '，' },    { en: '?', zh: '？' },    { en: '!', zh: '！' },    { en: ':', zh: '：' },    { en: ';', zh: '；' },    { en: '(', zh: '（' },    { en: ')', zh: '）' },    { en: '[', zh: '【' },    { en: ']', zh: '】' },    { en: '{', zh: '｛' },    { en: '}', zh: '｝' },    { en: '"', zh: '“' },    { en: "'", zh: '‘' },    { en: '-', zh: '—' },    { en: '...', zh: '……' },    { en: '-', zh: '–' },    // 添加更多的标点符号对应关系  ];  let processedText = '';  for (let i = 0; i < text.length; i++) {    const currentChar = text[i];    const previousChar = text[i - 1] || '';    const punctuationPair = punctuationPairs.find(      (pair) => pair.en === currentChar || pair.zh === currentChar    );    if (punctuationPair) {      const isEnglishPunctuation = /[a-zA-Z0-9]/.test(previousChar);      const shouldAddSpace = /[a-zA-Z0-9]/.test(text[i + 1]) && isEnglishPunctuation;      processedText += isEnglishPunctuation        ? punctuationPair.en        : punctuationPair.zh;      if (shouldAddSpace) {        processedText += ' ';      }    } else {      processedText += currentChar;    }  }  return processedText;};const replaceFullChars = (content) => {  // " 全角英文和标点。";  content = content.replace("Ａ", "A");  content = content.replace("Ｂ", "B");  content = content.replace("Ｃ", "C");  content = content.replace("Ｄ", "D");  content = content.replace("Ｅ", "E");  content = content.replace("Ｆ", "F");  content = content.replace("Ｇ", "G");  content = content.replace("Ｈ", "H");  content = content.replace("Ｉ", "I");  content = content.replace("Ｊ", "J");  content = content.replace("Ｋ", "K");  content = content.replace("Ｌ", "L");  content = content.replace("Ｍ", "M");  content = content.replace("Ｎ", "N");  content = content.replace("Ｏ", "O");  content = content.replace("Ｐ", "P");  content = content.replace("Ｑ", "Q");  content = content.replace("Ｒ", "R");  content = content.replace("Ｓ", "S");  content = content.replace("Ｔ", "T");  content = content.replace("Ｕ", "U");  content = content.replace("Ｖ", "V");  content = content.replace("Ｗ", "W");  content = content.replace("Ｘ", "X");  content = content.replace("Ｙ", "Y");  content = content.replace("Ｚ", "Z");  content = content.replace("ａ", "a");  content = content.replace("ｂ", "b");  content = content.replace("ｃ", "c");  content = content.replace("ｄ", "d");  content = content.replace("ｅ", "e");  content = content.replace("ｆ", "f");  content = content.replace("ｇ", "g");  content = content.replace("ｈ", "h");  content = content.replace("ｉ", "i");  content = content.replace("ｊ", "j");  content = content.replace("ｋ", "k");  content = content.replace("ｌ", "l");  content = content.replace("ｍ", "m");  content = content.replace("ｎ", "n");  content = content.replace("ｏ", "o");  content = content.replace("ｐ", "p");  content = content.replace("ｑ", "q");  content = content.replace("ｒ", "r");  content = content.replace("ｓ", "s");  content = content.replace("ｔ", "t");  content = content.replace("ｕ", "u");  content = content.replace("ｖ", "v");  content = content.replace("ｗ", "w");  content = content.replace("ｘ", "x");  content = content.replace("ｙ", "y");  content = content.replace("ｚ", "z");  content = content.replace("＠", "@");  return content;}</script><p>使用方法：将文字输入到这个 textarea 里面去，点击格式化后，就可以拿到格式化后的文章。</p><p><strong>注意，本工具配合 markdown 使用更佳，目前只支持了中文和英语两种语言。</strong>本工具在2023年只是一个 MVP 版本，后续会根据自己的需求添加其它的功能，尽量让它变的更好用。</p><textarea placeholder="请在此处输入你的文字" id="input" style="width: 100%; height: 400px; background: rgba(255, 255, 255, 0.3); border-radius: 5px; padding: 8px;"></textarea><br><button class="btn-small bg-color waves-effect waves-light" onclick="formatText()">点我格式化</button><br><br><textarea placeholder="这里展示转换后的文字" id="output" style="width: 100%; height: 400px; background: rgba(255, 255, 255, 0.3); border-radius: 5px; padding: 8px;"></textarea><p>做这个工具的初衷是因为自己可能有强迫症吧，每次希望让自己做出来的东西更加的好看。</p><p>我也不知道哪一天开始我变成了这样…</p><p>最后来张二次元？(ᕑᗢᓫ∗)˒</p><div align="center">  <img src="../../../../loading2.svg" data-original="/2023/10/17/format-markdown-app/1.jpeg"></div>]]></content>
      
      
      <categories>
          
          <category> 开箱即用 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 格式化 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>通过一些句子增加雅思听力词汇（3）</title>
      <link href="/2023/10/17/ielts-listening-words-3/"/>
      <url>/2023/10/17/ielts-listening-words-3/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><audio src="audio.mp3" controls loop preload="metadata">  你的浏览器不支持 audio 标签。</audio><p>No.98  What happened 750 million years ago to <strong>upset</strong> that balance?</p><p>7.5亿年前发生了什么事打破了这种平衡？</p><p>No.99  So how does this relate to their behavior?</p><p>这又跟它们的行为有什么关系呢？</p><p>No.100  He didn’t let the <strong>conventional</strong> thinking of his day <strong>restrain</strong> his ideas.</p><p>他没有让当时的传统思想禁锢他的想法。</p><p>No.101  An <strong>organism</strong> is able to physically select where to live and <strong>breed</strong>.</p><p>生物就会在生理意义上选择它们生长繁殖的地方。</p><p>No.102  <strong>Salmon</strong> need cold, clear streams to ensure the survival of their eggs.</p><p>鮭鱼需要寒冷的清澈的溪流来确保其卵的存活。</p><p>No.103  So it’s no surprise that someone attempted to design an objective way to measure distraction.</p><p>所以有人试图设计一种客观的方法来测量注意力分散也是不足为奇的。</p><p>No.104  What I wanna focus on is the way the town was built.</p><p>我想把精力放在城镇是怎么建成的。</p><p>No.105  How do they <strong>coordinate</strong> their movements and know where they’re supposed to be?</p><p>它们是如何协调它们的动作，并且如何知道它们应该飞去哪里？</p><p>No.106  And these flowers bloom at night when <strong>bats</strong> are active.</p><p>这些花是在王蝙蝠活跃的晚上开放。</p><p>No.107  We know <strong>sauropods</strong> couldn’t <strong>chew</strong> food.</p><p>我们知道蜥脚类动物不能咀嚼食物。</p><p>No.108  So we <strong>concluded</strong> that there must have been water on the planet at one time- billions of years ago.</p><p>因此我们得出结论，曾经大概几十亿年前,火星上一定有水的存在王。</p><p>No.109  Well, then you must know that access is <strong>restricted</strong>.</p><p>那么你一定知道使用权是受到限制的。</p><p>No.110  <strong>Fogging</strong> often occurs when a cold surface comes into <strong>contact</strong> with warm <strong>moist</strong> air.</p><p>当一个冷表面接触了湿热空气时，就起雾了。</p><p>No.111  I will <strong>contact</strong> them tomorrow morning to see if you’re in the system.</p><p>我会明早联系他们看你在不在系统里。</p><p>No.112  The shell has to <strong>crack</strong> open to allow the seed to <strong>soak up</strong> water.</p><p>果壳要裂开才能让种子吸收水分。</p><p>No.113  Demand soon far <strong>exceeded</strong> supply and their prices <strong>skyrocketed</strong>.</p><p>需求远超供给,他们的价格飞涨。</p><p>No.114  The music had been <strong>composed</strong> only for the upper classes.</p><p>这种音乐是为上层社会的人而创作的。</p><p>No.115  These <strong>asteroids</strong> are composed mostly of rocky <strong>material</strong> and <strong>metals</strong>.</p><p>这些小行星大部分是由岩石和金属组成的。</p><p>No.116  The number of <strong>sunspots</strong> increased and decreased in a pattern.</p><p>太阳黑子的数量以一个特定的规律升和降。</p><p>No.117  At first film music didn’t necessarily correspond to what was on the screen.</p><p>最开始，电影音乐不一定要和屏幕上的画面相符合。</p><p>No.118  I would probably try to improve the content of the newspaper.</p><p>我可能会尝试改善报纸的内容。</p><p>No.119  When a whale <strong>dives</strong>, its <strong>metabolic</strong> rate drops.</p><p>当鲸鱼潜水时，它的新陈代谢率会下降。</p><p>No.120  <strong>Saturn</strong> has at least 49 known moons which <strong>vary</strong> <strong>tremendously</strong> in size and shape.</p><p>土星至少有 49 颗已知的卫星，它们的大小和形状差异巨大。</p><p>No.121  And I’d love to have a place to practice my <strong>saxophone</strong> without worrying about disturbing people.</p><p>我很想有一个地方练习萨克斯管而不用担心打扰别人。</p><p>No.122  When an <strong>asteroid</strong> <strong>slammed</strong> into Earth, it slammed into Earth’s <strong>crust</strong>.</p><p>当小行星撞击地球时，它也撞击了地壳。</p><p>No.123  I <strong>endured</strong> accounting and economics in high school and barely stayed awake.</p><p>我在高中时就一直忍受着会计和经济学（的折磨），几乎没有保持清醒。</p><p>No.124  Did you register already for your classes next <strong>semester</strong>?</p><p>你已经注册了下一学期的课程了吗？</p><p>No.125  <strong>Glaciers</strong> reflect light and heat.</p><p>冰川反射光和热。</p><p>No.126  The owners of these <strong>grand</strong> buildings wanted to decorate the walls to reflect their own <strong>affluence</strong> and <strong>prestige</strong>.</p><p>这些宏伟建筑的主人想要装饰墙壁以反映他们自己的富裕和声望。</p><p>No.127  No one else can see or hear them to verify the <strong>accuracy</strong> of his report.</p><p>没有其他人可以看到或听到他们来验证他的报告的准确性。</p><p>No.128  The Sun basically provides Earth with virtually unlimited resources of energy every day.</p><p>太阳每天基本上为地球提供几乎无限的能源资源。</p><p>No.129  Now, the <strong>concept</strong>, which originated in Europe was <strong>adopted</strong> by American city planners.</p><p>现在，这个起源于欧洲的概念被美国城市规划者所采用。</p><p>No.130  The oil will float on top of the water because of the oil’s lower <strong>density</strong>.</p><p>由于油的密度较低，因此它会浮在水面上。</p><p>No.131  Instrument <strong>vibrates</strong> and sends those <strong>vibrations</strong> through the air to our <strong>eardrums</strong>.</p><p>乐器振动并将这些振动通过空气发送到我们的耳膜。</p><p>No.132  The brain’s ability to accept or ignore visual information.</p><p>大脑接受或忽略视觉信息的能力。</p><p>No.133  <strong>Bacteria</strong> and <strong>viruses</strong> can infect plants.</p><p>细菌和病毒可以感染植物。</p><p>No.134  And <strong>Subsequent Archaeological digs</strong> have confirmed this estimate.</p><p>随后的考古发掘也证实了这一估计。</p><p>No.135  <strong>Immense</strong> buildings were being <strong>erected</strong> as symbols of wealth and rights.</p><p>巨大的建筑物被拔地而起，作为财富和权利的象征。</p><p>No.136  When a bat approaches, the <strong>moth</strong> can detect the bat’s <strong>presence</strong>.</p><p>当蝙蝠靠近时，飞蛾可以检测到蝙蝠的存在。</p><p>No.137  So you’ve got two different approaches to expanding a business.</p><p>因此，您有两种不同的方法来扩展业务。</p><p>No.138  Are you charging <strong>admission</strong>?</p><p>你们收入场费吗？</p><p>No.139  Experiment <strong>disputes</strong> that theory.</p><p>实验反驳了那个理论。</p><p>No.140  This particular exhibit <strong>departs</strong> from the standard ways.</p><p>这个展览背离了标准方式。</p><p>No.141  The size car he <strong>reserved</strong> isn’t available.</p><p>他预定的车型没有了。</p><p>No.142  They calculated the average density and found no difference.</p><p>他们计算了平均密度发现没区别。</p><p>No.143  The coach should insist that players be on time and insist that they practice hard, and give their best efforts.</p><p>教练必须坚持要求运动员按时到，刻苦练习，并尽最大努力。</p><p>No.144  How can a society <strong>flourish</strong> if the workers and <strong>soldiers</strong> don’t control their desires and emotions?</p><p>如果工人和军人不控制自己的欲望和情感，社会如何繁荣发展？</p>]]></content>
      
      
      <categories>
          
          <category> 英语学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> English </tag>
            
            <tag> 单词 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>通过一些句子增加雅思听力词汇（2）</title>
      <link href="/2023/10/14/ielts-listening-words-2/"/>
      <url>/2023/10/14/ielts-listening-words-2/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><audio src="audio.mp3" controls loop preload="metadata">  你的浏览器不支持 audio 标签。</audio><p>No.51 One team of scientists flooded an area of the desert with water.</p><p>一组科学家用水淹没了沙漠的一个地区。</p><p>No.52 How do we create fictional characters?</p><p>我们如何创造虚构人物？</p><p>No.53 The <strong>Polynesians</strong> could estimate their <strong>latitude</strong> just by looking straight up.</p><p>波利尼西亚人只需抬头看就能估算出他们的纬度。</p><p>No.54 At the same time, these clouds <strong>trap</strong> in some of Earth’s heat.</p><p>与此同时，这些云会吸收地球的一些热量。</p><p>No.55 Opera originated in Italy but was not <strong>confined</strong> to Italy any more than the Italians were.</p><p>歌剧起源于意大利，但并不局限于意大利，就像意大利人一样。</p><p>No.56 <strong>Vegetation</strong> and wildlife disappeared.</p><p>植被和野生动物消失了。</p><p>No.57 The soil <strong>loses</strong> its ability to <strong>retain</strong> water when it does rain.</p><p>下雨时土壤会失去保水能力。</p><p>No.58 The sound was <strong>projected</strong> toward the ceiling.</p><p>声音传向天花板。</p><p>No.59 But it’s <strong>ultimately</strong> up to each child to select tasks.</p><p>但最终由每个孩子来选择任务。</p><p>No.60 The program has been designed to progress through certain stages.</p><p>该计划旨在完成某些特定的阶段。</p><p>No.61 The people who built them simply couldn’t afford lots of expensive <strong>decorative</strong> details.</p><p>这是一些经济拮据的人造的房屋，他们没有足够的钱去装饰细节部分。</p><p>No.62 You have lots of artists who support and who have benefited from this agency.</p><p>你们有很多艺术家支持这些机构并从中获益。</p><p>No.63 Therefore, if we limit import, we put ourselves in danger of not being able to export.</p><p>因此如果我们限制进口，我们将面临不能出口的危险。</p><p>No.64 One particular <strong>tulip bulb</strong> was sold and exchanged for a small ship.</p><p>某种特殊球径甚至与小型轮船等值。</p><p>No.65 Our researcher and his colleagues <strong>devised</strong> a new study.</p><p>我们的研究员和他的同事设计了一个新的研究。</p><p>No.66 They combine their knowledge of rocks with knowledge of wind, ice….</p><p>他们把他们关于岩石的知识跟风，冰的知识相结合。</p><p>No.67 You group and twist them into bigger <strong>bundle</strong>.</p><p>你揉搓并把他们编织成了更大的绳子。</p><p>No.68 <strong>Rallies</strong> all over the United States were organized to protest environmental <strong>degradation</strong>.</p><p>美国各地的集会都组织起来去抗议环境恶化。</p><p>No.69 This model can predict temperature.</p><p>该模型可以预测温度。</p><p>No.70 These courses will give you a good overview of the field before commit yourself.</p><p>这些课程将让您在投入之前对该领域有一个很好的概述。</p><p>No.71 I think they’re more like, you know, almost <strong>cooperating</strong> so they don’t have to compete.</p><p>我认为他们更像是，你知道，几乎是合作，所以他们不必竞争。</p><p>No.72 But is it possible that we could be <strong>imposing</strong> our own values on that <strong>analytics</strong>.</p><p>但我们是否有可能将自己的价值观强加于分析之上。</p><p>No.73 So they do that to keep other <strong>frogs</strong> from invading their territory.</p><p>所以他们这样做是为了防止其他青蛙入侵他们的领地。</p><p>No.74 And these clear glass reading stones <strong>evolved</strong> into the eyeglasses we know today.</p><p>这些透明玻璃阅读石演变成我们今天所知道的眼镜。</p><p>No.75 And how they different in <strong>composition</strong>.</p><p>以及它们的成分有何不同。</p><p>No.76 In Color Lesson, Goethe <strong>coincidentally</strong> <strong>cites</strong> the same colors as primary colors.</p><p>在《色彩课》中，歌德巧合地引用了与原色相同的颜色。</p><p>No.77 I guess I’ll grab some ink <strong>cartridges</strong> and go over to the student center and check.</p><p>我想我会拿一些墨盒去学生中心检查一下。</p><p>No.78 Everyone has been <strong>deceived</strong> by their senses.</p><p>每个人都被自己的感觉欺骗了。</p><p>No.79 <strong>Bronze</strong> was used to make money back then or <strong>mold</strong> the bronze into anything else of value for that matter.</p><p>铜被用来铸币或者做成其他有价值的东西。</p><p>No.80 In one site, <strong>archaeologists</strong> <strong>uncovered</strong> a set of tools that were nearly 9000 years old.</p><p>一个遗迹,考古学家发现了一套距今近900年的工具。</p><p>No.81 When we’re <strong>confronted</strong> with a piece of art, there are several things well have to keep in mind, for example, its beauty…</p><p>当我们面对一件艺术品时，有一些事情我们要牢记于心。</p><p>No.82 These were eventually published as fairy tales, but not before <strong>undergoing</strong> a process of evolution.</p><p>这些记录最后都被当作童话故事出版，如果没有一个演变的过程是不会（出版）的。</p><p>No.83 It <strong>dictated</strong> that French plays should be <strong>neoclassical</strong> in form.</p><p>它决定了法国戏剧的形式应该是新古典主义。</p><p>No.84 <strong>Audubon</strong> also studied birds in ways that didn’t directly inform his art.</p><p>奥托邦研究鸟类的方式并没有直接影响到他的艺术。</p><p>No.85 I read the <strong>assigned</strong> chapters and I try to <strong>underline</strong> everything.</p><p>我读了分配的章节，并且试着强调所有的内容。</p><p>No.86 But wait till I talk to Max before <strong>proceeding</strong>?</p><p>但是要等我和麦克斯谈完之后再继续？</p><p>No.87 Researchers can <strong>drill</strong> core samples.</p><p>研究员们可以钻洞获取树干中心的的样品。</p><p>No.88 Is shouldn’t have to rely on other people for it.</p><p>我们不需要借助他人的力量就可以获得它。</p><p>No.89 They accumulate essentially no body fat.</p><p>它们身体中几乎没有脂肪。</p><p>No.90 Panic spread like wild fire and the <strong>tulip</strong> market collapsed totally.</p><p>恐慌情绪如同野火般肆意蔓延，郁金香市场彻底崩溃了。</p><p>No.91 <strong>Ideomotor</strong> action is an activity that occurs without our noticing it, without our being aware of it.</p><p>观念活动是一种我们意识不到的活动，我们察觉不到它的存在。</p><p>No.92 Which media you should <strong>advertise through</strong>?</p><p>我应该通过哪种媒体来做广告?</p><p>No.93 Ways in which animals adapt to their environment are often quite <strong>ingenious</strong> actually.</p><p>动物们适应环境的方法往往是十分巧妙的。</p><p>No.94 The bird spreads and drags its wing or its tail.</p><p>鸟儿会伸展他的翅膀并且拖拽着前行。</p><p>No.95 You don’t qualify for a <strong>refund</strong>.</p><p>你不符合全额退款的要求。</p><p>No.96 I tried <strong>adjusting</strong> the, uh, the heat control, but it doesn’t make any difference.</p><p>我尝试调节热量控制，但是并没有任何改变。</p><p>No.97 It said that they also <strong>slapped</strong> their <strong>tails</strong> against the water.</p><p>书中说它们还用尾巴拍打水发出声音。</p>]]></content>
      
      
      <categories>
          
          <category> 英语学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> English </tag>
            
            <tag> 单词 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>通过一些句子增加雅思听力词汇（1）</title>
      <link href="/2023/10/10/ielts-listening-words/"/>
      <url>/2023/10/10/ielts-listening-words/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><audio src="audio.mp3" controls loop preload="metadata">  你的浏览器不支持 audio 标签。</audio><p>No.1 What Galileo <strong>proposed</strong> was that <strong>sunspots</strong> were indeed a feature of the sun.</p><p>伽利略提出的理论是太阳黑子归根结底是太阳自身的特征。</p><p>No.2 But if you wish to <strong>pursue</strong> it further, I suggest that you talk to my boss.</p><p>但是如果你想要在此之外提出其他的要求的话,我建议你跟我的老板聊聊啊。</p><p>No.3 And their <strong>mating</strong> method is just so <strong>impersonal</strong>.</p><p>他们的交配方式比较不专一。</p><p>No.4 And it’s truly amazing how well it can <strong>blend</strong> itself in with its surroundings.</p><p>它这种熟练地与四周混同的隐蔽能力的确令人惊叹。</p><p>No.5 Or were scientists misunderstanding the significance of the evidence.</p><p>还是说科学家误解了证据的意义。</p><p>No.6 In order to have meat for the winter, people would <strong>preserve</strong> it in salt. not a <strong>spice</strong>.</p><p>为了能在冬季吃上肉，人们会把肉制品先用盐腌制，而不是香料。</p><p>No.7 I thought our textbook said the <strong>Egyptians</strong> imported their glass from other countries.</p><p>我想我们教科书上说的是埃及人从其他的国家进口它们的玻璃。</p><p>No.8 And wherever these particles settled. they formed a pan, a layer that water couldn’t <strong>penetrate</strong>.</p><p>不管什么时候这些颗粒停留下来了，他们便会形成一快面板，这是一层水分无法渗透的面板。</p><p>No.9 You insert it into the machine and you are ready to make copies.</p><p>你需要把卡放进机器里，然后读卡复印。</p><p>No.10 It <strong>accused</strong> her of not respecting the past.</p><p>社会谴责她说她不尊重过去。</p><p>No.11 <strong>Exposition</strong> is whatever background information you have to <strong>reveal</strong> to the audience.</p><p>叙述是为了说明一切观众需要知道的背景知识。</p><p>No.12 Without it stopping to feed and spread <strong>pollen</strong> from flower to flower, these plants would <strong>cease</strong> to exist.</p><p>如果它不停止喂养花粉并将花粉从一朵花传播到另一朵花，这些植物将不复存在。</p><p>No.13 And that <strong>brittle</strong> surface ice moving is sometimes considered a type of glacier movement depending on which source you are consulting.</p><p>脆性表面冰的移动有时被认为是冰川移动的一种，具体取决于您所咨询的来源。</p><p>No.14 And more recently, <strong>botanists</strong> have used modern DNA testing to scan plant samples.</p><p>最近，植物学家使用现代 DNA 测试来扫描植物样本。</p><p>No.15 In Weatley’s show, the musical sections, well, they didn’t necessarily <strong>integrate</strong> within the story.</p><p>在韦特利的节目中，音乐部分不一定与故事融为一体。</p><p>No.16 But as mass production machines were <strong>refined</strong> in the 19th century, the price of pianos dropped to the point that a larger <strong>proportion</strong> of the population could afford to own them.</p><p>但随着 19 世纪大规模生产机器的改进，钢琴的价格下降到更多人有能力拥有它们。</p><p>No.17 During previous <strong>interglacial</strong> periods, when glaciers were <strong>retreated</strong>, they left behind open landing in their wakes.</p><p>在以前的间冰期，当冰川消退时，它们留下了开放的着陆点。</p><p>No.18 You see writers try to capture a movements in time.</p><p>你会看到作家们试图及时捕捉一个动作。</p><p>No.19 And how did they <strong>conduct</strong> their research?</p><p>他们是怎样进行研究的？</p><p>No.20 How does the <strong>vibration</strong> wave <strong>transmitted</strong> into the water?</p><p>振动波到底是怎样在水中进行传播的？</p><p>No.21 And eventually you <strong>slip</strong> back into an Ice Age.</p><p>最终你回到了冰冻状态。</p><p>No.22 But APS <strong>digestion</strong> is designed specifically to handle solid waste.</p><p>但是 APS 消化系统就是被用于设计处理固体垃圾。</p><p>No.23 The <strong>octopus</strong> can release a cloud of ink if it feels <strong>threatened</strong>.</p><p>墨鱼在感觉收到威胁的时候会释放云朵状的墨水。</p><p>No.24 We encourage anyone who’s interested to check it out.</p><p>我们鼓励任何（对她）)感兴趣的人去查看。</p><p>No.25 This time, she used brain scanning equipment to monitor activity in certain parts of the brain.</p><p>这一次，她使用大脑扫描仪去监控大脑特定区域内的活动。</p><p>No.26 Wouldn’t you <strong>appreciate</strong> positive feedback if you were a professor?</p><p>如果是你教授，你难道不会喜欢这样积极的反馈吗？</p><p>No.27 These two countries were trying to extend their <strong>territorial</strong> waters.</p><p>这两个国家正在努力去扩展他们的领海。</p><p>No.28 You need to create and <strong>efficiently</strong> enforce a formal legal code.</p><p>你需要创建并正式实施一项正式的法典。</p><p>No.29 They have to assess your level and <strong>steer</strong> you into the right class, you know. <strong>intermediate</strong>…</p><p>我们需要评估你的水平，并且把你安排到对应的班级去。</p><p>No.30 It attacks a plant or a bush.</p><p>它会共计某一植物或者灌木丛。</p><p>No.31 She can pretend when driving her toy car.</p><p>她可能假装开着她的玩具车。</p><p>No.32 So let’s <strong>concentrate</strong> on one sight.</p><p>所以让我们把精力集中在一处遗迹上。</p><p>No.33 Most <strong>portraits</strong> convey the artist’s personal vision.</p><p>大部分肖像艺术家表达的是他们自己的看法。</p><p>No.34 What if the person <strong>renews</strong> it?</p><p>但要是那个人又续借了呢？</p><p>No.35 I want to major in <strong>international studies</strong>.</p><p>但是我想学习国际关系研究专业。</p><p>No.36 I was wondering how you choose the works you exhibit every month?</p><p>我想知道你是如何选择你每个月的展览产品的？</p><p>No.37 The trend <strong>reversed</strong> itself when the price of the oil and gas declined.</p><p>这股潮流被逆转了，（因为）石油和天然气的价格回落了。</p><p>No.38 But how does it apply to animals?</p><p>但是这个（理论）是如何应用到动物身上去的呢？</p><p>No.39 The current loss of <strong>biodiversity</strong> can be <strong>traced</strong> to human activity.</p><p>当前生物多样性的丧失可以追溯到人类活动。</p><p>No.40 So, the ice would expand or <strong>constrict</strong>.</p><p>因此，冰会膨胀或收缩。</p><p>No.41 <strong>Snowshoe hares</strong> can stay <strong>lean</strong> and lightweight.</p><p>雪鞋野兔可以保持苗条和轻盈。</p><p>No.42 <strong>Exotic</strong> plant species not native to the area can move in and compete.</p><p>非该地区本土的外来植物物种可以迁入并参与（物种）竞争。</p><p>No.43 She retired a few months ago.</p><p>她在几个月前退休了。</p><p>No.44 The taste of the <strong>birch tree</strong> doesn’t get transferred to the food.</p><p>白桦树的味道不会转移到食物中。</p><p>No.45 In particular, the type of <strong>perspective</strong> that Alberti <strong>advocated</strong> was called “Linear One-point Perspective”.</p><p>特别是阿尔贝蒂所提倡的这种透视类型被称为“线性单点透视”。</p><p>No.46 So eventually, people tried to improve on Les Paul’s model, well, to modify it. I should say.</p><p>『所以最终，人们试图改进莱斯·保罗的模型，嗯，修改它。』我应该说。</p><p>No.47 Each storyteller would specify a particular location and time.</p><p>每个故事讲述者都会指定特定的地点和时间。</p><p>No.48 True happiness should be something that I can obtain on my own.</p><p>真正的幸福应该是我自己能够获得的。</p><p>No.49 They may assume the characters come from the author’s imagination.</p><p>他们可能认为这些人物来自作者的想象。</p><p>No.50 It’s hard to predict if a good service recovery will overcome the negative effect of service failure.</p><p>很难预测良好的服务恢复是否能够克服服务故障的负面影响。</p>]]></content>
      
      
      <categories>
          
          <category> 英语学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> English </tag>
            
            <tag> 单词 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>冒险王精灵物语——我在博客打游戏</title>
      <link href="/2023/10/09/adventurer-elf-story/"/>
      <url>/2023/10/09/adventurer-elf-story/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>冒险王之精灵物语，哈斯一族，世上最具勇气和力量的一群人。在他们当中，曾经出现了一名人们口口相传的传奇英雄。他，踏遍了这个世界上所有危险之地；解开了所有神秘领域的不解之谜。他所经历的地方，无不留下关于他神话一样的传说。</p><p>他的名字，人们早已忘却，只有不约而同的认定一个称呼是对他最好的诠释——冒险王！</p><div style="position: relative; width: 100%; height: 0; padding-bottom: 75%;">  <iframe src="https://ruffle-swf-player.vercel.app/swf-games/adventurer-elf-story/" frameborder="0" scrolling="no" style="position: absolute; width: 100%; height: 100%; left: 0; top: 0;"></iframe></div><p>本游戏并非本人制作，源文件为网络资料，如有侵权，请联系我，我会在收到侵权告知后24小时内删除。</p>]]></content>
      
      
      <categories>
          
          <category> 小游戏 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 游戏 </tag>
            
            <tag> Ruffle </tag>
            
            <tag> Flash </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>英语听力磨耳朵之一串数字号码</title>
      <link href="/2023/10/06/english-number-listening/"/>
      <url>/2023/10/06/english-number-listening/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="听力音频"><a href="#听力音频" class="headerlink" title="听力音频"></a>听力音频</h2><audio src="audio.mp3" controls loop preload="metadata">  你的浏览器不支持 audio 标签。</audio><h2 id="Level-1"><a href="#Level-1" class="headerlink" title="Level 1"></a>Level 1</h2><p>88452964</p><p>52578638</p><p>68256895</p><p>67849265</p><p>15672853</p><p>93727956</p><p>46249717</p><p>68278075</p><p>9672356730</p><p>2564759102</p><p>6829374857</p><p>4762895634</p><p>5782947819</p><h2 id="Level-2"><a href="#Level-2" class="headerlink" title="Level 2"></a>Level 2</h2><p>3797 89657284</p><p>7569 20397619</p><p>5736 97658296</p><p>4720 75439765</p><p>7639 76854157</p><p>8760 29765397</p><p>118 337 78549286</p><p>879 865 97281674</p><p>407 285 30972943</p><p>896 043 86549760</p><p>974 039 76763985</p><h2 id="Level-3"><a href="#Level-3" class="headerlink" title="Level 3"></a>Level 3</h2><p>1104 9879 1043 87692219 702</p><p>7856 7523 7846 29763480 523</p><p>7856 2785 6857 37585367 297</p><p>8453 2658 3865 10087628 465</p><p>5748 6287 7845 39867276 675</p>]]></content>
      
      
      <categories>
          
          <category> 英语学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> English </tag>
            
            <tag> 单词 </tag>
            
            <tag> 听力 </tag>
            
            <tag> 数字 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Bomb it!（Q版泡泡堂）——我在博客打游戏</title>
      <link href="/2023/10/05/bombit4/"/>
      <url>/2023/10/05/bombit4/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>Q版泡泡堂第四季重磅出击！！道具升级，武器升级，新增拳击手套，弹跳器，魔力毯……有竞技，收集，对战，涂色四种游戏模式，支持双人PK！游戏画面风格简单，色彩鲜亮，音乐欢畅，可玩性极强，绝对不能错过！</p><div style="position: relative; width: 100%; height: 0; padding-bottom: 75%; margin: 20px 0">  <iframe src="https://ruffle-swf-player.vercel.app/swf-games/bombit4/" frameborder="0" scrolling="no" style="position: absolute; width: 100%; height: 100%; left: 0; top: 0;"></iframe></div><p>本游戏并非本人制作，源文件为网络资料，如有侵权，请联系我，我会在收到侵权告知后24小时内删除。</p>]]></content>
      
      
      <categories>
          
          <category> 小游戏 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 游戏 </tag>
            
            <tag> Ruffle </tag>
            
            <tag> Flash </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Commando2（二战前线）——我在博客打游戏</title>
      <link href="/2023/10/05/commando2/"/>
      <url>/2023/10/05/commando2/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>在欧洲成功地保护了盟军后，英雄们将到亚洲去继续战斗！更多的使命、更多的敌人、更大的冒险、更猛烈的炮火。有男女两名角色可以选择，一开始可以选择携带的武器，现在快来挑战一下吧。</p><div style="position: relative; width: 100%; height: 0; padding-bottom: 75%; margin: 20px 0">  <iframe src="https://ruffle-swf-player.vercel.app/swf-games/commando2/" frameborder="0" scrolling="no" style="position: absolute; width: 100%; height: 100%; left: 0; top: 0;"></iframe></div><p>本游戏并非本人制作，源文件为网络资料，如有侵权，请联系我，我会在收到侵权告知后24小时内删除。</p>]]></content>
      
      
      <categories>
          
          <category> 小游戏 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 游戏 </tag>
            
            <tag> Ruffle </tag>
            
            <tag> Flash </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Deep Sea Patrol（深海战艇）——我在博客打游戏</title>
      <link href="/2023/10/03/deepsea-patrol/"/>
      <url>/2023/10/03/deepsea-patrol/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>深海潜艇巡逻，驾驶潜水艇远航执行巡逻任务，消灭水上和水下的敌人。<br>请注意，此游戏加载的时候会导致网页卡死，请耐心等待。本人会在引擎更新的时候对博客更新。</p><div style="position: relative; width: 100%; height: 0; padding-bottom: 75%; margin: 20px 0">  <iframe src="https://ruffle-swf-player.vercel.app/swf-games/deepsea-patrol/" frameborder="0" scrolling="no" style="position: absolute; width: 100%; height: 100%; left: 0; top: 0;"></iframe></div><p>本游戏并非本人制作，源文件为网络资料，如有侵权，请联系我，我会在收到侵权告知后24小时内删除。</p>]]></content>
      
      
      <categories>
          
          <category> 小游戏 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 游戏 </tag>
            
            <tag> Ruffle </tag>
            
            <tag> Flash </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>新新魔塔2——我在博客打游戏</title>
      <link href="/2023/10/01/mting/"/>
      <url>/2023/10/01/mting/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="游戏游玩"><a href="#游戏游玩" class="headerlink" title="游戏游玩"></a>游戏游玩</h2><p>这款游戏会给大家带来了全新的冒险旅途，更具挑战性的关卡，并且还增加了各种新游戏元素，让游戏更加有趣，喜欢魔塔的朋友千万不要错过了，赶紧进入游戏挑战吧！</p><p>【由于本游戏内部的中文显示尚未得到全面支持，所以部分游戏文本在文章后做出说明】</p><p>【请不要点击中间的 Ranking，本网站并未支持，点进去会卡死】</p><div style="position: relative; width: 100%; height: 0; padding-bottom: 81%; margin: 20px 0">  <iframe src="https://ruffle-swf-player.vercel.app/swf-games/mting/" frameborder="0" scrolling="no" style="position: absolute; width: 100%; height: 100%; left: 0; top: 0;"></iframe></div><p>本游戏并非本人制作，源文件为网络资料，如有侵权，请联系我，我会在收到侵权告知后24小时内删除。</p><p>键盘方向键↑↓←→键控制移动，回车键确定，Q键撤退（战斗中使用），D键查看怪物能力，F键楼层传送，T键使用随意门，L键查询游戏中可使用按键（随剧情发展会逐渐增加），A键查看成就，S键音乐开关，W键装备剑技，H键装备防御术，Z键使用剑技，X键使用防御术，C键会心一击，V键深呼吸，R键重玩。</p><h2 id="怪物-·-特殊能力介绍"><a href="#怪物-·-特殊能力介绍" class="headerlink" title="怪物 · 特殊能力介绍"></a>怪物 · 特殊能力介绍</h2><table class="tableBox_jZZLx"><tbody class="tableBody__FKMq"><tr><th width="138" align="center" rowspan="1" colspan="1" class="tableTh_EULqZ"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmx09s" data-idx><span class="text_jryKg" data-text="true">名称</span></div></th><th width="610" align="center" rowspan="1" colspan="1" class="tableTh_EULqZ"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmx0fs" data-idx><span class="text_jryKg" data-text="true">特殊能力详细介绍</span></div></th></tr><tr><td width="138" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmx0j2"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmx0lm" data-idx><span class="text_jryKg" data-text="true">魔术师</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmx0ow"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmx0rd" data-idx><span class="text_jryKg" data-text="true">攻击无视主角防御力</span></div></td></tr><tr><td width="138" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmx0tg"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmx0vw" data-idx><span class="text_jryKg" data-text="true">恶龙</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmx0z6"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmx11l" data-idx><span class="text_jryKg" data-text="true">没有</span></div></td></tr><tr><td width="138" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmx14u"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmx178" data-idx><span class="text_jryKg" data-text="true">毒龙</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmx1ah"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmx1d2" data-idx><span class="text_jryKg" data-text="true">被击中后有一定几率中毒</span></div><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="tb506P8imrhw" data-idx><span class="text_jryKg" data-text="true">（中毒几率20%）</span></div></td></tr><tr><td width="138" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmx1ga"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmx1ip" data-idx><span class="text_jryKg" data-text="true">魔界八爪鱼</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmx1l1"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmx1ng" data-idx><span class="text_jryKg" data-text="true">没有</span></div></td></tr><tr><td width="138" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmx1qq"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmx1t8" data-idx><span class="text_jryKg" data-text="true">雷术士</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmx1wh"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmx1yz" data-idx><span class="text_jryKg" data-text="true">攻击无视主角防御力</span></div></td></tr><tr><td width="138" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmx22a"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmx24s" data-idx><span class="text_jryKg" data-text="true">炎术师</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmx282"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmx2ah" data-idx><span class="text_jryKg" data-text="true">攻击无视主角防御力</span></div></td></tr><tr><td width="138" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmx2cx"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmx2fc" data-idx><span class="text_jryKg" data-text="true">大法师</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmx2ik"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmx2l0" data-idx><span class="text_jryKg" data-text="true">攻击无视主角防御力</span></div></td></tr><tr><td width="138" align="center" rowspan="2" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmx2oc"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmx2qq" data-idx><span class="text_jryKg" data-text="true">火炎大法师</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmx2u0"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmx2wl" data-idx><span class="text_jryKg" data-text="true">死后会使地上留下熔岩</span></div></td></tr><tr><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiy1dv53"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiy1dv7l" data-idx><span class="text_jryKg" data-text="true">攻击无视主角防御力</span></div></td></tr><tr><td width="138" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmx3c6"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmx3em" data-idx><span class="text_jryKg" data-text="true">双手剑士</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmx3hw"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmx3kb" data-idx><span class="text_jryKg" data-text="true">一回合进行两次攻击</span></div></td></tr><tr><td width="138" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmx3mn"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmx3p1" data-idx><span class="text_jryKg" data-text="true">剑王</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmx3s8"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmx3us" data-idx><span class="text_jryKg" data-text="true">一回合进行四次攻击</span></div></td></tr><tr><td width="138" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmx3y1"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmx40f" data-idx><span class="text_jryKg" data-text="true">守卫</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmx43n"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmx460" data-idx><span class="text_jryKg" data-text="true">没有</span></div></td></tr><tr><td width="138" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmx49b"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmx4bq" data-idx><span class="text_jryKg" data-text="true">中级守卫</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmx4ef"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmx4gs" data-idx><span class="text_jryKg" data-text="true">没有</span></div></td></tr><tr><td width="138" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmx4k2"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmx4mk" data-idx><span class="text_jryKg" data-text="true">高级守卫</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmx4pt"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmx4s7" data-idx><span class="text_jryKg" data-text="true">没有</span></div></td></tr><tr><td width="138" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmx4vg"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmx4xu" data-idx><span class="text_jryKg" data-text="true">史莱姆人</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmx513"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmx543" data-idx><span class="text_jryKg" data-text="true">主角被击中后，疲劳度会上升</span></div><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmx55o" data-idx><span class="text_jryKg" data-text="true">（每次攻击疲劳+1）</span></div></td></tr><tr><td width="138" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmx57u"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmx5a8" data-idx><span class="text_jryKg" data-text="true">水银人</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmx5di"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmx5gk" data-idx><span class="text_jryKg" data-text="true">被击中后会感到很疲倦</span></div><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmx5i5" data-idx><span class="text_jryKg" data-text="true">（每次攻击疲劳+3）</span></div></td></tr><tr><td width="138" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmx5lg"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmx5nu" data-idx><span class="text_jryKg" data-text="true">丧尸</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmx5r4"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmx5th" data-idx><span class="text_jryKg" data-text="true">没有</span></div></td></tr><tr><td width="138" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmx5wr"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmx5xz" data-idx><span class="text_jryKg" data-text="true">丧尸剑士</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmx618"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmx63l" data-idx><span class="text_jryKg" data-text="true">没有</span></div></td></tr><tr><td width="138" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwix6mc7f"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwix6mca0" data-idx><span class="text_jryKg" data-text="true">毒丧尸</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwix6mcbs"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwix6mce9" data-idx><span class="text_jryKg" data-text="true">被击中后有一定几率中毒</span></div><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="tb507u3TAh6K" data-idx><span class="text_jryKg" data-text="true">（中毒几率12%）</span></div></td></tr><tr><td width="138" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmx668"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmx68m" data-idx><span class="text_jryKg" data-text="true">石头怪</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmx6bv"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmx6e8" data-idx><span class="text_jryKg" data-text="true">没有</span></div></td></tr><tr><td width="138" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmx6hh"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmx6ju" data-idx><span class="text_jryKg" data-text="true">铁怪</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmx6n4"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmx6pp" data-idx><span class="text_jryKg" data-text="true">如主角攻击力比它基本防御力高时，它的防御力会变成主角的攻击力</span></div></td></tr><tr><td width="138" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmx6sx"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmx6va" data-idx><span class="text_jryKg" data-text="true">不死骷髅兵</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmx6xz"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmx70f" data-idx><span class="text_jryKg" data-text="true">给予主角的伤害会部分回复至自身的体力</span></div><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="tb50wzkSP2mO" data-idx><span class="text_jryKg" data-text="true">（每次回复体力值为攻击伤害/3）</span></div></td></tr><tr><td width="138" align="center" rowspan="2" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmx73n"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmx760" data-idx><span class="text_jryKg" data-text="true">不死战士</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmx797"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmx7bo" data-idx><span class="text_jryKg" data-text="true">死后由四周的邪恶能量而重生，并获得新特殊能力</span></div></td></tr><tr><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiy1dvm6"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiy1dvon" data-idx><span class="text_jryKg" data-text="true">被击中后有一定几率变成衰弱状态</span></div><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="tb5082V52f8W" data-idx><span class="text_jryKg" data-text="true">（衰弱几率20%，每次攻击-9，防御-9）</span></div></td></tr><tr><td width="138" align="center" rowspan="2" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmx7ps"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmx7s7" data-idx><span class="text_jryKg" data-text="true">死灵战士</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmx7vh"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmx7xy" data-idx><span class="text_jryKg" data-text="true">死后由四周的邪恶能量而重生，并获得新特殊能力</span></div></td></tr><tr><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmx87a"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmx89b" data-idx><span class="text_jryKg" data-text="true">会心一击的伤害是基本伤害的2.5倍</span></div></td></tr><tr><td width="138" align="center" rowspan="2" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmx8cl"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmx8f0" data-idx><span class="text_jryKg" data-text="true">暗黑魔法师</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmx8hj"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmx8k2" data-idx><span class="text_jryKg" data-text="true">攻击无视主角防御力，且主角的防御力比它的攻击低时，攻击会三倍化</span></div></td></tr><tr><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiy1dvgd"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiy1dvis" data-idx><span class="text_jryKg" data-text="true">即使被攻击也不会增加气息</span></div></td></tr><tr><td width="138" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmx8z5"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmx913" data-idx><span class="text_jryKg" data-text="true">骷髅</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmx94d"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmx96q" data-idx><span class="text_jryKg" data-text="true">没有</span></div></td></tr><tr><td width="138" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmx99a"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmx9bo" data-idx><span class="text_jryKg" data-text="true">骷髅剑士</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmx9ey"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmx9hb" data-idx><span class="text_jryKg" data-text="true">没有</span></div></td></tr><tr><td width="138" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmx9kk"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmx9my" data-idx><span class="text_jryKg" data-text="true">骷髅队长</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmx9q8"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmx9sk" data-idx><span class="text_jryKg" data-text="true">没有</span></div></td></tr><tr><td width="138" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwix6mcoz"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwix6mcrc" data-idx><span class="text_jryKg" data-text="true">骷髅头目</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwix6mct3"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwix6mcvj" data-idx><span class="text_jryKg" data-text="true">被击中后有一定几率变成衰弱状态</span></div><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="tb508HfBM8ZK" data-idx><span class="text_jryKg" data-text="true">（衰弱几率10%，每次攻击-5，防御-5）</span></div></td></tr><tr><td width="138" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmx9ui"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmx9ww" data-idx><span class="text_jryKg" data-text="true">骑士</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxa05"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxa2r" data-idx><span class="text_jryKg" data-text="true">会心一击的伤害是基本伤害的2.5倍</span></div></td></tr><tr><td width="138" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxa5z"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxa8d" data-idx><span class="text_jryKg" data-text="true">铁骑士</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxabl"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxae0" data-idx><span class="text_jryKg" data-text="true">会心一击的伤害是基本伤害的2.5倍</span></div></td></tr><tr><td width="138" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxaha"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxajn" data-idx><span class="text_jryKg" data-text="true">近卫骑士</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxam9"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxaoo" data-idx><span class="text_jryKg" data-text="true">会心一击的伤害是基本伤害的2.5倍</span></div></td></tr><tr><td width="138" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxarx"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxauh" data-idx><span class="text_jryKg" data-text="true">史莱姆</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxaxq"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxb04" data-idx><span class="text_jryKg" data-text="true">没有</span></div></td></tr><tr><td width="138" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxb3c"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxb5r" data-idx><span class="text_jryKg" data-text="true">红色史莱姆</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxb8z"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxbbc" data-idx><span class="text_jryKg" data-text="true">没有</span></div></td></tr><tr><td width="138" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxbe0"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxbge" data-idx><span class="text_jryKg" data-text="true">黑色史莱姆</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxbjm"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxbm2" data-idx><span class="text_jryKg" data-text="true">没有</span></div></td></tr><tr><td width="138" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxbpb"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxbro" data-idx><span class="text_jryKg" data-text="true">史莱姆王</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxbux"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxbxa" data-idx><span class="text_jryKg" data-text="true">没有</span></div></td></tr><tr><td width="138" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxc0k"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxc2x" data-idx><span class="text_jryKg" data-text="true">白银史莱姆</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxc5t"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxc88" data-idx><span class="text_jryKg" data-text="true">进入特殊战斗方式</span></div></td></tr><tr><td width="138" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxcbi"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxce1" data-idx><span class="text_jryKg" data-text="true">黄金史莱姆</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxchc"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxcjq" data-idx><span class="text_jryKg" data-text="true">进入特殊战斗方式</span></div></td></tr><tr><td width="138" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxcmy"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxcpc" data-idx><span class="text_jryKg" data-text="true">魔法师首领</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxcsn"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxcv8" data-idx><span class="text_jryKg" data-text="true">全体魔法攻击，有几率使主角中毒</span></div><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="tb51cS5AOwYd" data-idx><span class="text_jryKg" data-text="true">（中毒几率7%）</span></div></td></tr><tr><td width="138" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxcxn"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxd03" data-idx><span class="text_jryKg" data-text="true">魔法师元帅</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxd3d"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxd6z" data-idx><span class="text_jryKg" data-text="true">全体魔法攻击，攻击会恢复自身的疲倦</span></div><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="tb51p7Dr38Zl" data-idx><span class="text_jryKg" data-text="true">（每次攻击自身疲劳-1）</span></div></td></tr><tr><td width="138" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxda8"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxdcp" data-idx><span class="text_jryKg" data-text="true">魔王近卫兵</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxdfx"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxdju" data-idx><span class="text_jryKg" data-text="true">攻击会使主角因感到麻痹而疲劳</span></div><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxdlv" data-idx><span class="text_jryKg" data-text="true">（当做出有效攻击时疲劳+4）</span></div></td></tr><tr><td width="138" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxdpn"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxdtg" data-idx><span class="text_jryKg" data-text="true">魔王</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxdvz"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxdyn" data-idx><span class="text_jryKg" data-text="true">全体魔法攻击</span></div></td></tr><tr><td width="138" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwixqfqlv"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwixqfqn8" data-idx><span class="text_jryKg" data-text="true">魔王·格勒第</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwixqfqoz"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwixqfqrj" data-idx><span class="text_jryKg" data-text="true">没有</span></div></td></tr><tr><td width="138" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxedi"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxeg0" data-idx><span class="text_jryKg" data-text="true">蝙蝠</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxej8"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxeln" data-idx><span class="text_jryKg" data-text="true">没有</span></div></td></tr><tr><td width="138" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxenr"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxeq7" data-idx><span class="text_jryKg" data-text="true">大蝙蝠</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxeti"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxevz" data-idx><span class="text_jryKg" data-text="true">一回合进行两次攻击</span></div></td></tr><tr><td width="138" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxeza"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxf1o" data-idx><span class="text_jryKg" data-text="true">红蝙蝠</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxf4y"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxf7i" data-idx><span class="text_jryKg" data-text="true">一回合进行三次攻击</span></div></td></tr><tr><td width="138" align="center" rowspan="2" colspan="1" class="tableTd_q7dtu" data-uuid="gnwix6mcyx"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwix6md1a" data-idx><span class="text_jryKg" data-text="true">毒蝙蝠</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwix6md30"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwix6md5e" data-idx><span class="text_jryKg" data-text="true">被击中后有一定几率中毒</span></div><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="tb51VjOKxwDx" data-idx><span class="text_jryKg" data-text="true">（中毒几率5%）</span></div></td></tr><tr><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxfh4"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxfjm" data-idx><span class="text_jryKg" data-text="true">一回合进行两次攻击</span></div></td></tr><tr><td width="138" align="center" rowspan="2" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxfmx"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxfpd" data-idx><span class="text_jryKg" data-text="true">极地法师</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxfsm"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxfw2" data-idx><span class="text_jryKg" data-text="true">死后四周的土地会冻成冰块</span></div></td></tr><tr><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="h0iu0zrfr3"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="h0iu0zrfpe" data-idx><span class="text_jryKg" data-text="true">攻击无视主角防御力</span></div></td></tr><tr><td width="138" align="center" rowspan="2" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxgaq"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxgd6" data-idx><span class="text_jryKg" data-text="true">混沌术士</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxggh"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxgiz" data-idx><span class="text_jryKg" data-text="true">给予主角的伤害会部分回复至自身的体力</span></div><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="tb52b5kRT3HF" data-idx><span class="text_jryKg" data-text="true">（每次回复体力值为攻击伤害/2）</span></div></td></tr><tr><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="h0iu0zrfze"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="h0iu0zrfxp" data-idx><span class="text_jryKg" data-text="true">攻击无视主角防御力</span></div></td></tr><tr><td width="138" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxgm9"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxgoo" data-idx><span class="text_jryKg" data-text="true">八爪鱼</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxgqn"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxgt1" data-idx><span class="text_jryKg" data-text="true">没有</span></div></td></tr><tr><td width="138" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwix6mdf4"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwix6mdhh" data-idx><span class="text_jryKg" data-text="true">毒八爪鱼</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwix6mdj7"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwix6mdll" data-idx><span class="text_jryKg" data-text="true">被击中后有一定几率中毒</span></div><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="tb52s4kwQF2s" data-idx><span class="text_jryKg" data-text="true">（中毒几率11%）</span></div></td></tr><tr><td width="138" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwix6mdp0"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwix6mdrc" data-idx><span class="text_jryKg" data-text="true">闪光八爪鱼</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwix6mdt2"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwix6mdvi" data-idx><span class="text_jryKg" data-text="true">被击中后有一定几率变成衰弱状态</span></div><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="tb52unzEOSJK" data-idx><span class="text_jryKg" data-text="true">（衰弱几率10%，每次攻击-10，防御-10）</span></div></td></tr><tr><td width="138" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxgwd"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxgys" data-idx><span class="text_jryKg" data-text="true">弓兵</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxh27"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxh4n" data-idx><span class="text_jryKg" data-text="true">攻击的对象是公主而不是主角</span></div></td></tr><tr><td width="138" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxh7x"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxhac" data-idx><span class="text_jryKg" data-text="true">精锐弓兵</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxhdm"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxhg2" data-idx><span class="text_jryKg" data-text="true">攻击的对象是公主而不是主角</span></div></td></tr><tr><td width="138" align="center" rowspan="2" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxhie"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxhk2" data-idx><span class="text_jryKg" data-text="true">死灵大法师</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxhnt"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxhqv" data-idx><span class="text_jryKg" data-text="true">攻击无视主角防御力，且主角的防御力比它的攻击低时，攻击力会三倍化</span></div></td></tr><tr><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="h0iu0zrgbx"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="h0iu0zrga7" data-idx><span class="text_jryKg" data-text="true">即使被攻击也不会增加气息</span></div></td></tr><tr><td width="138" align="center" rowspan="2" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxhu7"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxhww" data-idx><span class="text_jryKg" data-text="true">死灵术士</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxhzy"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxi2l" data-idx><span class="text_jryKg" data-text="true">攻击无视主角防御力，且主角的防御力比它的攻击低时，攻击力会三倍化</span></div></td></tr><tr><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="h0iu0zrgis"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="h0iu0zrgh2" data-idx><span class="text_jryKg" data-text="true">即使被攻击也不会增加气息</span></div></td></tr><tr><td width="138" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxi5z"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxi8i" data-idx><span class="text_jryKg" data-text="true">四手史莱姆人</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxibt"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxiev" data-idx><span class="text_jryKg" data-text="true">随机攻击次数（1-3），且主角被击中后会增加疲劳</span></div><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxigh" data-idx><span class="text_jryKg" data-text="true">（每次攻击疲劳+1）</span></div></td></tr><tr><td width="138" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxiil"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxil1" data-idx><span class="text_jryKg" data-text="true">史莱姆阿修罗</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxioc"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxirb" data-idx><span class="text_jryKg" data-text="true">随机攻击次数（2-5），且主角被击中后会增加疲劳</span></div><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxirp" data-idx><span class="text_jryKg" data-text="true">（每次攻击疲劳+4）</span></div></td></tr><tr><td width="138" align="center" rowspan="2" colspan="1" class="tableTd_q7dtu" data-uuid="gnwix6meei"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwix6megt" data-idx><span class="text_jryKg" data-text="true">鬼邪石</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwix6meij"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwix6mekx" data-idx><span class="text_jryKg" data-text="true">主角不能使用黄金之羽根</span></div></td></tr><tr><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxj1d"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxj41" data-idx><span class="text_jryKg" data-text="true">如主角攻击力比它基本防御力高时，它的攻击力及防御力会变成主角的攻击力</span></div></td></tr><tr><td width="138" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxj7a"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxj9w" data-idx><span class="text_jryKg" data-text="true">邪眼史莱姆</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxjc1"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxjfb" data-idx><span class="text_jryKg" data-text="true">主角不能使用黄金之羽根</span></div></td></tr><tr><td width="138" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwix6meoc"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwix6meqq" data-idx><span class="text_jryKg" data-text="true">白银史莱姆王</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwix6mesg"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwix6meuv" data-idx><span class="text_jryKg" data-text="true">进入特殊战斗方式</span></div></td></tr><tr><td width="138" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwix6meyi"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwix6mf0v" data-idx><span class="text_jryKg" data-text="true">黄金史莱姆王</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwix6mf2l"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwix6mf4z" data-idx><span class="text_jryKg" data-text="true">进入特殊战斗方式</span></div></td></tr><tr><td width="138" align="center" rowspan="2" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxjil"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxjl5" data-idx><span class="text_jryKg" data-text="true">魔神·些多</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxjod"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxjqt" data-idx><span class="text_jryKg" data-text="true">全体魔法攻击</span></div></td></tr><tr><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxk08"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxk26" data-idx><span class="text_jryKg" data-text="true">战斗中主角不会增加气息</span></div></td></tr><tr><td width="138" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxk5h"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxk7y" data-idx><span class="text_jryKg" data-text="true">剑神·沙士</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxkba"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxke9" data-idx><span class="text_jryKg" data-text="true">会心一击十分厉害</span></div><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxkfv" data-idx><span class="text_jryKg" data-text="true">（会心一击伤害是基本伤害的4倍）</span></div></td></tr><tr><td width="138" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwixqfr6x"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwixqfr9b" data-idx><span class="text_jryKg" data-text="true">斗神·高巴</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwixqfrb2"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwixqfrdn" data-idx><span class="text_jryKg" data-text="true">被它的会心一击击中时，主角的气息会减去一格</span></div></td></tr><tr><td width="138" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxkty"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxkwe" data-idx><span class="text_jryKg" data-text="true">箭神·法比</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxkzn"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxl24" data-idx><span class="text_jryKg" data-text="true">攻击的对象是公主而不是主角</span></div></td></tr><tr><td width="138" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxl4q"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxl75" data-idx><span class="text_jryKg" data-text="true">骷髅兵</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxlaf"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxlcl" data-idx><span class="text_jryKg" data-text="true">没有</span></div></td></tr><tr><td width="138" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxlgj"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxlk4" data-idx><span class="text_jryKg" data-text="true">重生骷髅兵</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxlnh"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxlq9" data-idx><span class="text_jryKg" data-text="true">给予主角的伤害会部分回复至自身的体力</span></div><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="tb52Y0M4Hgpo" data-idx><span class="text_jryKg" data-text="true">（每次回复体力值为攻击伤害/2）</span></div></td></tr><tr><td width="138" align="center" rowspan="2" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxltj"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxlw2" data-idx><span class="text_jryKg" data-text="true">骷髅战士</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxlzb"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxm1w" data-idx><span class="text_jryKg" data-text="true">死后由四周的邪恶能量而重生，并获得新特殊能力</span></div></td></tr><tr><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="h0iu0zrh7z"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="h0iu0zrh66" data-idx><span class="text_jryKg" data-text="true">被击中后有一定几率变成衰弱状态</span></div><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="tb53gkgRuEwY" data-idx><span class="text_jryKg" data-text="true">（衰弱几率14%，每次攻击-3，防御-3）</span></div></td></tr><tr><td width="138" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxmgt"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxmj9" data-idx><span class="text_jryKg" data-text="true">烈焰丧尸</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxmmh"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxmoz" data-idx><span class="text_jryKg" data-text="true">死后四周的地上会被焦成一片熔岩</span></div></td></tr><tr><td width="138" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="tb54gEP7sz4U"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="tb54gEPixT6Q" data-idx><span class="text_jryKg" data-text="true">冻死骨</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="tb54gEPGT7aF"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="tb54gEPJZEfo" data-idx><span class="text_jryKg" data-text="true">死后会形成冰块阻挡道路</span></div></td></tr><tr><td width="138" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxms8"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxmun" data-idx><span class="text_jryKg" data-text="true">黄金龙</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxmxw"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxn0z" data-idx><span class="text_jryKg" data-text="true">它整个身体都是黄金，总之击败它后就是有很多钱啦！！！</span></div><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxn1t" data-idx><span class="text_jryKg" data-text="true">（掉落1600金币外加强剑之首饰）</span></div></td></tr><tr><td width="138" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxn5c"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxn7x" data-idx><span class="text_jryKg" data-text="true">皇室枪兵</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxnbs"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxnfx" data-idx><span class="text_jryKg" data-text="true">攻击会减低主角攻击力</span></div><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxnhk" data-idx><span class="text_jryKg" data-text="true">（60%几率发动，每次攻击-20，防御-5）</span></div></td></tr><tr><td width="138" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxnko"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxnnb" data-idx><span class="text_jryKg" data-text="true">皇室剑士</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxnqm"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxntn" data-idx><span class="text_jryKg" data-text="true">攻击会减低主角防御力</span></div><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxnv9" data-idx><span class="text_jryKg" data-text="true">（40%几率发动，每次防御-12）</span></div></td></tr><tr><td width="138" align="center" rowspan="2" colspan="1" class="tableTd_q7dtu" data-uuid="gnwix6mf8e"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwix6mfap" data-idx><span class="text_jryKg" data-text="true">生气灵</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwix6mfcf"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwix6mfet" data-idx><span class="text_jryKg" data-text="true">攻击会吸走主角的气息</span></div></td></tr><tr><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxo52"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxo7l" data-idx><span class="text_jryKg" data-text="true">攻击无视防御力</span></div></td></tr><tr><td width="138" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxoas"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxod8" data-idx><span class="text_jryKg" data-text="true">冥界矮人战士</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxogi"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxoj0" data-idx><span class="text_jryKg" data-text="true">攻击附带额外固定100伤害</span></div></td></tr><tr><td width="138" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxoma"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxoow" data-idx><span class="text_jryKg" data-text="true">魔眼</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxos4"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxov9" data-idx><span class="text_jryKg" data-text="true">令主角攻击自己</span></div></td></tr><tr><td width="138" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxoyl"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxp13" data-idx><span class="text_jryKg" data-text="true">触手植物</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxp48"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxp6n" data-idx><span class="text_jryKg" data-text="true">一回合六次攻击</span></div></td></tr><tr><td width="138" align="center" rowspan="3" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxp9z"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxpcd" data-idx><span class="text_jryKg" data-text="true">血剑士</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxpfp"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxpia" data-idx><span class="text_jryKg" data-text="true">攻击目标是公主</span></div></td></tr><tr><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwixqfrgp"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwixqfrj5" data-idx><span class="text_jryKg" data-text="true">会心一击很痛</span></div></td></tr><tr><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxq3k"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxq62" data-idx><span class="text_jryKg" data-text="true">攻击伤害的一半会回复在身上</span></div></td></tr><tr><td width="138" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwixe5fbw"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwixe5fe9" data-idx><span class="text_jryKg" data-text="true">地狱马</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwixe5ffz"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwixe5fiu" data-idx><span class="text_jryKg" data-text="true">它被攻击中时，主角会感到很疲劳</span></div><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwixe5fkg" data-idx><span class="text_jryKg" data-text="true">（主角每击中它一次疲劳+10）</span></div></td></tr><tr><td width="138" align="center" rowspan="2" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxqjw"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxqm4" data-idx><span class="text_jryKg" data-text="true">血使者</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxqpd"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxqrr" data-idx><span class="text_jryKg" data-text="true">血魔法全体攻击</span></div></td></tr><tr><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxr05"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxr2n" data-idx><span class="text_jryKg" data-text="true">攻击总伤害的一半会回复在身上</span></div></td></tr><tr><td width="138" align="center" rowspan="2" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxr5v"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxr8a" data-idx><span class="text_jryKg" data-text="true">触手魔物</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxrbi"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxrdy" data-idx><span class="text_jryKg" data-text="true">一回合六次攻击</span></div></td></tr><tr><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxrn6"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxrpn" data-idx><span class="text_jryKg" data-text="true">攻击有几率会使主角衰弱</span></div><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="tb55o7UVkkqs" data-idx><span class="text_jryKg" data-text="true">（衰弱几率10%，每次攻击-4，防御-4）</span></div></td></tr><tr><td width="138" align="center" rowspan="2" colspan="1" class="tableTd_q7dtu" data-uuid="gnwix6mfi7"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwix6mfkj" data-idx><span class="text_jryKg" data-text="true">龙蝠</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwix6mfl6"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwix6mfnl" data-idx><span class="text_jryKg" data-text="true">攻击有一定几率使主角中毒</span></div><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="tb55wFi3YcBB" data-idx><span class="text_jryKg" data-text="true">（中毒几率20%）</span></div></td></tr><tr><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxrxz"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxs0l" data-idx><span class="text_jryKg" data-text="true">如果主角已在毒状态时，它每次攻击有几率使攻击力与防御力提升</span></div><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="tb55E5W1yqbl" data-idx><span class="text_jryKg" data-text="true">（60%几率发动，每次自身攻击+10，自身防御+10）</span></div></td></tr><tr><td width="138" align="center" rowspan="4" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxs4e"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxs7k" data-idx><span class="text_jryKg" data-text="true">灵盾之柏奇</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxsbc"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxseu" data-idx><span class="text_jryKg" data-text="true">顺序使用防御术：镜膜盾>结晶盾>反射盾</span></div></td></tr><tr><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxspb"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxsst" data-idx><span class="text_jryKg" data-text="true">镜膜盾：所受伤害减半</span></div></td></tr><tr><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxt1i"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxt47" data-idx><span class="text_jryKg" data-text="true">结晶盾：主角下一回合不能行动</span></div></td></tr><tr><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxtd9"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxtfw" data-idx><span class="text_jryKg" data-text="true">反射盾：伤害的四分之一反射在主角身上</span></div></td></tr><tr><td width="138" align="center" rowspan="4" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxtj6"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxtlo" data-idx><span class="text_jryKg" data-text="true">魔剑之凯撒</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxtow"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxtre" data-idx><span class="text_jryKg" data-text="true">顺序使用剑技：天灵>流石>深红</span></div></td></tr><tr><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxu0u"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxu3o" data-idx><span class="text_jryKg" data-text="true">天灵：主角被击中后会增加疲劳</span></div><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="tb56FkGC8hTy" data-idx><span class="text_jryKg" data-text="true">（疲劳+8）</span></div></td></tr><tr><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxud8"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxufq" data-idx><span class="text_jryKg" data-text="true">流石：主角被击中后会减少气息</span></div></td></tr><tr><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmxuoy"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmxurg" data-idx><span class="text_jryKg" data-text="true">深红：伤害的五分之一会回复到身上</span></div></td></tr><tr><td width="138" align="center" rowspan="2" colspan="1" class="tableTd_q7dtu" data-uuid="gnwixe5fnw"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwixe5fqf" data-idx><span class="text_jryKg" data-text="true">魔界之王·古顿</span></div></td><td width="610" align="center" rowspan="2" colspan="1" class="tableTd_q7dtu" data-uuid="gnwixe5fs6"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwixe5fva" data-idx><span class="text_jryKg" data-text="true">发出的魔力冲击会在主角和公主之间跳弹并做成伤害，</span></div><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwixe5fwv" data-idx><span class="text_jryKg" data-text="true">每次跳弹的伤害减少20%，总共跳弹四次</span></div></td></tr><tr></tr><tr><td width="138" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwix6mfqf"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwix6mfst" data-idx><span class="text_jryKg" data-text="true">白银史莱姆法师</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwix6mfuj"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwix6mfww" data-idx><span class="text_jryKg" data-text="true">进入特殊战斗方式</span></div></td></tr><tr><td width="138" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwix6mg0b"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwix6mg2o" data-idx><span class="text_jryKg" data-text="true">黄金史莱姆战士</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwix6mg4d"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwix6mg6q" data-idx><span class="text_jryKg" data-text="true">进入特殊战斗方式</span></div></td></tr><tr><td width="138" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwix6mga4"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwix6mgch" data-idx><span class="text_jryKg" data-text="true">白银史莱姆爆弹</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwix6mgcy"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwix6mgfa" data-idx><span class="text_jryKg" data-text="true">进入特殊战斗方式</span></div></td></tr><tr><td width="138" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwix6mgi8"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwix6mgkl" data-idx><span class="text_jryKg" data-text="true">黄金史莱姆牧师</span></div></td><td width="610" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwix6mgmb"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwix6mgon" data-idx><span class="text_jryKg" data-text="true">进入特殊战斗方式</span></div></td></tr></tbody></table><h2 id="物品介绍"><a href="#物品介绍" class="headerlink" title="物品介绍"></a>物品介绍</h2><table class="tableBox_jZZLx"><tbody class="tableBody__FKMq"><tr><th width="272" align="center" rowspan="1" colspan="1" class="tableTh_EULqZ"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmy65o" data-idx><span class="text_jryKg" data-text="true">名称</span></div></th><th width="467" align="center" rowspan="1" colspan="1" class="tableTh_EULqZ"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmy6af" data-idx><span class="text_jryKg" data-text="true">效果</span></div></th></tr><tr><td width="272" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmy6dq"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmy6fq" data-idx><span class="text_jryKg" data-text="true">伤药</span></div></td><td width="467" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmy6j1"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmy6lh" data-idx><span class="text_jryKg" data-text="true">体力+150</span></div></td></tr><tr><td width="272" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwix6mscd"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwix6msew" data-idx><span class="text_jryKg" data-text="true">高级伤药</span></div></td><td width="467" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwix6msgo"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwix6msj4" data-idx><span class="text_jryKg" data-text="true">体力+400</span></div></td></tr><tr><td width="272" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmy6zk"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmy720" data-idx><span class="text_jryKg" data-text="true">大回复药剂</span></div></td><td width="467" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmy758"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmy77i" data-idx><span class="text_jryKg" data-text="true">体力+1200，只能于异国商人处购买</span></div></td></tr><tr><td width="272" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmy7ar"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmy7d6" data-idx><span class="text_jryKg" data-text="true">经验药水</span></div></td><td width="467" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmy7ge"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmy7is" data-idx><span class="text_jryKg" data-text="true">EXP+5</span></div></td></tr><tr><td width="272" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmy7m0"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmy7oe" data-idx><span class="text_jryKg" data-text="true">能量水</span></div></td><td width="467" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmy7rc"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmy7vw" data-idx><span class="text_jryKg" data-text="true">能在更疲劳下使出剑技和防御术（疲劳上限+2）</span></div></td></tr><tr><td width="272" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwix6msml"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwix6msoz" data-idx><span class="text_jryKg" data-text="true">解毒剂</span></div></td><td width="467" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwix6mspf"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwix6msrs" data-idx><span class="text_jryKg" data-text="true">回复中毒状态</span></div></td></tr><tr><td width="272" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwix6msuo"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwix6msx0" data-idx><span class="text_jryKg" data-text="true">火酒</span></div></td><td width="467" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwix6msys"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwix6mt15" data-idx><span class="text_jryKg" data-text="true">回复衰弱状态</span></div></td></tr><tr><td width="272" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmyk67"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmyk8l" data-idx><span class="text_jryKg" data-text="true">圣水</span></div></td><td width="467" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmykbz"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmyked" data-idx><span class="text_jryKg" data-text="true">体力*1.5倍</span></div></td></tr><tr><td width="272" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmyjut"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmyjx8" data-idx><span class="text_jryKg" data-text="true">红宝石</span></div></td><td width="467" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmyk0j"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmyk2w" data-idx><span class="text_jryKg" data-text="true">攻击力+2</span></div></td></tr><tr><td width="272" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmyjjb"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmyjlu" data-idx><span class="text_jryKg" data-text="true">蓝宝石</span></div></td><td width="467" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmyjp2"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmyjrj" data-idx><span class="text_jryKg" data-text="true">防御力+2</span></div></td></tr><tr><td width="272" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmyj7t"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmyja9" data-idx><span class="text_jryKg" data-text="true">绿宝石</span></div></td><td width="467" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmyjdk"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmyjg2" data-idx><span class="text_jryKg" data-text="true">气息增加速度提升（最大气息上限-1）</span></div></td></tr><tr><td width="272" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmyitv"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmyiwg" data-idx><span class="text_jryKg" data-text="true">黄宝石</span></div></td><td width="467" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmyizr"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmyj2u" data-idx><span class="text_jryKg" data-text="true">战斗中时深呼吸回复量上升</span></div><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmyj4g" data-idx><span class="text_jryKg" data-text="true">（深呼吸回复量+2）</span></div></td></tr><tr><td width="272" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmyihs"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmyila" data-idx><span class="text_jryKg" data-text="true">红水晶</span></div></td><td width="467" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmyiol"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmyirb" data-idx><span class="text_jryKg" data-text="true">攻击+8，只能于异国商人处购买</span></div></td></tr><tr><td width="272" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmyi5x"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmyi8a" data-idx><span class="text_jryKg" data-text="true">蓝水晶</span></div></td><td width="467" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmyibl"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmyie2" data-idx><span class="text_jryKg" data-text="true">防御+8，只能于异国商人处购买</span></div></td></tr><tr><td width="272" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmyhuu"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmyhx8" data-idx><span class="text_jryKg" data-text="true">跃进之翼</span></div></td><td width="467" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmyi0i"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmyi2x" data-idx><span class="text_jryKg" data-text="true">提升一个等级</span></div></td></tr><tr><td width="272" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmyhjp"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmyhm1" data-idx><span class="text_jryKg" data-text="true">风之翼</span></div></td><td width="467" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmyhp9"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmyhrm" data-idx><span class="text_jryKg" data-text="true">飞向城外</span></div></td></tr><tr><td width="272" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwixe5qe3"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwixe5qgo" data-idx><span class="text_jryKg" data-text="true">神之护符</span></div></td><td width="467" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwixe5qhu"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwixe5qkb" data-idx><span class="text_jryKg" data-text="true">公主魔法防守+5</span></div></td></tr><tr><td width="272" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmygxl"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmygzx" data-idx><span class="text_jryKg" data-text="true">妖精之歌颂</span></div></td><td width="467" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmyh38"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmyh5l" data-idx><span class="text_jryKg" data-text="true">三相之力之一</span></div></td></tr><tr><td width="272" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmygmb"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmygoo" data-idx><span class="text_jryKg" data-text="true">圣神之加护</span></div></td><td width="467" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmygrx"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmygua" data-idx><span class="text_jryKg" data-text="true">三相之力之二</span></div></td></tr><tr><td width="272" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmygbu"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmyge7" data-idx><span class="text_jryKg" data-text="true">魔力之源</span></div></td><td width="467" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmyggz"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmygjd" data-idx><span class="text_jryKg" data-text="true">三相之力之三</span></div></td></tr><tr><td width="272" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmyg0h"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmyg2v" data-idx><span class="text_jryKg" data-text="true">魔法冰块</span></div></td><td width="467" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmyg65"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmyg8j" data-idx><span class="text_jryKg" data-text="true">制造永恒冰结晶的原料</span></div></td></tr><tr><td width="272" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmyfnb"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmyfp7" data-idx><span class="text_jryKg" data-text="true">永恒冰结晶</span></div></td><td width="467" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmyfsg"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmyfvk" data-idx><span class="text_jryKg" data-text="true">减少受熔岩伤害，并能移除熔岩</span></div><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmyfx5" data-idx><span class="text_jryKg" data-text="true">（从原来的50降到10）</span></div></td></tr><tr><td width="272" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmyfbz"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmyfed" data-idx><span class="text_jryKg" data-text="true">锄头</span></div></td><td width="467" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmyfhl"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmyfk1" data-idx><span class="text_jryKg" data-text="true">制造宝石锄头的原料</span></div></td></tr><tr><td width="272" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmyf0n"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmyf32" data-idx><span class="text_jryKg" data-text="true">宝石锄头</span></div></td><td width="467" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmyf6d"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmyf8r" data-idx><span class="text_jryKg" data-text="true">把恶龙变成黄金龙</span></div></td></tr><tr><td width="272" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwixo9gvs"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwixo9gyh" data-idx><span class="text_jryKg" data-text="true">强剑之首饰</span></div></td><td width="467" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwixo9h09"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwixo9h2r" data-idx><span class="text_jryKg" data-text="true">对白银系怪物伤害加倍</span></div></td></tr><tr><td width="272" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmyeel"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmyegy" data-idx><span class="text_jryKg" data-text="true">亡灵之火</span></div></td><td width="467" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmyek7"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmyeml" data-idx><span class="text_jryKg" data-text="true">气息回复1格</span></div></td></tr><tr><td width="272" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmye3n"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmye5m" data-idx><span class="text_jryKg" data-text="true">大金币</span></div></td><td width="467" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmye8u"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmyebb" data-idx><span class="text_jryKg" data-text="true">金钱+200</span></div></td></tr><tr><td width="272" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmydse"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmydur" data-idx><span class="text_jryKg" data-text="true">史莱姆银币</span></div></td><td width="467" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmydy1"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmye0f" data-idx><span class="text_jryKg" data-text="true">增加游戏分数，在魔塔5层老人那里可以换成回复200体力</span></div></td></tr><tr><td width="272" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmydh2"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmydji" data-idx><span class="text_jryKg" data-text="true">史莱姆金币</span></div></td><td width="467" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmydmp"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmydp4" data-idx><span class="text_jryKg" data-text="true">增加游戏分数，在魔塔5层老人那里可以换成回复400体力</span></div></td></tr><tr><td width="272" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmyd6m"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmyd8z" data-idx><span class="text_jryKg" data-text="true">史莱姆纯银块</span></div></td><td width="467" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmydc7"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmyddt" data-idx><span class="text_jryKg" data-text="true">大大增加游戏分数，在魔塔5层老人那里可以换成回复750体力</span></div></td></tr><tr><td width="272" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmycv7"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmycxm" data-idx><span class="text_jryKg" data-text="true">史莱姆纯金块</span></div></td><td width="467" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmyd0y"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmyd3e" data-idx><span class="text_jryKg" data-text="true">大大增加游戏分数，在魔塔5层老人那里可以换成回复1000体力</span></div></td></tr><tr><td width="272" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwo6eh0"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwo6ejf" data-idx><span class="text_jryKg" data-text="true">幻之虹币</span></div></td><td width="467" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwo6el5"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwo6enn" data-idx><span class="text_jryKg" data-text="true">大大增加游戏分数</span></div></td></tr><tr><td width="272" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwixe5qn4"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwixe5qpj" data-idx><span class="text_jryKg" data-text="true">黄锁匙</span></div></td><td width="467" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwixe5qr9"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwixe5qtn" data-idx><span class="text_jryKg" data-text="true">开黄门</span></div></td></tr><tr><td width="272" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwixe5qx2"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwixe5qzf" data-idx><span class="text_jryKg" data-text="true">蓝锁匙</span></div></td><td width="467" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwixe5r15"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwixe5r3h" data-idx><span class="text_jryKg" data-text="true">开蓝门</span></div></td></tr><tr><td width="272" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwixe5r6w"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwixe5r98" data-idx><span class="text_jryKg" data-text="true">红锁匙</span></div></td><td width="467" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwixe5r9n"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwixe5rby" data-idx><span class="text_jryKg" data-text="true">开红门</span></div></td></tr><tr><td width="272" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmyb9r"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmybc1" data-idx><span class="text_jryKg" data-text="true">随意门</span></div></td><td width="467" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmybfu"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmybje" data-idx><span class="text_jryKg" data-text="true">开暗墙、冰块或某些熔岩</span></div></td></tr><tr><td width="272" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwixo9h68"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwixo9h8l" data-idx><span class="text_jryKg" data-text="true">心镜</span></div></td><td width="467" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwixo9ha2"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwixo9hcg" data-idx><span class="text_jryKg" data-text="true">查看怪物能力</span></div></td></tr><tr><td width="272" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmyanp"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmyaq4" data-idx><span class="text_jryKg" data-text="true">黄金色羽根</span></div></td><td width="467" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmyasv"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmyavc" data-idx><span class="text_jryKg" data-text="true">跳跃楼层+千里眼，皇宫内时可以飞至城外</span></div></td></tr><tr><td width="272" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmyaa2"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmyacq" data-idx><span class="text_jryKg" data-text="true">能量转换器</span></div></td><td width="467" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmyafy"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmyaiv" data-idx><span class="text_jryKg" data-text="true">把勇士的生命值转换为公主的生命值</span></div><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmyakg" data-idx><span class="text_jryKg" data-text="true">（兑换比率是2:1）</span></div></td></tr><tr><td width="272" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwix6mt4l"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwix6mt6x" data-idx><span class="text_jryKg" data-text="true">草药精华</span></div></td><td width="467" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwix6mt8n"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwix6mtb5" data-idx><span class="text_jryKg" data-text="true">体力+80，回复中毒（可用于公主+80hp）</span></div></td></tr><tr><td width="272" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwix6mtel"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwix6mth5" data-idx><span class="text_jryKg" data-text="true">高级草药精华</span></div></td><td width="467" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwix6mtiw"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwix6mtko" data-idx><span class="text_jryKg" data-text="true">体力+180，回复衰弱（可用于公主+180hp）</span></div></td></tr><tr><td width="272" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmy9cm"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmy9f2" data-idx><span class="text_jryKg" data-text="true">冒险袋</span></div></td><td width="467" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="gnwiwmy9ib"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="gnwiwmy9kx" data-idx><span class="text_jryKg" data-text="true">储存草药精华和高级草药精华</span></div></td></tr></tbody></table><h2 id="剑技-·-防御术"><a href="#剑技-·-防御术" class="headerlink" title="剑技 · 防御术"></a>剑技 · 防御术</h2><h3 id="剑技"><a href="#剑技" class="headerlink" title="剑技"></a>剑技</h3><table class="tableBox_jZZLx"><tbody class="tableBody__FKMq"><tr><th width="83" align="center" rowspan="1" colspan="1" class="tableTh_EULqZ"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="t0MUiE6KCFec" data-idx><span class="text_jryKg bold_HxtZb" data-text="true">名称</span></div></th><th width="106" align="center" rowspan="1" colspan="1" class="tableTh_EULqZ"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="t0MUiE6gUCmg" data-idx><span class="text_jryKg bold_HxtZb" data-text="true">    最低使用等级 </span></div></th><th width="74" align="center" rowspan="1" colspan="1" class="tableTh_EULqZ"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="t0MUiE67ykAi" data-idx><span class="text_jryKg bold_HxtZb" data-text="true">    气息消耗 </span></div></th><th width="57" align="center" rowspan="1" colspan="1" class="tableTh_EULqZ"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="t0MW9Q89c70B" data-idx><span class="text_jryKg bold_HxtZb" data-text="true">疲劳</span></div></th><th width="430" align="center" rowspan="1" colspan="1" class="tableTh_EULqZ"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="t0MUPvnFKBaE" data-idx><span class="text_jryKg bold_HxtZb" data-text="true">    效果 </span></div></th></tr><tr><td width="83" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="t0MUGUMhyV6r"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="t0MUGUMjCwXm" data-idx><span class="text_jryKg" data-text="true">    凡骨 </span></div></td><td width="106" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="t0MUGUMt3lff"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="t0MUGUM7M97m" data-idx><span class="text_jryKg" data-text="true">1</span></div></td><td width="74" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="t0MUGUM7kVDc"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="t0MUGUMF6YvV" data-idx><span class="text_jryKg" data-text="true">1</span></div></td><td width="57" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="t0MW9Q8qcGiH"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="t0MW9Q8Z68bM" data-idx><span class="text_jryKg" data-text="true">10</span></div></td><td width="430" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="t0MUPvnDeMPR"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="t0MUPvntse1v" data-idx><span class="text_jryKg" data-text="true">    伤害*1.5，暂时将(a)防御力转换为(b)攻击力，但给予的伤害少于(a)就没有效果。 </span></div></td></tr><tr><td width="83" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="t0MUiE6GVEXG"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="t0MUiE6sjqeh" data-idx><span class="text_jryKg" data-text="true">    流石 </span></div></td><td width="106" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="t0MUiE6Kw1WL"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="t0MUiE61KKNn" data-idx><span class="text_jryKg" data-text="true">20</span></div></td><td width="74" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="t0MUiE6BaPPV"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="t0MUiE62safv" data-idx><span class="text_jryKg" data-text="true">1</span></div></td><td width="57" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="t0MW9Q8fudyr"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="t0MW9Q8rN8pn" data-idx><span class="text_jryKg" data-text="true">4</span></div></td><td width="430" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="t0MUPvnJAQLy"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="t0MUPvnYLpjc" data-idx><span class="text_jryKg" data-text="true">    伤害*1.3，吸取怪物的气息。 </span></div></td></tr><tr><td width="83" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="t0MUiE6ZtChZ"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="t0MUiE6jIMAk" data-idx><span class="text_jryKg" data-text="true">    深红</span></div></td><td width="106" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="t0MUiE6PGfGt"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="t0MUiE6Uj5JO" data-idx><span class="text_jryKg" data-text="true">26</span></div></td><td width="74" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="t0MUiE670ZZv"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="t0MUiE6xaIws" data-idx><span class="text_jryKg" data-text="true">1</span></div></td><td width="57" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="t0MW9Q8FBbEV"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="t0MW9Q8PSwMn" data-idx><span class="text_jryKg" data-text="true">4</span></div></td><td width="430" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="t0MUPvnV4l3u"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="t0MUPvnzRVPd" data-idx><span class="text_jryKg" data-text="true">    伤害*0.8，攻击不会致命，敌人所受伤害*0.3回复在自己身上。 </span></div></td></tr><tr><td width="83" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="t0MUAoTV6wmj"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="t0MUAoTFuJCZ" data-idx><span class="text_jryKg" data-text="true">    天灵 </span></div></td><td width="106" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="t0MUAoTd8D1d"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="t0MUAoTxxlsL" data-idx><span class="text_jryKg" data-text="true">79</span></div></td><td width="74" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="t0MUAoTxLsBg"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="t0MUAoT1BUho" data-idx><span class="text_jryKg" data-text="true">2</span></div></td><td width="57" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="t0MW9Q8BL1JA"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="t0MW9Q8hCoDz" data-idx><span class="text_jryKg" data-text="true">8</span></div></td><td width="430" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="t0MUPvoKnfQV"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="t0MUPvosUImX" data-idx><span class="text_jryKg" data-text="true">    伤害*1.8，能使怪物感到疲劳。 </span></div></td></tr><tr><td width="83" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="t0MUAcIAPCLS"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="t0MUAcISG6tU" data-idx><span class="text_jryKg" data-text="true">    皇者 </span></div></td><td width="106" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="t0MUAcIXa1nY"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="t0MUAcIr2UzS" data-idx><span class="text_jryKg" data-text="true">100</span></div></td><td width="74" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="t0MUAcI4pRVH"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="t0MUAcI56hGT" data-idx><span class="text_jryKg" data-text="true">2</span></div></td><td width="57" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="t0MW9Q9bQRUD"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="t0MW9Q9HVKki" data-idx><span class="text_jryKg" data-text="true">30</span></div></td><td width="430" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="t0MUPvoiXXYb"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="t0MUPvoppZ4Q" data-idx><span class="text_jryKg" data-text="true">    伤害*5，但不会致命。使用后给予敌人的伤害为1。 </span></div></td></tr></tbody></table><h3 id="防御术"><a href="#防御术" class="headerlink" title="防御术"></a>防御术</h3><table class="tableBox_jZZLx"><tbody class="tableBody__FKMq"><tr><th width="83" align="center" rowspan="1" colspan="1" class="tableTh_EULqZ"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="t0MViCsVzb5r" data-idx><span class="text_jryKg bold_HxtZb" data-text="true">名称</span></div></th><th width="107" align="center" rowspan="1" colspan="1" class="tableTh_EULqZ"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="t0MViCsBPBFA" data-idx><span class="text_jryKg bold_HxtZb" data-text="true">    最低使用等级 </span></div></th><th width="78" align="center" rowspan="1" colspan="1" class="tableTh_EULqZ"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="t0MViCsxm7eB" data-idx><span class="text_jryKg bold_HxtZb" data-text="true">    气息消耗 </span></div></th><th width="52" align="center" rowspan="1" colspan="1" class="tableTh_EULqZ"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="t0MVjPiHC1hs" data-idx><span class="text_jryKg bold_HxtZb" data-text="true">    疲劳 </span></div></th><th width="432" align="center" rowspan="1" colspan="1" class="tableTh_EULqZ"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="t0MVjGSIjjuJ" data-idx><span class="text_jryKg bold_HxtZb" data-text="true">效果</span></div></th></tr><tr><td width="83" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="t0MViCsMcFzf"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="t0MViCsvACVD" data-idx><span class="text_jryKg" data-text="true">    镜膜盾 </span></div></td><td width="107" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="t0MViCslN7Iw"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="t0MViCsjhLLh" data-idx><span class="text_jryKg" data-text="true">1</span></div></td><td width="78" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="t0MViCsVUm9X"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="t0MViCsLQvrO" data-idx><span class="text_jryKg" data-text="true">1</span></div></td><td width="52" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="t0MVjPixMZpG"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="t0MVjPiifkFp" data-idx><span class="text_jryKg" data-text="true">3</span></div></td><td width="432" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="t0MVjGScwaUA"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="t0MVjGS2RMmO" data-idx><span class="text_jryKg" data-text="true">    所受伤害除以2.5。 </span></div></td></tr><tr><td width="83" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="t0MViCsCPCrp"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="t0MViCsi07IJ" data-idx><span class="text_jryKg" data-text="true">    结晶盾 </span></div></td><td width="107" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="t0MViCsRTL5w"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="t0MViCsuhcPj" data-idx><span class="text_jryKg" data-text="true">18</span></div></td><td width="78" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="t0MViCsEsQxw"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="t0MViCsrRtaa" data-idx><span class="text_jryKg" data-text="true">2</span></div></td><td width="52" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="t0MVjPiHVTMl"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="t0MVjPi59omw" data-idx><span class="text_jryKg" data-text="true">12</span></div></td><td width="432" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="t0MVjGSVzCgk"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="t0MVjGSvuy0M" data-idx><span class="text_jryKg" data-text="true">    所受伤害除以1.5，敌人下回合不能行动。 </span></div></td></tr><tr><td width="83" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="t0MVkUPyJ6LG"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="t0MVkUPSEspx" data-idx><span class="text_jryKg" data-text="true">    反射盾 </span></div></td><td width="107" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="t0MVkUPk1OXw"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="t0MVkUPzFUWO" data-idx><span class="text_jryKg" data-text="true">28</span></div></td><td width="78" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="t0MVkUPCwFWH"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="t0MVkUPtkU7Z" data-idx><span class="text_jryKg" data-text="true">1</span></div></td><td width="52" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="t0MVkUPvjlzo"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="t0MVkUPimsqr" data-idx><span class="text_jryKg" data-text="true">3</span></div></td><td width="432" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="t0MVkUQsBGEE"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="t0MVkUQ4KU5d" data-idx><span class="text_jryKg" data-text="true">    所受伤害除以1.3，敌人同时会收到伤害，给予伤害=(c)+所受伤害除以2.6。一些特殊效果亦能反射。 </span></div></td></tr><tr><td width="83" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="t0MVkSjDRFJs"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="t0MVkSjXn3kT" data-idx><span class="text_jryKg" data-text="true">    精灵罩 </span></div></td><td width="107" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="t0MVkSkyoIHs"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="t0MVkSkOtUTC" data-idx><span class="text_jryKg" data-text="true">57</span></div></td><td width="78" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="t0MVkSkHLN2t"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="t0MVkSkxNsWT" data-idx><span class="text_jryKg" data-text="true">2</span></div></td><td width="52" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="t0MVkSk7xlVX"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="t0MVkSkLNEUV" data-idx><span class="text_jryKg" data-text="true">9</span></div></td><td width="432" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="t0MVkSklZWLJ"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="t0MVkSkQoUmX" data-idx><span class="text_jryKg" data-text="true">    提升(d)防御力，效果可抵挡3次攻击。 </span></div></td></tr><tr><td width="83" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="t0MVtHOyRtUn"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="t0MVtHOE6XNU" data-idx><span class="text_jryKg" data-text="true">    贤者结界 </span></div></td><td width="107" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="t0MVtHOzdAPU"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="t0MVtHOB773K" data-idx><span class="text_jryKg" data-text="true">100</span></div></td><td width="78" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="t0MVtHOWjuQu"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="t0MVtHONgbvf" data-idx><span class="text_jryKg" data-text="true">2</span></div></td><td width="52" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="t0MVtHOKrk9g"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="t0MVtHOmoVod" data-idx><span class="text_jryKg" data-text="true">2</span></div></td><td width="432" align="center" rowspan="1" colspan="1" class="tableTd_q7dtu" data-uuid="t0MVtHOmNoaj"><div class="para_TnW9O table_VnOr0 MARK_MODULE" data-tag="paragraph" data-uuid="t0MVtHOHGlcb" data-idx><span class="text_jryKg" data-text="true">    使出后，所承受伤害*1.5会回复在公主身上。 </span></div></td></tr></tbody></table><p>备注：a&#x3D;勇者等级；b&#x3D;勇者等级*1.5；c&#x3D;勇者攻击力除以10；d&#x3D;勇者防御力除以50+勇者体力除以勇者等级的余数</p><h2 id="游戏成就"><a href="#游戏成就" class="headerlink" title="游戏成就"></a>游戏成就</h2><h3 id="共通成就"><a href="#共通成就" class="headerlink" title="共通成就"></a>共通成就</h3><p>1.幻之虹币【取得幻之史莱姆虹币】<br>2.白银狙击手【拥有的四种史莱姆钱币之和超过90枚】<br>3.大难不死【战斗胜利后主角体力低于200或公主体力低于50】<br>4.肉盾【主角体力超过5000】<br>5.起死回生【主角体力低于300时取得伤药或高级伤药】<br>6.炼金术师【使用三相之力击败白银系怪物并获得白银奖分】</p><h3 id="正常游戏成就"><a href="#正常游戏成就" class="headerlink" title="正常游戏成就"></a>正常游戏成就</h3><p>1.冰冷的人【拿到永恒冰结晶】<br>2.命运窥视者【得到水晶球】<br>3.攻击姿态【攻击超过1700】<br>4.防守姿态【防御超过1700】<br>5.熔炉【拿到强剑之首饰】<br>6.冰冷的手【拿到魔法冰块】<br>7.三相之力【集齐三相之力】<br>8.剑大师【集齐五个剑技】<br>9.盾大师【集齐五个防御术】<br>10.捐血站【主角血超过12000】<br>11.持匙人【持有10把红钥匙】<br>12.健谈的人【和17个特定NPC对话】（下有详细说明）<br>13.一代宗师【等级达到或超过140】<br>14.宝石矿工【拿到宝石锄头】<br>15.国家大事【公主加入队伍】<br>16.职业冒险家【得到冒险袋】<br>17.开采矿工【拿到锄头】<br>18.心灵相通【识别能量转换器】<br>19.天上之住民【开启黄金色羽根的功能】<br>20.透视【开启心镜隐藏能力】<br>21.小叮当【拥有至少16个随意门】<br>22.异常状态【衰弱或中毒】<br>23.攻略本【8小时内抵达皇宫（按秒计算时间）】<br>24.神之防护【公主魔防达到265】<br>25.出门靠朋友【使用脸书成功发送求助或分享进度】<br>26.投入战斗【攻防均超过100】<br>27.见习剑士【拿到第一本剑技书】<br>28.防守入门【拿到第一本魔法书（也就是防御术）】<br>29.圣水加护【吃第一瓶圣水】<br>30.圣神的加护【吃第二瓶圣水】<br>31.弑神者【击败魔神·些多】<br>32.勇者斗恶龙【杀掉黄金龙或毒龙】（仅杀掉恶龙不会获得该成就）<br>33.智能施法【战斗中在4种特定情况下使用技能】（下有详细说明）<br>34.我不打了【战斗中疲劳超过80】<br>35.病入膏肓【在单次中毒状态（即中途不解毒）走了超过20步】<br>36.凝神储息【气息全满】<br>37.大屠杀【杀死超过1200只怪物】<br>38.学有所成【经验超过280】<br>39.守财奴【金币超过1000】</p><h3 id="白银之间成就"><a href="#白银之间成就" class="headerlink" title="白银之间成就"></a>白银之间成就</h3><p>1.技师【当前白银之间层数大于15且RANK为4】<br>2.白银法师【击败白银史莱姆法师并从中获取白银奖分】<br>3.黄金战士【击败黄金史莱姆战士并从中获取白银奖分】<br>4.白银爆弹【击败白银史莱姆爆弹并从中获取白银奖分】<br>5.黄金牧师【击败黄金史莱姆牧师并从中获取白银奖分】</p>]]></content>
      
      
      <categories>
          
          <category> 小游戏 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 游戏 </tag>
            
            <tag> Ruffle </tag>
            
            <tag> Flash </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>黄金矿工——我在博客打游戏</title>
      <link href="/2023/09/28/gold-miner/"/>
      <url>/2023/09/28/gold-miner/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>黄金矿工。</p><div style="position: relative; width: 100%; height: 0; padding-bottom: 75%; margin: 20px 0">  <iframe src="https://ruffle-swf-player.vercel.app/swf-games/gold-miner/" frameborder="0" scrolling="no" style="position: absolute; width: 100%; height: 100%; left: 0; top: 0;"></iframe></div><p>本游戏并非本人制作，源文件为网络资料，如有侵权，请联系我，我会在收到侵权告知后24小时内删除。</p>]]></content>
      
      
      <categories>
          
          <category> 小游戏 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 游戏 </tag>
            
            <tag> Ruffle </tag>
            
            <tag> Flash </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>雅思 听力同义替换2</title>
      <link href="/2023/06/04/ielts-synonymous-substitution-02/"/>
      <url>/2023/06/04/ielts-synonymous-substitution-02/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>需要提前说明的是，同义替换并不是完全的意思是同义词，只是在阅读当中句子同义替换当中的关键词。</p><h2 id="听力音频"><a href="#听力音频" class="headerlink" title="听力音频"></a>听力音频</h2><audio src="audio.mp3" controls loop preload="metadata">  你的浏览器不支持 audio 标签。</audio><h2 id="No-61-No-80"><a href="#No-61-No-80" class="headerlink" title="No.61 - No.80"></a>No.61 - No.80</h2><table><thead><tr><th align="center">序号</th><th>中文意</th><th>考点词</th><th>同义替换 · 真题摘录</th></tr></thead><tbody><tr><td align="center">61</td><td>省掉</td><td>omit</td><td>leave out, cancel</td></tr><tr><td align="center">62</td><td>发现</td><td>find</td><td>discover, detect, spot, see, sight</td></tr><tr><td align="center">63</td><td>机会</td><td>opportunity</td><td>chance, odds, hope</td></tr><tr><td align="center">64</td><td>困难的</td><td>difficult</td><td>problem, hard, not easy, not simple</td></tr><tr><td align="center">65</td><td>阻止</td><td>prevent</td><td>avoid, stop, escape, forbid, out of bounds</td></tr><tr><td align="center">66</td><td>误解</td><td>misunderstand</td><td>wrong idea, confuse, puzzle, perplex</td></tr><tr><td align="center">67</td><td>努力</td><td>try hard</td><td>make efforts, hard working</td></tr><tr><td align="center">68</td><td>反馈</td><td>feedback</td><td>response, reaction, reply</td></tr><tr><td align="center">69</td><td>影响</td><td>affect</td><td>impact, influence, effect</td></tr><tr><td align="center">70</td><td>分析认知</td><td>analysis</td><td>perspective, understand, perceive, know</td></tr><tr><td align="center">71</td><td>结果</td><td>result</td><td>outcome, consequence, conclusion</td></tr><tr><td align="center">72</td><td>处理</td><td>handle</td><td>deal with, cope with, figure out, work out, take care of</td></tr><tr><td align="center">73</td><td>帮助</td><td>support</td><td>help, assistance, aid, tip</td></tr><tr><td align="center">74</td><td>完美的</td><td>ideal</td><td>perfect</td></tr><tr><td align="center">75</td><td>严格的</td><td>rigorous</td><td>strict, demanding</td></tr><tr><td align="center">76</td><td>限制</td><td>restrict</td><td>limit, not permit</td></tr><tr><td align="center">77</td><td>相似的</td><td>similar</td><td>like, compare</td></tr><tr><td align="center">78</td><td>特别的</td><td>particular</td><td>special, in particular, especially</td></tr><tr><td align="center">79</td><td>重复</td><td>copy</td><td>repeat, reproduce</td></tr><tr><td align="center">80</td><td>统计（学）</td><td>statistics</td><td>data, figure</td></tr></tbody></table><h2 id="No-81-No-100"><a href="#No-81-No-100" class="headerlink" title="No.81 - No.100"></a>No.81 - No.100</h2><table><thead><tr><th align="center">序号</th><th>中文意</th><th>考点词</th><th>同义替换 · 真题摘录</th></tr></thead><tbody><tr><td align="center">81</td><td>最大值</td><td>maximum</td><td>up to, at most</td></tr><tr><td align="center">82</td><td>最小值</td><td>minimum</td><td>at least</td></tr><tr><td align="center">83</td><td>最初的</td><td>initial</td><td>at first, start, begin, early on, premiere</td></tr><tr><td align="center">84</td><td>少量的</td><td>limited</td><td>just a few, a little, small, a small number of, not many, miniature</td></tr><tr><td align="center">85</td><td>截短</td><td>shorten</td><td>cut down</td></tr><tr><td align="center">86</td><td>降低</td><td>decrease</td><td>lower, reduce, fewer, drop, fall, decrease</td></tr><tr><td align="center">87</td><td>缺乏</td><td>lack</td><td>shortage, insufficient, fewer, not enough</td></tr><tr><td align="center">88</td><td>大的</td><td>large</td><td>big, huge</td></tr><tr><td align="center">89</td><td>大量的</td><td>amount of</td><td>lots of, large quantities of, loads of</td></tr><tr><td align="center">90</td><td>绝大部分</td><td>majority</td><td>most</td></tr><tr><td align="center">91</td><td>两倍</td><td>double</td><td>twice</td></tr><tr><td align="center">92</td><td>超过</td><td>more than</td><td>over, beyond, exceed, above</td></tr><tr><td align="center">93</td><td>当前</td><td>at present</td><td>already, existing, currently, nowadays</td></tr><tr><td align="center">94</td><td>更新</td><td>update</td><td>upgrade, up to date, more current, modern</td></tr><tr><td align="center">95</td><td>最新的</td><td>newest</td><td>latest</td></tr><tr><td align="center">96</td><td>将来</td><td>soon</td><td>later, in the future</td></tr><tr><td align="center">97</td><td>过时的</td><td>out of date</td><td>old fashioned</td></tr><tr><td align="center">98</td><td>古代的</td><td>ancient</td><td>medieval, in the past, once, historical, old, ancient, former</td></tr><tr><td align="center">99</td><td>暂时的</td><td>temporary</td><td>a short time</td></tr><tr><td align="center">100</td><td>截止时间</td><td>deadline</td><td>time pressure, on time</td></tr></tbody></table><h2 id="No-101-No-120"><a href="#No-101-No-120" class="headerlink" title="No.101 - No.120"></a>No.101 - No.120</h2><table><thead><tr><th align="center">序号</th><th>中文意</th><th>考点词</th><th>同义替换 · 真题摘录</th></tr></thead><tbody><tr><td align="center">101</td><td>长久的</td><td>permanent</td><td>long-lasting</td></tr><tr><td align="center">102</td><td>频繁</td><td>more often</td><td>frequent</td></tr><tr><td align="center">103</td><td>年度的</td><td>annual</td><td>every year</td></tr><tr><td align="center">104</td><td>每月</td><td>every month</td><td>monthly, four weeks</td></tr><tr><td align="center">105</td><td>每天</td><td>every day</td><td>daily</td></tr><tr><td align="center">106</td><td>分类</td><td>classify</td><td>category, sort, type, kind</td></tr><tr><td align="center">107</td><td>入口</td><td>entrance</td><td>access, main gate, door</td></tr><tr><td align="center">108</td><td>在..后面</td><td>behind</td><td>back, rear</td></tr><tr><td align="center">109</td><td>在..下面</td><td>below</td><td>under</td></tr><tr><td align="center">110</td><td>在..旁边</td><td>beside</td><td>next to, near, border</td></tr><tr><td align="center">111</td><td>可用的</td><td>available</td><td>have, accessible, not close, open</td></tr><tr><td align="center">112</td><td>无趣的</td><td>boring</td><td>not interesting, boredom</td></tr><tr><td align="center">113</td><td>倾向</td><td>trend</td><td>possibility, likely, tendency</td></tr><tr><td align="center">114</td><td>危险的</td><td>risky</td><td>dangerous, not safe, hazard</td></tr><tr><td align="center">115</td><td>有毒的</td><td>poisonous</td><td>toxic, dangerous</td></tr><tr><td align="center">116</td><td>警报</td><td>warning</td><td>alarm, alert</td></tr><tr><td align="center">117</td><td>谨慎</td><td>care</td><td>caution</td></tr><tr><td align="center">118</td><td>偷窃</td><td>steal</td><td>theft</td></tr><tr><td align="center">119</td><td>保护</td><td>protect</td><td>safeguard, shelter, preserve</td></tr><tr><td align="center">120</td><td>伤害</td><td>injury</td><td>harm, hurt, damage, dangerous, frighten</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> 英语学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> English </tag>
            
            <tag> 单词 </tag>
            
            <tag> 听力 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>雅思 听力同义替换1</title>
      <link href="/2023/06/03/ielts-synonymous-substitution-01/"/>
      <url>/2023/06/03/ielts-synonymous-substitution-01/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>需要提前说明的是，同义替换并不是完全的意思是同义词，只是在阅读当中句子同义替换当中的关键词。</p><h2 id="听力音频"><a href="#听力音频" class="headerlink" title="听力音频"></a>听力音频</h2><p>​<audio src="audio.mp3" controls loop preload="metadata"><br>  你的浏览器不支持 audio 标签。<br></audio></p><h2 id="No-1-No-20"><a href="#No-1-No-20" class="headerlink" title="No.1 - No.20"></a>No.1 - No.20</h2><table><thead><tr><th align="center">序号</th><th>中文意</th><th>考点词</th><th>同义替换 · 真题摘录</th></tr></thead><tbody><tr><td align="center">1</td><td>预订</td><td>reserve</td><td>book</td></tr><tr><td align="center">2</td><td>提前</td><td>in advance</td><td>ahead, before</td></tr><tr><td align="center">3</td><td>必须</td><td>have to</td><td>must, should, need, require, necessary, be supposed to, demand, order</td></tr><tr><td align="center">4</td><td>调整</td><td>adjust</td><td>change, alter, modify, shift, revert</td></tr><tr><td align="center">5</td><td>和</td><td>and</td><td>and also, as well as, with, in addition</td></tr><tr><td align="center">6</td><td>但是</td><td>but</td><td>however, yet, instead</td></tr><tr><td align="center">7</td><td>因为</td><td>because</td><td>why, as a result, therefore, cause</td></tr><tr><td align="center">8</td><td>多样性</td><td>diversity</td><td>a variety of, a number of, a range of, various, different</td></tr><tr><td align="center">9</td><td>费用</td><td>fee</td><td>money, cost, price, expense, budget, fund, financial, economic</td></tr><tr><td align="center">10</td><td>建立</td><td>establish</td><td>build, create, construct, set up, install</td></tr><tr><td align="center">11</td><td>移动</td><td>transfer</td><td>move, relocate</td></tr><tr><td align="center">12</td><td>栖息地</td><td>habitat</td><td>live, territory</td></tr><tr><td align="center">13</td><td>国际的</td><td>international</td><td>countries, continents, global</td></tr><tr><td align="center">14</td><td>出口</td><td>export</td><td>abroad, overseas</td></tr><tr><td align="center">15</td><td>植被</td><td>vegetation</td><td>plant, tree, forest, botanic</td></tr><tr><td align="center">16</td><td>动物</td><td>animal</td><td>mammal, wildlife, creature, species</td></tr><tr><td align="center">17</td><td>特点</td><td>feature</td><td>characteristic, trait, property</td></tr><tr><td align="center">18</td><td>迁徙</td><td>emigrate</td><td>move, go away</td></tr><tr><td align="center">19</td><td>食物</td><td>food</td><td>feed on, eat</td></tr><tr><td align="center">20</td><td>过敏</td><td>allergic</td><td>can’t eat</td></tr></tbody></table><h2 id="No-21-No-40"><a href="#No-21-No-40" class="headerlink" title="No.21 - No.40"></a>No.21 - No.40</h2><table><thead><tr><th align="center">序号</th><th>中文意</th><th>考点词</th><th>同义替换 · 真题摘录</th></tr></thead><tbody><tr><td align="center">21</td><td>健康</td><td>fitness</td><td>health, medical, sickness, illness, gym</td></tr><tr><td align="center">22</td><td>传统</td><td>tradition</td><td>custom, convention, local culture, lifestyle</td></tr><tr><td align="center">23</td><td>娱乐</td><td>entertainment</td><td>recreation, leisure</td></tr><tr><td align="center">24</td><td>媒体</td><td>press</td><td>media, TV, newspaper, radio</td></tr><tr><td align="center">25</td><td>在线</td><td>online</td><td>internet, website</td></tr><tr><td align="center">26</td><td>宣传</td><td>publicity</td><td>website, media, news, marketing</td></tr><tr><td align="center">27</td><td>照片</td><td>picture</td><td>photo, photograph, camera, image</td></tr><tr><td align="center">28</td><td>珠宝</td><td>jewelry</td><td>rings, bracelets, necklaces, precious stones, gem, diamond, luxurious</td></tr><tr><td align="center">29</td><td>艺术品</td><td>artwork</td><td>painting, drawing, craft</td></tr><tr><td align="center">30</td><td>雕像</td><td>statue</td><td>sculpture, carving</td></tr><tr><td align="center">31</td><td>电影</td><td>movie</td><td>film, documentary, cinema</td></tr><tr><td align="center">32</td><td>地质</td><td>geology</td><td>cliff, fossil, rock, landscape</td></tr><tr><td align="center">33</td><td>乡村的</td><td>countryside</td><td>rural area</td></tr><tr><td align="center">34</td><td>城市的</td><td>urban</td><td>city, metropolitan</td></tr><tr><td align="center">35</td><td>海岸线</td><td>coastline</td><td>shore, seaside</td></tr><tr><td align="center">36</td><td>环境</td><td>environment</td><td>neighborhood, surrounding</td></tr><tr><td align="center">37</td><td>吵闹的</td><td>noisy</td><td>disturbing, not quiet</td></tr><tr><td align="center">38</td><td>容量</td><td>capacity</td><td>volume, room, space, size</td></tr><tr><td align="center">39</td><td>户外的</td><td>outdoor</td><td>gardens, park, open air</td></tr><tr><td align="center">40</td><td>住宿</td><td>accommodation</td><td>living, dwelling, dorm</td></tr></tbody></table><h2 id="No-41-No-60"><a href="#No-41-No-60" class="headerlink" title="No.41 - No.60"></a>No.41 - No.60</h2><table><thead><tr><th align="center">序号</th><th>中文意</th><th>考点词</th><th>同义替换 · 真题摘录</th></tr></thead><tbody><tr><td align="center">41</td><td>地点</td><td>place</td><td>where, spot, location, area</td></tr><tr><td align="center">42</td><td>附近</td><td>near</td><td>close, not far from, nearby</td></tr><tr><td align="center">43</td><td>偏远的</td><td>remote</td><td>isolate, distant</td></tr><tr><td align="center">44</td><td>优点</td><td>advantage</td><td>benefit, positive, good thing, strength</td></tr><tr><td align="center">45</td><td>缺点</td><td>disadvantage</td><td>drawback, shortcoming, negative, problem</td></tr><tr><td align="center">46</td><td>教育</td><td>education</td><td>schools, colleges, institution</td></tr><tr><td align="center">47</td><td>公众</td><td>ordinary people</td><td>people, inhabitants, the public, men and women</td></tr><tr><td align="center">48</td><td>学生</td><td>student</td><td>pupil, undergraduate, postgraduate</td></tr><tr><td align="center">49</td><td>目标</td><td>purpose</td><td>aim, goal, target, key areas</td></tr><tr><td align="center">50</td><td>学习</td><td>learn</td><td>acquire, get obtain</td></tr><tr><td align="center">51</td><td>结构大纲</td><td>structure</td><td>outline, framework</td></tr><tr><td align="center">52</td><td>参考资料</td><td>reference materials</td><td>books, journals, magazines</td></tr><tr><td align="center">53</td><td>广泛</td><td>extensive</td><td>comprehensive, a lot of, many</td></tr><tr><td align="center">54</td><td>能力专长</td><td>expertise</td><td>ability, skill</td></tr><tr><td align="center">55</td><td>团队</td><td>group</td><td>team</td></tr><tr><td align="center">56</td><td>与…相关</td><td>associate</td><td>relate to, connect, link</td></tr><tr><td align="center">57</td><td>方法</td><td>approach</td><td>way, how, method</td></tr><tr><td align="center">58</td><td>鼓励促进</td><td>motivate</td><td>encourage, stimulate, keep alive, boost, help</td></tr><tr><td align="center">59</td><td>提升</td><td>improve</td><td>develop, promote</td></tr><tr><td align="center">60</td><td>低估</td><td>overlook</td><td>underestimate, neglect</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> 英语学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> English </tag>
            
            <tag> 单词 </tag>
            
            <tag> 听力 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>魔塔24层——我在博客打游戏</title>
      <link href="/2023/04/02/swf-game-mota24/"/>
      <url>/2023/04/02/swf-game-mota24/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>第一次尝试在博客里面放置游戏内容，等以后有空了可以写写这个效果是如何做出来的。总之多弄弄游戏，日后方便摸鱼。</p><p>游戏的内容是我小时候最喜欢的魔塔系列~ 24层魔塔是最经典的魔塔之一了，也是我第一个通关的魔塔。</p><p>如果刚进去游戏只看到是黑的，可以点一下图片，这可能是 ruffle 的 bug。点击后就可以正常运行游戏了。</p><div style="position: relative; width: 100%; height: 0; padding-bottom: 75%; margin: 20px 0">  <iframe src="https://ruffle-swf-player.vercel.app/swf-games/mota24/" frameborder="0" scrolling="no" style="position: absolute; width: 100%; height: 100%; left: 0; top: 0;"></iframe></div><p>本游戏并非本人制作，源文件为网络资料，如有侵权，请联系我，我会在收到侵权告知后24小时内删除。</p>]]></content>
      
      
      <categories>
          
          <category> 小游戏 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 游戏 </tag>
            
            <tag> Ruffle </tag>
            
            <tag> Flash </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>你好呀!</title>
      <link href="/2021/02/03/hello/"/>
      <url>/2021/02/03/hello/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="Hello-欢迎来到我的博客！"><a href="#Hello-欢迎来到我的博客！" class="headerlink" title="Hello&#x2F;欢迎来到我的博客！"></a>Hello&#x2F;欢迎来到我的博客！</h2><p>有很多想说的，要是能在这个位置向你简要介绍下博客的作用，就好了！</p><h2 id="Watatsumi-Island-海祇岛的珊瑚森林？"><a href="#Watatsumi-Island-海祇岛的珊瑚森林？" class="headerlink" title="Watatsumi Island?&#x2F;海祇岛的珊瑚森林？"></a>Watatsumi Island?&#x2F;海祇岛的珊瑚森林？</h2><p>海祇岛是游戏《原神》中的一个神秘而美丽的岛屿，位于稻妻的西南部。它被珊瑚宫统治，是一个充满着独特美丽的地方。</p><p>海祇岛的地貌以山地为主，岛屿中央有一座高大的珊瑚宫。海祇岛的气候炎热潮湿，植被茂密，生长着许多热带植物和珊瑚。海祇岛的人民信仰海祇大御神，他们相信海祇大御神是海洋的主宰，能够保佑他们平安和繁荣。海祇岛的文化独特，有着自己的语言、文字和艺术。</p><p><s>起这个名字更多暴露了我是心海厨的事实。</s>我写下这些文字的时候，可能原神已经没有往日的荣光了，但这也是我的记忆——一如我上高中读大学了还会去回味小学时候看过的小说漫画，还会去重新玩小学时候喜欢玩的游戏。原神正是我大学生涯中，相当重要的一部分了。</p><p>珊瑚是美丽的，正如我希望我博客中的每一篇稿子，都能带来「有用」的内容，而又不失美观。虽然我知道我写下来的东西，大概率就是往昔日的互联网中，再倾倒一笔垃圾，但互联网精神也会不断鞭策我，让我想尽办法产出独一无二的，属于我的高质量内容。</p><h2 id="About-me-来简单认识下"><a href="#About-me-来简单认识下" class="headerlink" title="About me&#x2F;来简单认识下!"></a>About me&#x2F;来简单认识下!</h2><p>(◍•ᴗ•◍)，</p><ul><li>我一般会使用「海星来来」作为我的网名，对应的英文名字叫 Starfish_DL。海星来源于美食大战老鼠游戏的一张神卡——炭烧海星！我的正式英文名来源于小学老师起的 Tony，但已经很少使用了（我并不喜欢这个英文名字）。目前我使用日语的罗马拼写办法，写作 Hidote-Rairai，会逐步替换 Starfish_DL 这个原来的英文名。</li><li>关于我的性格，我不是很喜欢无意义的交流，基本上只和小圈子里面的人有密切关系，平时不会主动联系其他人，因为我觉得这是一种对他人私生活的冒犯。当然，这不影响你来找我聊天，聊技术，聊音乐，聊游戏都可以，我非常欢迎。</li><li>认识我的人应该不少，实话来说，我在很多方面的同学和朋友常常有着天差地远的印象，这太正常不过了，因为从小学，到初中，到高中，到大二以上，以及工作之后，我的性格和三观都发生了非常大的改观。我和几个曾经同学在大学重新认识了下，他们一个个觉得不可思议。</li></ul><br><h2 id="What-am-I-doing-我现在在做啥"><a href="#What-am-I-doing-我现在在做啥" class="headerlink" title="What am I doing&#x2F;我现在在做啥?"></a>What am I doing&#x2F;我现在在做啥?</h2><ul><li>我目前正在努力参加着一款名为「程序世界」的游戏，这款游戏的主要玩法是团队联合作战，大家根据自己不同的职业，使用着自己手上不同的武器和防具和名为「业务需求」的怪兽作战。在公元 2022 年前后，我先后以见习生的身份，来到会社做一名程序员，先后在两个团队工作，尽管我对我手上的武器——代码，掌握还不胜熟练。但是我加入的团队在我看来都是非常适合我，能帮助我快速成长的团队。</li><li>现在我已经真正获得了大家的认可，成为了一名合格的程序员。哎，但是我要走的路还有很长很长呢！</li></ul><table><thead><tr><th>个人信息</th><th>个人信息介绍</th></tr></thead><tbody><tr><td>职业</td><td>写程序的小萌新</td></tr><tr><td>目前职业等级</td><td>见习程序员（满级应该是大佬级吧&#x3D;）</td></tr><tr><td>职业技能点（比较会๐•ᴗ•๐）</td><td>JavaScript、React、HTML</td></tr><tr><td>职业技能点（不太会的亚子,,ԾԾ,,）</td><td>Vue</td></tr><tr><td>战斗行为模式</td><td>后期选手，尤其不擅长短轴战斗。<br>长期战斗情况下前期劣势比较大，但是加速度极大并且可以累积。<br>大后期优势极大，喜欢跳出舒适区，但是刚刚跳出舒适区的时候常常会陷入迷茫。</td></tr><tr><td>弱点</td><td>基础知识仍然需要精进。当你使用他不知道的知识有理有据的说服他，<br>他的玻璃心就会碎一地。但他在这种情况下会快速掌握这类知识，<br>所以一个技能点只能对他用一次哦！<br>还有就是急躁，总是陷入各类「幻想时间」</td></tr></tbody></table><p>弄了一个很尴尬的总结雷达图！(已删除)</p><p>现实世界的我，从武大毕业，没有选择保研，而是选择成为一名打工人。我目前在<a href="https://bytedance.com/">字节跳动</a>工作，目前主要维护一个比较知名的图文 APP 相关的业务（<a href="https://toutiao.com/">非常欢迎你访问它</a>）。它给我带来了非常大的收获和进步，也是我突破我自身信息茧房很关键的一步。</p><p>唔姆，除了写代码，我平时还会主要搞一点自己喜欢的东西。比如平时会努力学习外语，和来自世界各地的朋友一起聊天，我觉得这样子可以拓展我的眼界。借此，我非常渴望出去走走，顺便要是可以留学——这也是我自小以来的梦想，那就再好不过了。</p><p>在虚拟世界，除了代码相关的工作，我也会偶尔进行视频和音乐方面的创作。极个别时候会输出一些技术的文章，它们都会出现在我的博客中，但是这些内容应该会比较少。</p><p>现实世界的我会一点乐器，会一点点钢琴。我时刻会幻想自己坐在舞台中央，周边是一支交响乐队，演奏者各种各样的协奏曲，这也是我最喜欢的音乐。</p><br><h2 id="My-favorite-我喜欢这些内容"><a href="#My-favorite-我喜欢这些内容" class="headerlink" title="My favorite&#x2F;我喜欢这些内容!"></a>My favorite&#x2F;我喜欢这些内容!</h2><ul><li>二次元</li></ul><div align="center">  <img height="160" width="300" src="../../../../loading2.svg" data-original="/2021/02/03/hello/04.gif">  <img height="160" width="300" src="../../../../loading2.svg" data-original="/2021/02/03/hello/05.gif"></div>像这样的可爱的女孩子，快，多贴贴！<ul><li>古典&#x2F;近现代以钢琴为中心的西方音乐</li></ul><div align="center">  <img width="120" height="180" src="../../../../loading2.svg" data-original="/2021/02/03/hello/01.png">  <img src="../../../../loading2.svg" data-original="/2021/02/03/hello/03.png"></div>近代风格，这两位是重量级。<div align="center">  <img src="../../../../loading2.svg" data-original="/2021/02/03/hello/02.jpeg">  <img src="../../../../loading2.svg" data-original="/2021/02/03/hello/07.jpeg"></div>古典风格，别有一番韵味<ul><li>除此之外，好听的纯音乐自然也不能少<ul><li>例如游戏《原神》中的稻妻主城，海祇岛，还有须弥主题的专辑音乐。</li><li>还有东方 Project 系列的音乐，Foxtail-Grass Studio 的音乐风格我非常喜欢。</li><li>各种各样的纯音乐，例如班得瑞啥的，遇到了就收藏起来了。</li></ul></li></ul><h2 id="No-Game-No-Life-来一起玩游戏"><a href="#No-Game-No-Life-来一起玩游戏" class="headerlink" title="No Game, No Life&#x2F;来一起玩游戏!"></a>No Game, No Life&#x2F;来一起玩游戏!</h2><p>目前玩的游戏已经不多了，主机游戏更是没办法抽出整块的时间去玩。所以现在已经转为轻度玩家了！如果感兴趣的话，欢迎加我米家的两款游戏的好友，之后一起玩！</p><p>原神 uid：114491926（已弃坑）<br>崩坏星穹铁道 uid：100013319</p><br><h2 id="看到这儿的朋友祝你每一天都能拥有好心情"><a href="#看到这儿的朋友祝你每一天都能拥有好心情" class="headerlink" title="看到这儿的朋友祝你每一天都能拥有好心情!"></a>看到这儿的朋友祝你每一天都能拥有好心情!</h2><p>如果说，我们众生是一对相遇在宇宙交汇点的星辰，那么路过的你就是我生命中耀眼的恒星。相逢是缘，希望你可以从这个网站发现一些对你有用的内容，或者一些乐趣，那我便可知道，创建这个博客并不仅仅是我一时兴起的举动，更是一段美妙旅程的开端。祝你每天都能拥有好心情！</p><div align="center">  <img height="160" width="300" src="../../../../loading2.svg" data-original="/2021/02/03/hello/09.gif"></div>]]></content>
      
      
      <categories>
          
          <category> 碎碎念 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 碎碎念 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello, world!</title>
      <link href="/2021/02/02/hello-world/"/>
      <url>/2021/02/02/hello-world/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>在计算机编程的世界里，有一句经典的问候：“Hello, World!” 这个简单而又耳熟能详的短语，几乎是每一个程序员的第一步。它标志着我们的编程之旅的开始，也代表着我们对计算机世界的探索和创造力的展示。</p><p>第一个程序通常是每个程序员的入门仪式。它是我们踏入编程领域的第一步，也是我们与计算机交流的起点。它的形式简单，通常是一个简短的代码片段，用于在计算机屏幕上输出“Hello, World!” 这个简单而又有力的问候。虽然这个程序在功能上并不复杂，但它背后蕴含着无限的意义。</p><p>首先，第一个程序代表着我们对编程的热情和渴望。当我们第一次敲下这段代码并运行它时，我们迎来了令人激动的时刻。我们从那一刻起，开始了对计算机科学的探索和追求。无论是想要成为一名软件工程师、数据科学家还是网络安全专家，第一个程序都是我们迈向成功的第一步。</p><p>其次，第一个程序是我们与计算机世界建立联系的纽带。计算机是一种强大而又复杂的工具，而编程则是我们与计算机进行交流的方式。通过编写第一个程序，我们向计算机发送了一条简单的消息，它回应我们并将我们的问候展示在屏幕上。这种交互让我们意识到编程的力量，并激发我们对计算机科学更深层次的探索。</p><p>在今天，博客创立的第一天，我将这篇博客命名为 Hello，world。这大抵是程序员的浪漫之一吧。在博客世界中，第一篇博客具有特殊的意义。它标志着我们在技术领域中的存在。我们可以使用博客来记录我们编程的旅程、分享我们的学习经验和技术见解。第一个程序的博客文章不仅是对我们编程生涯的开端的回顾，更是向其他人展示我们的热情和技能的机会。通过博客，我们可以与其他程序员和技术爱好者分享我们的成就和困惑，建立起一个相互学习和成长的社区。</p><p>当然，我本人并没有具有那么宏伟的理想，只希望这个小小的博客网站能记录下我的点点滴滴，就足够了。</p>]]></content>
      
      
      <categories>
          
          <category> 碎碎念 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 碎碎念 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>My confession 我的忏悔</title>
      <link href="/2021/02/02/my-confession/"/>
      <url>/2021/02/02/my-confession/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><div align="center">  <img src="../../../../loading2.svg" data-original="/2021/02/02/my-confession/confession.jpeg"></div><p>Confession heals, confession justifies, confession grants pardon of sin, all hope consists in confession; in confession there is a chance for mercy.</p><p>谨以此文，纪念我那段已远去的旧时光。忏悔不是懦弱的表现，它是我直面过去的钥匙。</p><p>确实，都已经把该说的都说出来了，秘密藏在心底会让我更不好受。虽然说博客没有人看，旧时光的朋友们也根本看不到这篇文章。但这不重要。</p><p>现在想来，都只是不成熟的想法罢了。忏悔的意义是让我成长。</p><p>话说现在我正好也在玩原神，它更新到了枫丹版本。歌剧院是让人们接受审判的地方，梅洛彼得堡是人们服刑的地方。但当人们洗刷了自己的罪名，等待着他们的就是美好与阳光，还有——喷泉。所以，放轻松，让自己开心点吧。嗯嗯，来一首喷泉下的 BGM 助助兴！</p><audio src="audio.mp3" controls loop preload="metadata">  你的浏览器不支持 audio 标签。</audio><h4 id="01"><a href="#01" class="headerlink" title="01"></a>01</h4><p>在高二至高三的那段时间，我的精神状态发生了非常大的变化——我在那个时候将我的同学都暗地里视作对手，并且与他们展开激烈竞争，应该属于非常典型的社会达尔文主义的行为。在那段时间里面，我的情绪被一次又一次的考试和排位深刻影响，但是在那个时候我十分推崇这种行为，并且会非常主观的排斥一些同学，说出的话经常带有一定的攻击性。</p><ul><li>当初的早自习，大家都在一个教室里面读书，实际上我读书的时候我并不能很清楚的听到自己的声音——因此我觉得那时候的读书只是为了锻炼肌肉记忆。为了可以让其他人读书的声音小一些，我曾经和其他同学发生过争论的行为，影响了和同学们之间的感情。</li></ul><p>虽然这样的行为，可能给我当时带来了一时的进步与成绩。但是讲出来的话其实无形之中非常拉低我带给同学们的印象——更何况，我高考的成绩并不是我想要的。高中之后我很少联系同学，但是我的同学们，在那个时间的行为，言语，举止，依旧是我要去学习的榜样。</p><p>与此同时，尽管我在那个时候表现非常糟糕，有很多同学还是非常愿意在那个时间和我做各种各样的交流，他们之中甚至还有一些非常关心我当时精神状态的——可能你们自己都不记得了，但是东来会一直记得。</p><ul><li>虽然我比较反感早自习，但是在当时有一位同桌同学看见我的精神状态不对，就主动问我是不是她读书的声音大了。最后她去了清华大学，自此我们的轨迹就此两别，我可能永远也没办法达到她的高度。但只要有能帮上忙的地方，我一定会义不容辞的。</li></ul><p>虽然无法重头再来，但是我仍然学习到了，做人首先看性格和三观。易怒，玻璃心，情绪波动大，这几样是万万不可有。我已经失去了太多东西，但只要我能充分认识到我缺失的地方，就还为时不晚。我随时都能重新开始。</p><h4 id="02"><a href="#02" class="headerlink" title="02"></a>02</h4><p>其实现在想来，与其把精力花费在这些鸡毛蒜皮的小事上，不如多了解一下高考之外的世界。但以当时我的见识来看，读这些学校需要非常高昂的开销（实际上并没有想象中的那么多）。即便是我高考可能没有发挥的比较好，在2019年的入学我应该还是可以做一些选校上的变通，例如2019年的香港科技大学我当时应该有希望拿到奖学金，但是2022它已经是复交的分数了。</p><p>尽管港科需要的学费高昂，但是首先——奖学金是完全有可能的，我不怀疑我的学习能力。其次，哪怕真的到了贷款读书的程度，毕业后我仍然有能力将这笔钱赚回来——这是已经实现的事情。</p><p>真的，哪怕我再多一点点魄力，多了解了解外面的世界，就好。但是人生没有后悔药，我能做到的就是学习了当机立断，和接受多元化的信息，不当井底之蛙。</p><h4 id="03"><a href="#03" class="headerlink" title="03"></a>03</h4><p>在我的心中，一直有一个完美的形象。2022年《莉可莉丝》动漫播出之后，我一直将锦木千束作为我的头像。但是这个形象曾经在现实世界中存在原型，那是在2019年高中毕业之前。</p><p>进高中以前，她的能力并不突出。但是她身上的一些行为对我产生了足够的吸引，我能感觉得到她其实也非常好强，并且足够努力。这样的人在当时的环境下不少，但是她把她的心思隐藏的非常好。她身上的这种特质是我一直想要追求的东西。</p><p>有同学看出了我对她产生的异常，我说，我非常欣赏她。</p><p>我想大多数同学在那个时间节点觉得她存在感不高，连我都可以说我的存在感比她高不少。但这种情况只是一直维持到了高中开学，她的成绩在高中突飞猛进。而在高一因为一些事情，我的成绩暂时落后了。</p><p>与其说我后续的重新崛起是因为我想考个好大学，不如说我是受了非常大的刺激，想和她在高中这样的环境中一较高下。揣着这个念头，我在高二的时候的成绩进步取得了我自己都完全没有想到的进展。我甚至开始畅想着自己可以读清华北大的本科了——在以前和现在，这件事情我甚至没办法去想象它。</p><p>有一天，我偶尔听到她的同学说她提到我了，说我已经两次比她考的好了。那一天我真的好开心啊…真的，<del>可能是我第一次觉得付出了有回报</del>？呃呃，但至少有一件事情是真的，我和她的相互竞争，她也是在看着的。我要求不多，这足够了。</p><p>随后，她在高三一路努力，最后高考考的非常好。我则是一个截然相反的结局。</p><p>我不知道我这样的结局她是否也看到了呢…但无论如何，都没有意义，因为我和她上的学校层次差距实在是太大，以至于无论是学习的专业，还是后续选择的个人发展，都已经几乎没有任何可能带来我和她的人生线继续交织的机会。</p><p>和她之间的竞争不足以让她给我留下这么深的印象。我曾经尝试和她交流过几次（我甚至一度怀疑她是不是也想和我交流，但是我也一直觉得我自我意识过剩）。但是为数不多的交流给我带来了非常深刻的印象。</p><p>在交流的过程中，我会有着非常明显的感觉：我和她之间无论是言行，还有说话的方式，我很清晰的感觉到我处于下风的状态。她不强势，她如同她的名字一般待人温和，说话总是带着笑盈盈的感觉，但是说出来的话总是非常无懈可击，尤其是在那会我确实攻击力比较强，所以一直显得我比较相形见绌。</p><p>我之前曾经也有过对她的言语攻击，但是她后来并没有主动追究我的责任。自那以后，我慢慢开始关注如何与女生打交道，尤其是有一些特别需要注意的地方。这些如果没有她，说不定在如今男女对立日益盛行的时代，我可能就会在异性问题上吃大亏。</p><p>所以说，除了一段暗恋之外，我还得到了什么呢？唔姆，她的心态非常成熟——虽然说想达到她这样的状态需要非常多的努力，但是我至少可以有一个进步的方向。其次，和她打交道和其它女生打交道确实也让我意识到了，当一个男生在女生面前该如何把控好自己，学会尊重女生，和女生打交道的时候主动保持好边界感（<del>存疑，也可能是我至今单身的罪魁祸首</del>），但这么做可以避免不必要的麻烦。</p>]]></content>
      
      
      
        <tags>
            
            <tag> 碎碎念 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
